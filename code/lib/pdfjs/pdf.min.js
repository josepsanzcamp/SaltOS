(function(d,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=b():d["pdfjs-dist/build/pdf"]=d.pdfjsLib=b()})(this,function(){return function(d){function b(g){if(a[g])return a[g].exports;var k=a[g]={i:g,l:!1,exports:{}};d[g].call(k.exports,k,k.exports,b);k.l=!0;return k.exports}var a={};b.m=d;b.c=a;b.d=function(a,k,l){b.o(a,k)||Object.defineProperty(a,
k,{enumerable:!0,get:l})};b.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,k){k&1&&(a=b(a));if(k&8||k&4&&"object"===typeof a&&a&&a.__esModule)return a;var l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:a});if(k&2&&"string"!=typeof a)for(var d in a)b.d(l,d,function(b){return a[b]}.bind(null,d));return l};b.n=function(a){var k=
a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(k,"a",k);return k};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=0)}([function(d,b,a){var d=a(1),g=a(147),k=a(162),l=a(163),o=a(151),r=a(164),m=a(156),n=a(153);if(a(4)()){var s=a(165).PDFNodeStream;g.setPDFNetworkStreamFactory(function(a){return new s(a)})}else{var y=a(168).PDFNetworkStream,j;o.isFetchSupported()&&(j=a(169).PDFFetchStream);g.setPDFNetworkStreamFactory(function(a){return j&&
o.isValidFetchUrl(a.url)?new j(a):new y(a)})}b.build=g.build;b.version=g.version;b.getDocument=g.getDocument;b.LoopbackPort=g.LoopbackPort;b.PDFDataRangeTransport=g.PDFDataRangeTransport;b.PDFWorker=g.PDFWorker;b.renderTextLayer=k.renderTextLayer;b.AnnotationLayer=l.AnnotationLayer;b.createPromiseCapability=d.createPromiseCapability;b.PasswordResponses=d.PasswordResponses;b.InvalidPDFException=d.InvalidPDFException;b.MissingPDFException=d.MissingPDFException;b.SVGGraphics=r.SVGGraphics;b.NativeImageDecoding=
d.NativeImageDecoding;b.CMapCompressionType=d.CMapCompressionType;b.PermissionFlag=d.PermissionFlag;b.UnexpectedResponseException=d.UnexpectedResponseException;b.OPS=d.OPS;b.VerbosityLevel=d.VerbosityLevel;b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES;b.createValidAbsoluteUrl=d.createValidAbsoluteUrl;b.createObjectURL=d.createObjectURL;b.removeNullCharacters=d.removeNullCharacters;b.shadow=d.shadow;b.Util=d.Util;b.ReadableStream=d.ReadableStream;b.URL=d.URL;b.RenderingCancelledException=o.RenderingCancelledException;
b.getFilenameFromUrl=o.getFilenameFromUrl;b.LinkTarget=o.LinkTarget;b.addLinkAttributes=o.addLinkAttributes;b.loadScript=o.loadScript;b.PDFDateString=o.PDFDateString;b.GlobalWorkerOptions=m.GlobalWorkerOptions;b.apiCompatibilityParams=n.apiCompatibilityParams},function(d,b,a){function g(i,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(i,e.key,e)}}function k(i,c,e){c&&g(i.prototype,c);e&&g(i,e);return i}function l(i){l=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};return l(i)}function o(i){h>=p.WARNINGS&&console.log("Warning: ".concat(i))}function r(i){throw Error(i);}function m(i,c){i||r(c)}function n(i){m("string"===typeof i,"Invalid argument for stringToBytes");for(var c=i.length,e=new Uint8Array(c),a=0;a<c;++a)e[a]=i.charCodeAt(a)&255;return e}function s(i){if(void 0!==
i.length)return i.length;m(void 0!==i.byteLength);return i.byteLength}Object.defineProperty(b,"__esModule",{value:!0});b.arrayByteLength=s;b.arraysToBytes=function(i){var c=i.length;if(1===c&&i[0]instanceof Uint8Array)return i[0];for(var e=0,a=0;a<c;a++)e+=s(i[a]);for(var a=0,e=new Uint8Array(e),f=0;f<c;f++){var h=i[f];h instanceof Uint8Array||(h="string"===typeof h?n(h):new Uint8Array(h));var t=h.byteLength;e.set(h,a);a+=t}return e};b.assert=m;b.bytesToString=function(i){m(null!==i&&"object"===l(i)&&
void 0!==i.length,"Invalid argument for bytesToString");var c=i.length;if(8192>c)return String.fromCharCode.apply(null,i);for(var e=[],a=0;a<c;a+=8192){var f=Math.min(a+8192,c),f=i.subarray(a,f);e.push(String.fromCharCode.apply(null,f))}return e.join("")};b.createPromiseCapability=function(){var c=Object.create(null),a=!1;Object.defineProperty(c,"settled",{get:function(){return a}});c.promise=new Promise(function(e,f){c.resolve=function(c){a=!0;e(c)};c.reject=function(c){a=!0;f(c)}});return c};b.getVerbosityLevel=
function(){return h};b.info=function(c){h>=p.INFOS&&console.log("Info: ".concat(c))};b.isArrayBuffer=function(c){return"object"===l(c)&&null!==c&&void 0!==c.byteLength};b.isArrayEqual=function(c,a){return c.length!==a.length?!1:c.every(function(c,i){return c===a[i]})};b.isBool=function(c){return"boolean"===typeof c};b.isEmptyObj=function(c){for(var a in c)return!1;return!0};b.isNum=function(c){return"number"===typeof c};b.isString=function(c){return"string"===typeof c};b.isSpace=function(c){return 32===
c||9===c||13===c||10===c};b.isSameOrigin=function(c,a){var e;try{if(e=new j.URL(c),!e.origin||"null"===e.origin)return!1}catch(f){return!1}var h=new j.URL(a,e);return e.origin===h.origin};b.createValidAbsoluteUrl=function(c,a){if(!c)return null;try{var e=a?new j.URL(c,a):new j.URL(c),f;a:if(e)switch(e.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":f=!0;break a;default:f=!1}else f=!1;if(f)return e}catch(h){}return null};b.isLittleEndian=function(){var c=new Uint8Array(4);
c[0]=1;return 1===(new Uint32Array(c.buffer,0,1))[0]};b.isEvalSupported=function(){try{return new Function(""),!0}catch(c){return!1}};b.log2=function(c){return 0>=c?0:Math.ceil(Math.log2(c))};b.readInt8=function(c,a){return c[a]<<24>>24};b.readUint16=function(c,a){return c[a]<<8|c[a+1]};b.readUint32=function(c,a){return(c[a]<<24|c[a+1]<<16|c[a+2]<<8|c[a+3])>>>0};b.removeNullCharacters=function(a){return"string"!==typeof a?(o("The argument for removeNullCharacters must be a string."),a):a.replace(c,
"")};b.setVerbosityLevel=function(c){Number.isInteger(c)&&(h=c)};b.shadow=function(c,a,e){Object.defineProperty(c,a,{value:e,enumerable:!0,configurable:!0,writable:!1});return e};b.string32=function(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)};b.stringToBytes=n;b.stringToPDFString=function(c){var a=c.length,f=[];if("\u00fe"===c[0]&&"\u00ff"===c[1])for(var h=2;h<a;h+=2)f.push(String.fromCharCode(c.charCodeAt(h)<<8|c.charCodeAt(h+1)));else for(h=0;h<a;++h){var m=e[c.charCodeAt(h)];
f.push(m?String.fromCharCode(m):c.charAt(h))}return f.join("")};b.stringToUTF8String=function(c){return decodeURIComponent(escape(c))};b.utf8StringToString=function(c){return unescape(encodeURIComponent(c))};b.warn=o;b.unreachable=r;Object.defineProperty(b,"ReadableStream",{enumerable:!0,get:function(){return y.ReadableStream}});Object.defineProperty(b,"URL",{enumerable:!0,get:function(){return j.URL}});b.createObjectURL=b.FormatError=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=
b.StreamType=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.NativeImageDecoding=b.MissingPDFException=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationStateModelType=b.AnnotationReviewState=b.AnnotationReplyType=b.AnnotationMarkedState=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;a(2);var y=a(143),j=a(145);b.IDENTITY_MATRIX=
[1,0,0,1,0,0];b.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];b.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};b.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.ImageKind={GRAYSCALE_1BPP:1,
RGB_24BPP:2,RGBA_32BPP:3};b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};b.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};b.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",
CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};b.AnnotationReplyType={GROUP:"Group",REPLY:"R"};b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,
RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};b.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};
var p={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=p;b.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,
endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,
setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,
paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var h=p.WARNINGS,d=function(){function c(a,e){this.name="PasswordException";this.message=a;this.code=e}c.prototype=Error();return c.constructor=c}();b.PasswordException=
d;d=function(){function c(a,e){this.name="UnknownErrorException";this.message=a;this.details=e}c.prototype=Error();return c.constructor=c}();b.UnknownErrorException=d;d=function(){function c(a){this.name="InvalidPDFException";this.message=a}c.prototype=Error();return c.constructor=c}();b.InvalidPDFException=d;d=function(){function c(a){this.name="MissingPDFException";this.message=a}c.prototype=Error();return c.constructor=c}();b.MissingPDFException=d;d=function(){function c(a,e){this.name="UnexpectedResponseException";
this.message=a;this.status=e}c.prototype=Error();return c.constructor=c}();b.UnexpectedResponseException=d;d=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="FormatError";return c.constructor=c}();b.FormatError=d;d=function(){function c(a){this.name="AbortException";this.message=a}c.prototype=Error();return c.constructor=c}();b.AbortException=d;var c=/\x00/g,f=["rgb(",0,",",0,",",0,")"],d=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
}k(c,null,[{key:"makeCssRgb",value:function(c,a,e){f[1]=c;f[3]=a;f[5]=e;return f.join("")}},{key:"transform",value:function(c,a){return[c[0]*a[0]+c[2]*a[1],c[1]*a[0]+c[3]*a[1],c[0]*a[2]+c[2]*a[3],c[1]*a[2]+c[3]*a[3],c[0]*a[4]+c[2]*a[5]+c[4],c[1]*a[4]+c[3]*a[5]+c[5]]}},{key:"applyTransform",value:function(c,a){return[c[0]*a[0]+c[1]*a[2]+a[4],c[0]*a[1]+c[1]*a[3]+a[5]]}},{key:"applyInverseTransform",value:function(c,a){var e=a[0]*a[3]-a[1]*a[2];return[(c[0]*a[3]-c[1]*a[2]+a[2]*a[5]-a[4]*a[3])/e,(-c[0]*
a[1]+c[1]*a[0]+a[4]*a[1]-a[5]*a[0])/e]}},{key:"getAxialAlignedBoundingBox",value:function(a,e){var f=c.applyTransform(a,e),h=c.applyTransform(a.slice(2,4),e),m=c.applyTransform([a[0],a[3]],e),t=c.applyTransform([a[2],a[1]],e);return[Math.min(f[0],h[0],m[0],t[0]),Math.min(f[1],h[1],m[1],t[1]),Math.max(f[0],h[0],m[0],t[0]),Math.max(f[1],h[1],m[1],t[1])]}},{key:"inverseTransform",value:function(c){var a=c[0]*c[3]-c[1]*c[2];return[c[3]/a,-c[1]/a,-c[2]/a,c[0]/a,(c[2]*c[5]-c[4]*c[3])/a,(c[4]*c[1]-c[5]*
c[0])/a]}},{key:"apply3dTransform",value:function(c,a){return[c[0]*a[0]+c[1]*a[1]+c[2]*a[2],c[3]*a[0]+c[4]*a[1]+c[5]*a[2],c[6]*a[0]+c[7]*a[1]+c[8]*a[2]]}},{key:"singularValueDecompose2dScale",value:function(c){var a=[c[0],c[2],c[1],c[3]],e=c[0]*a[0]+c[1]*a[2],i=c[2]*a[1]+c[3]*a[3],f=(e+i)/2,c=Math.sqrt((e+i)*(e+i)-4*(e*i-(c[2]*a[0]+c[3]*a[2])*(c[0]*a[1]+c[1]*a[3])))/2,a=f-c||1;return[Math.sqrt(f+c||1),Math.sqrt(a)]}},{key:"normalizeRect",value:function(c){var a=c.slice(0);c[0]>c[2]&&(a[0]=c[2],a[2]=
c[0]);c[1]>c[3]&&(a[1]=c[3],a[3]=c[1]);return a}},{key:"intersect",value:function(a,e){function f(c,a){return c-a}var h=[a[0],a[2],e[0],e[2]].sort(f),m=[a[1],a[3],e[1],e[3]].sort(f),t=[],a=c.normalizeRect(a),e=c.normalizeRect(e);if(h[0]===a[0]&&h[1]===e[0]||h[0]===e[0]&&h[1]===a[0])t[0]=h[1],t[2]=h[2];else return null;if(m[0]===a[1]&&m[1]===e[1]||m[0]===e[1]&&m[1]===a[1])t[1]=m[1],t[3]=m[2];else return null;return t}}]);return c}();b.Util=d;var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,
711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],d=function(){return function(c,a){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&j.URL.createObjectURL){var e=
new Blob([c],{type:a});return j.URL.createObjectURL(e)}for(var e="data:".concat(a,";base64,"),f=0,h=c.length;f<h;f+=3)var m=c[f]&255,t=c[f+1]&255,w=c[f+2]&255,e=e+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[m>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(m&3)<<4|t>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+1<h?(t&15)<<2|w>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+2<h?w&63:64]);return e}}();
b.createObjectURL=d},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}var k=a(3);if(!k._pdfjsCompatibilityChecked){k._pdfjsCompatibilityChecked=!0;var l=a(4),o="object"===("undefined"===typeof window?"undefined":g(window))&&"object"===("undefined"===typeof document?"undefined":g(document));(function(){!k.btoa&&
l()&&(k.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!k.atob&&l()&&(k.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){o&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();(function(){if(o&&!l()){var a=document.createElement("div");a.classList.add("testOne","testTwo");if(!(!0===a.classList.contains("testOne")&&!0===a.classList.contains("testTwo"))){var m=
DOMTokenList.prototype.add,b=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=arguments.length,b=Array(a),j=0;j<a;j++)b[j]=arguments[j];for(a=0;a<b.length;a++)m.call(this,b[a])};DOMTokenList.prototype.remove=function(){for(var a=arguments.length,m=Array(a),j=0;j<a;j++)m[j]=arguments[j];for(a=0;a<m.length;a++)b.call(this,m[a])}}}})();(function(){o&&!l()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(a){var m=1<arguments.length?
!!arguments[1]:!this.contains(a);return this[m?"add":"remove"](a),m})})();String.prototype.startsWith||a(5);String.prototype.endsWith||a(36);String.prototype.includes||a(38);Array.prototype.includes||a(40);Array.from||a(47);Object.assign||a(70);Math.log2||(Math.log2=a(75));Number.isNaN||(Number.isNaN=a(77));Number.isInteger||(Number.isInteger=a(79));if(!k.Promise||!k.Promise.prototype||!k.Promise.prototype["finally"])k.Promise=a(82);k.WeakMap||(k.WeakMap=a(102));k.WeakSet||(k.WeakSet=a(119));String.prototype.codePointAt||
a(123);String.fromCodePoint||(String.fromCodePoint=a(125));k.Symbol||a(127);String.prototype.padStart||a(134);String.prototype.padEnd||a(138);Object.values||(Object.values=a(140))}},function(d){d.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(){return"object"===("undefined"===typeof process?"undefined":b(process))&&"[object process]"===process+""&&!process.versions.nw&&!process.versions.electron}},function(d,b,a){a(6);d.exports=a(9).String.startsWith},function(d,b,a){var d=a(7),g=a(28),k=a(30),l="".startsWith;d(d.P+d.F*a(35)("startsWith"),"String",{startsWith:function(a){var b=k(this,a,"startsWith"),m=g(Math.min(1<
arguments.length?arguments[1]:void 0,b.length)),d=""+a;return l?l.call(b,d,m):b.slice(m,m+d.length)===d}})},function(d,b,a){var g=a(8),k=a(9),l=a(10),o=a(20),r=a(26),b=function n(a,b,j){var d=a&n.F,h=a&n.G,c=a&n.S,f=a&n.P,e=a&n.B,c=h?g:c?g[b]||(g[b]={}):(g[b]||{}).prototype,i=h?k:k[b]||(k[b]={}),v=i.prototype||(i.prototype={}),u;h&&(j=b);for(u in j)h=!d&&c&&void 0!==c[u],b=(h?c:j)[u],h=e&&h?r(b,g):f&&"function"==typeof b?r(Function.call,b):b,c&&o(c,u,b,a&n.U),i[u]!=b&&l(i,u,h),f&&v[u]!=b&&(v[u]=b)};
g.core=k;b.F=1;b.G=2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=64;b.R=128;d.exports=b},function(d){d=d.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(d){d=d.exports={version:"2.6.9"};"number"==typeof __e&&(__e=d)},function(d,b,a){var g=a(11),k=a(19);d.exports=a(15)?function(a,b,d){return g.f(a,b,k(1,d))}:function(a,b,k){a[b]=k;return a}},function(d,b,a){var g=a(12),k=a(14),l=a(18),o=
Object.defineProperty;b.f=a(15)?Object.defineProperty:function(a,b,d){g(a);b=l(b,!0);g(d);if(k)try{return o(a,b,d)}catch(s){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[b]=d.value);return a}},function(d,b,a){var g=a(13);d.exports=function(a){if(!g(a))throw TypeError(a+" is not an object!");return a}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(a){return"object"===b(a)?null!==a:"function"===typeof a}},function(d,b,a){d.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(d,b,a){d.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d){d.exports=function(b){try{return!!b()}catch(a){return!0}}},function(d,b,a){var b=a(13),
g=a(8).document,k=b(g)&&b(g.createElement);d.exports=function(a){return k?g.createElement(a):{}}},function(d,b,a){var g=a(13);d.exports=function(a,b){if(!g(a))return a;var d,r;if(b&&"function"==typeof(d=a.toString)&&!g(r=d.call(a))||"function"==typeof(d=a.valueOf)&&!g(r=d.call(a))||!b&&"function"==typeof(d=a.toString)&&!g(r=d.call(a)))return r;throw TypeError("Can't convert object to primitive value");}},function(d){d.exports=function(b,a){return{enumerable:!(b&1),configurable:!(b&2),writable:!(b&
4),value:a}}},function(d,b,a){var g=a(8),k=a(10),l=a(21),o=a(22)("src"),r=a(23),m=(""+r).split("toString");a(9).inspectSource=function(a){return r.call(a)};(d.exports=function(a,b,d,j){var p="function"==typeof d;p&&(l(d,"name")||k(d,"name",b));a[b]!==d&&(p&&(l(d,o)||k(d,o,a[b]?""+a[b]:m.join(""+b))),a===g?a[b]=d:j?a[b]?a[b]=d:k(a,b,d):(delete a[b],k(a,b,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||r.call(this)})},function(d){var b={}.hasOwnProperty;d.exports=
function(a,d){return b.call(a,d)}},function(d){var b=0,a=Math.random();d.exports=function(d){return"Symbol(".concat(void 0===d?"":d,")_",(++b+a).toString(36))}},function(d,b,a){d.exports=a(24)("native-function-to-string",Function.toString)},function(d,b,a){var b=a(9),g=a(8),k=g["__core-js_shared__"]||(g["__core-js_shared__"]={});(d.exports=function(a,b){return k[a]||(k[a]=void 0!==b?b:{})})("versions",[]).push({version:b.version,mode:a(25)?"pure":"global",copyright:"\u00a9 2019 Denis Pushkarev (zloirock.ru)"})},
function(d){d.exports=!1},function(d,b,a){var g=a(27);d.exports=function(a,b,d){g(a);if(void 0===b)return a;switch(d){case 1:return function(d){return a.call(b,d)};case 2:return function(d,m){return a.call(b,d,m)};case 3:return function(d,m,n){return a.call(b,d,m,n)}}return function(){return a.apply(b,arguments)}}},function(d){d.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(d,b,a){var g=a(29),k=Math.min;d.exports=function(a){return 0<a?k(g(a),
9007199254740991):0}},function(d){var b=Math.ceil,a=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?a:b)(d)}},function(d,b,a){var g=a(31),k=a(34);d.exports=function(a,b,d){if(g(b))throw TypeError("String#"+d+" doesn't accept regex!");return""+k(a)}},function(d,b,a){var g=a(13),k=a(32),l=a(33)("match");d.exports=function(a){var b;return g(a)&&(void 0!==(b=a[l])?!!b:"RegExp"==k(a))}},function(d){var b={}.toString;d.exports=function(a){return b.call(a).slice(8,-1)}},function(d,b,a){var g=
a(24)("wks"),k=a(22),l=a(8).Symbol,o="function"==typeof l;(d.exports=function(a){return g[a]||(g[a]=o&&l[a]||(o?l:k)("Symbol."+a))}).store=g},function(d){d.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(d,b,a){var g=a(33)("match");d.exports=function(a){var b=/./;try{"/./"[a](b)}catch(d){try{return b[g]=!1,!"/./"[a](b)}catch(r){}}return!0}},function(d,b,a){a(37);d.exports=a(9).String.endsWith},function(d,b,a){var d=a(7),g=a(28),k=a(30),l="".endsWith;
d(d.P+d.F*a(35)("endsWith"),"String",{endsWith:function(a){var b=k(this,a,"endsWith"),m=1<arguments.length?arguments[1]:void 0,d=g(b.length),m=void 0===m?d:Math.min(g(m),d),d=""+a;return l?l.call(b,d,m):b.slice(m-d.length,m)===d}})},function(d,b,a){a(39);d.exports=a(9).String.includes},function(d,b,a){var d=a(7),g=a(30);d(d.P+d.F*a(35)("includes"),"String",{includes:function(a){return!!~g(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(d,b,a){a(41);d.exports=a(9).Array.includes},
function(d,b,a){var d=a(7),g=a(42)(!0);d(d.P,"Array",{includes:function(a){return g(this,a,1<arguments.length?arguments[1]:void 0)}});a(46)("includes")},function(d,b,a){var g=a(43),k=a(28),l=a(45);d.exports=function(a){return function(b,m,d){var b=g(b),s=k(b.length),d=l(d,s);if(a&&m!=m)for(;s>d;){if(m=b[d++],m!=m)return!0}else for(;s>d;d++)if((a||d in b)&&b[d]===m)return a||d||0;return!a&&-1}}},function(d,b,a){var g=a(44),k=a(34);d.exports=function(a){return g(k(a))}},function(d,b,a){var g=a(32);
d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==g(a)?a.split(""):Object(a)}},function(d,b,a){var g=a(29),k=Math.max,l=Math.min;d.exports=function(a,b){a=g(a);return 0>a?k(a+b,0):l(a,b)}},function(d,b,a){var g=a(33)("unscopables"),k=Array.prototype;void 0==k[g]&&a(10)(k,g,{});d.exports=function(a){k[g][a]=!0}},function(d,b,a){a(48);a(63);d.exports=a(9).Array.from},function(d,b,a){var g=a(49)(!0);a(50)(String,"String",function(a){this._t=""+a;this._i=0},function(){var a=
this._t,b=this._i;if(b>=a.length)return{value:void 0,done:!0};a=g(a,b);this._i+=a.length;return{value:a,done:!1}})},function(d,b,a){var g=a(29),k=a(34);d.exports=function(a){return function(b,d){var m=""+k(b),n=g(d),s=m.length,y,j;if(0>n||n>=s)return a?"":void 0;y=m.charCodeAt(n);return 55296>y||56319<y||n+1===s||56320>(j=m.charCodeAt(n+1))||57343<j?a?m.charAt(n):y:a?m.slice(n,n+2):(y-55296<<10)+(j-56320)+65536}}},function(d,b,a){var g=a(25),k=a(7),l=a(20),o=a(10),r=a(51),m=a(52),n=a(60),s=a(61),
y=a(33)("iterator"),j=!([].keys&&"next"in[].keys()),p=function(){return this};d.exports=function(a,c,f,e,i,b,d){m(f,c,e);var e=function(a){return!j&&a in t?t[a]:function(){return new f(this,a)}},A=c+" Iterator",z="values"==i,q=!1,t=a.prototype,w=t[y]||t["@@iterator"]||i&&t[i],x=w||e(i),C=i?!z?x:e("entries"):void 0,E="Array"==c?t.entries||w:w,K,D;E&&(a=s(E.call(new a)),a!==Object.prototype&&a.next&&(n(a,A,!0),!g&&"function"!=typeof a[y]&&o(a,y,p)));z&&(w&&"values"!==w.name)&&(q=!0,x=function(){return w.call(this)});
(!g||d)&&(j||q||!t[y])&&o(t,y,x);r[c]=x;r[A]=p;if(i)if(K={values:z?x:e("values"),keys:b?x:e("keys"),entries:C},d)for(D in K)D in t||l(t,D,K[D]);else k(k.P+k.F*(j||q),c,K);return K}},function(d){d.exports={}},function(d,b,a){var g=a(53),k=a(19),l=a(60),o={};a(10)(o,a(33)("iterator"),function(){return this});d.exports=function(a,b,d){a.prototype=g(o,{next:k(1,d)});l(a,b+" Iterator")}},function(d,b,a){var g=a(12),k=a(54),l=a(58),o=a(57)("IE_PROTO"),r=function(){},m=function(){var b=a(17)("iframe"),d=
l.length;b.style.display="none";a(59).appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object<\/script>");b.close();for(m=b.F;d--;)delete m.prototype[l[d]];return m()};d.exports=Object.create||function(a,b){var d;null!==a?(r.prototype=g(a),d=new r,r.prototype=null,d[o]=a):d=m();return void 0===b?d:k(d,b)}},function(d,b,a){var g=a(11),k=a(12),l=a(55);d.exports=a(15)?Object.defineProperties:function(a,b){k(a);for(var d=l(b),n=d.length,s=0,y;n>s;)g.f(a,
y=d[s++],b[y]);return a}},function(d,b,a){var g=a(56),k=a(58);d.exports=Object.keys||function(a){return g(a,k)}},function(d,b,a){var g=a(21),k=a(43),l=a(42)(!1),o=a(57)("IE_PROTO");d.exports=function(a,b){var d=k(a),s=0,y=[],j;for(j in d)j!=o&&g(d,j)&&y.push(j);for(;b.length>s;)if(g(d,j=b[s++]))~l(y,j)||y.push(j);return y}},function(d,b,a){var g=a(24)("keys"),k=a(22);d.exports=function(a){return g[a]||(g[a]=k(a))}},function(d){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
function(d,b,a){b=a(8).document;d.exports=b&&b.documentElement},function(d,b,a){var g=a(11).f,k=a(21),l=a(33)("toStringTag");d.exports=function(a,b,d){a&&!k(a=d?a:a.prototype,l)&&g(a,l,{configurable:!0,value:b})}},function(d,b,a){var g=a(21),k=a(62),l=a(57)("IE_PROTO"),o=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=k(a);return g(a,l)?a[l]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?o:null}},function(d,b,a){var g=a(34);
d.exports=function(a){return Object(g(a))}},function(d,b,a){var g=a(26),d=a(7),k=a(62),l=a(64),o=a(65),r=a(28),m=a(66),n=a(67);d(d.S+d.F*!a(69)(function(a){Array.from(a)}),"Array",{from:function(a){var b=k(a),d="function"==typeof this?this:Array,p=arguments.length,h=1<p?arguments[1]:void 0,c=void 0!==h,f=0,e=n(b);c&&(h=g(h,2<p?arguments[2]:void 0,2));if(void 0!=e&&!(d==Array&&o(e))){b=e.call(b);for(d=new d;!(p=b.next()).done;f++)m(d,f,c?l(b,h,[p.value,f],!0):p.value)}else{p=r(b.length);for(d=new d(p);p>
f;f++)m(d,f,c?h(b[f],f):b[f])}d.length=f;return d}})},function(d,b,a){var g=a(12);d.exports=function(a,b,d,r){try{return r?b(g(d)[0],d[1]):b(d)}catch(m){throw b=a["return"],void 0!==b&&g(b.call(a)),m;}}},function(d,b,a){var g=a(51),k=a(33)("iterator"),l=Array.prototype;d.exports=function(a){return void 0!==a&&(g.Array===a||l[k]===a)}},function(d,b,a){var g=a(11),k=a(19);d.exports=function(a,b,d){b in a?g.f(a,b,k(0,d)):a[b]=d}},function(d,b,a){var g=a(68),k=a(33)("iterator"),l=a(51);d.exports=a(9).getIteratorMethod=
function(a){if(void 0!=a)return a[k]||a["@@iterator"]||l[g(a)]}},function(d,b,a){var g=a(32),k=a(33)("toStringTag"),l="Arguments"==g(function(){return arguments}());d.exports=function(a){var b,d;if(void 0===a)b="Undefined";else{var n;if(null===a)n="Null";else{var s=a=Object(a);try{n=s[k]}catch(y){}n="string"==typeof(b=n)?b:l?g(a):"Object"==(d=g(a))&&"function"==typeof a.callee?"Arguments":d}b=n}return b}},function(d,b,a){var g=a(33)("iterator"),k=!1;try{var l=[7][g]();l["return"]=function(){k=!0};
Array.from(l,function(){throw 2;})}catch(o){}d.exports=function(a,b){if(!b&&!k)return!1;var d=!1;try{var l=[7],y=l[g]();y.next=function(){return{done:d=!0}};l[g]=function(){return y};a(l)}catch(j){}return d}},function(d,b,a){a(71);d.exports=a(9).Object.assign},function(d,b,a){d=a(7);d(d.S+d.F,"Object",{assign:a(72)})},function(d,b,a){var g=a(15),k=a(55),l=a(73),o=a(74),r=a(62),m=a(44),n=Object.assign;d.exports=!n||a(16)(function(){var a={},b={},d=Symbol();a[d]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=
a});return 7!=n({},a)[d]||"abcdefghijklmnopqrst"!=Object.keys(n({},b)).join("")})?function(a,b){for(var d=r(a),p=arguments.length,h=1,c=l.f,f=o.f;p>h;)for(var e=m(arguments[h++]),i=c?k(e).concat(c(e)):k(e),v=i.length,u=0,n;v>u;)if(n=i[u++],!g||f.call(e,n))d[n]=e[n];return d}:n},function(d,b){b.f=Object.getOwnPropertySymbols},function(d,b){b.f={}.propertyIsEnumerable},function(d,b,a){a(76);d.exports=a(9).Math.log2},function(d,b,a){d=a(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},
function(d,b,a){a(78);d.exports=a(9).Number.isNaN},function(d,b,a){d=a(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(d,b,a){a(80);d.exports=a(9).Number.isInteger},function(d,b,a){d=a(7);d(d.S,"Number",{isInteger:a(81)})},function(d,b,a){var g=a(13),k=Math.floor;d.exports=function(a){return!g(a)&&isFinite(a)&&k(a)===a}},function(d,b,a){a(83);a(48);a(84);a(87);a(100);a(101);d.exports=a(9).Promise},function(d,b,a){var g=a(68),d={};d[a(33)("toStringTag")]="z";"[object z]"!=d+""&&a(20)(Object.prototype,
"toString",function(){return"[object "+g(this)+"]"},!0)},function(d,b,a){for(var d=a(85),g=a(55),b=a(20),k=a(8),l=a(10),o=a(51),r=a(33),a=r("iterator"),r=r("toStringTag"),m=o.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,
PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=g(n),s=0;s<g.length;s++){var y=g[s],j=n[y],p=k[y],p=p&&p.prototype,h;if(p&&(p[a]||l(p,a,m),p[r]||l(p,r,y),o[y]=m,j))for(h in d)p[h]||b(p,h,d[h],!0)}},function(d,b,a){var b=a(46),g=a(86),k=a(51),l=a(43);d.exports=a(50)(Array,"Array",function(a,b){this._t=l(a);this._i=0;this._k=b},function(){var a=
this._t,b=this._k,d=this._i++;return!a||d>=a.length?(this._t=void 0,g(1)):"keys"==b?g(0,d):"values"==b?g(0,a[d]):g(0,[d,a[d]])},"values");k.Arguments=k.Array;b("keys");b("values");b("entries")},function(d){d.exports=function(b,a){return{value:a,done:!!b}}},function(d,b,a){var g=a(25),k=a(8),l=a(26),o=a(68),d=a(7),r=a(13),m=a(27),n=a(88),s=a(89),y=a(90),j=a(91).set,p=a(93)(),b=a(94),h=a(95),c=a(96),f=a(97),e=k.TypeError,i=k.process,v=i&&i.versions,u=v&&v.v8||"",A=k.Promise,z="process"==o(i),q=function(){},
t,w,x,C,E=w=b.f,o=!!function(){try{var e=A.resolve(1),f=(e.constructor={})[a(33)("species")]=function(a){a(q,q)};return(z||"function"==typeof PromiseRejectionEvent)&&e.then(q)instanceof f&&0!==u.indexOf("6.6")&&-1===c.indexOf("Chrome/66")}catch(i){}}(),K=function(a){var c;return r(a)&&"function"==typeof(c=a.then)?c:!1},D=function(a,c){if(!a._n){a._n=!0;var f=a._c;p(function(){for(var i=a._v,b=1==a._s,w=0;f.length>w;){var d=f[w++],h=b?d.ok:d.fail,t=d.resolve,x=d.reject,m=d.domain,j=void 0,v=void 0,
C=void 0;try{h?(b||(2==a._h&&F(a),a._h=1),!0===h?j=i:(m&&m.enter(),j=h(i),m&&(m.exit(),C=!0)),j===d.promise?x(e("Promise-chain cycle")):(v=K(j))?v.call(j,t,x):t(j)):x(i)}catch(l){m&&!C&&m.exit(),x(l)}}a._c=[];a._n=!1;c&&!a._h&&L(a)})}},L=function(a){j.call(k,function(){var c=a._v,e=1!==a._h&&0===(a._a||a._c).length,f,b,w;e&&(f=h(function(){z?i.emit("unhandledRejection",c,a):(b=k.onunhandledrejection)?b({promise:a,reason:c}):(w=k.console)&&w.error&&w.error("Unhandled promise rejection",c)}),a._h=z||
1!==a._h&&0===(a._a||a._c).length?2:1);a._a=void 0;if(e&&f.e)throw f.v;})},F=function(a){j.call(k,function(){var c;z?i.emit("rejectionHandled",a):(c=k.onrejectionhandled)&&c({promise:a,reason:a._v})})},J=function(a){var c=this;c._d||(c._d=!0,c=c._w||c,c._v=a,c._s=2,c._a||(c._a=c._c.slice()),D(c,!0))},I=function R(a){var c=this,f;if(!c._d){c._d=!0;c=c._w||c;try{if(c===a)throw e("Promise can't be resolved itself");(f=K(a))?p(function(){var e={_w:c,_d:!1};try{f.call(a,l(R,e,1),l(J,e,1))}catch(i){J.call(e,
i)}}):(c._v=a,c._s=1,D(c,!1))}catch(i){J.call({_w:c,_d:!1},i)}}};o||(A=function(a){n(this,A,"Promise","_h");m(a);t.call(this);try{a(l(I,this,1),l(J,this,1))}catch(c){J.call(this,c)}},t=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},t.prototype=a(98)(A.prototype,{then:function(a,c){var e=E(y(this,A));e.ok="function"==typeof a?a:!0;e.fail="function"==typeof c&&c;e.domain=z?i.domain:void 0;this._c.push(e);this._a&&this._a.push(e);this._s&&D(this,!1);return e.promise},
"catch":function(a){return this.then(void 0,a)}}),x=function(){var a=new t;this.promise=a;this.resolve=l(I,a,1);this.reject=l(J,a,1)},b.f=E=function(a){return a===A||a===C?new x(a):w(a)});d(d.G+d.W+d.F*!o,{Promise:A});a(60)(A,"Promise");a(99)("Promise");C=a(9).Promise;d(d.S+d.F*!o,"Promise",{reject:function(a){var c=E(this),e=c.reject;e(a);return c.promise}});d(d.S+d.F*(g||!o),"Promise",{resolve:function(a){return f(g&&this===C?A:this,a)}});d(d.S+d.F*!(o&&a(69)(function(a){A.all(a)["catch"](q)})),
"Promise",{all:function(a){var c=this,e=E(c),f=e.resolve,i=e.reject,b=h(function(){var e=[],b=0,w=1;s(a,false,function(a){var d=b++,h=false;e.push(void 0);w++;c.resolve(a).then(function(a){if(!h){h=true;e[d]=a;--w||f(e)}},i)});--w||f(e)});b.e&&i(b.v);return e.promise},race:function(a){var c=this,e=E(c),f=e.reject,i=h(function(){s(a,false,function(a){c.resolve(a).then(e.resolve,f)})});i.e&&f(i.v);return e.promise}})},function(d){d.exports=function(b,a,d,k){if(!(b instanceof a)||void 0!==k&&k in b)throw TypeError(d+
": incorrect invocation!");return b}},function(d,b,a){var g=a(26),k=a(64),l=a(65),o=a(12),r=a(28),m=a(67),n={},s={},d=d.exports=function(a,b,d,h,c){var c=c?function(){return a}:m(a),d=g(d,h,b?2:1),h=0,f,e;if("function"!=typeof c)throw TypeError(a+" is not iterable!");if(l(c))for(f=r(a.length);f>h;h++){if(c=b?d(o(e=a[h])[0],e[1]):d(a[h]),c===n||c===s)return c}else for(h=c.call(a);!(e=h.next()).done;)if(c=k(h,d,e.value,b),c===n||c===s)return c};d.BREAK=n;d.RETURN=s},function(d,b,a){var g=a(12),k=a(27),
l=a(33)("species");d.exports=function(a,b){var d=g(a).constructor,n;return void 0===d||void 0==(n=g(d)[l])?b:k(n)}},function(d,b,a){var g=a(26),k=a(92),l=a(59),o=a(17),r=a(8),m=r.process,b=r.setImmediate,n=r.clearImmediate,s=r.MessageChannel,y=r.Dispatch,j=0,p={},h,c=function(){var a=+this;if(p.hasOwnProperty(a)){var c=p[a];delete p[a];c()}},f=function(a){c.call(a.data)};if(!b||!n)b=function(a){for(var c=[],f=1;arguments.length>f;)c.push(arguments[f++]);p[++j]=function(){k("function"==typeof a?a:
Function(a),c)};h(j);return j},n=function(a){delete p[a]},"process"==a(32)(m)?h=function(a){m.nextTick(g(c,a,1))}:y&&y.now?h=function(a){y.now(g(c,a,1))}:s?(a=new s,s=a.port2,a.port1.onmessage=f,h=g(s.postMessage,s,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(h=function(a){r.postMessage(a+"","*")},r.addEventListener("message",f,!1)):h="onreadystatechange"in o("script")?function(a){l.appendChild(o("script")).onreadystatechange=function(){l.removeChild(this);c.call(a)}}:
function(a){setTimeout(g(c,a,1),0)};d.exports={set:b,clear:n}},function(d){d.exports=function(b,a,d){var k=void 0===d;switch(a.length){case 0:return k?b():b.call(d);case 1:return k?b(a[0]):b.call(d,a[0]);case 2:return k?b(a[0],a[1]):b.call(d,a[0],a[1]);case 3:return k?b(a[0],a[1],a[2]):b.call(d,a[0],a[1],a[2]);case 4:return k?b(a[0],a[1],a[2],a[3]):b.call(d,a[0],a[1],a[2],a[3])}return b.apply(d,a)}},function(d,b,a){var g=a(8),k=a(91).set,l=g.MutationObserver||g.WebKitMutationObserver,o=g.process,
r=g.Promise,m="process"==a(32)(o);d.exports=function(){var a,b,d,j=function(){var c,e;for(m&&(c=o.domain)&&c.exit();a;){e=a.fn;a=a.next;try{e()}catch(i){throw a?d():b=void 0,i;}}b=void 0;c&&c.enter()};if(m)d=function(){o.nextTick(j)};else if(l&&(!g.navigator||!g.navigator.standalone)){var p=!0,h=document.createTextNode("");(new l(j)).observe(h,{characterData:!0});d=function(){h.data=p=!p}}else if(r&&r.resolve){var c=r.resolve(void 0);d=function(){c.then(j)}}else d=function(){k.call(g,j)};return function(c){c=
{fn:c,next:void 0};b&&(b.next=c);a||(a=c,d());b=c}}},function(d,b,a){function g(a){var b,d;this.promise=new a(function(a,l){if(void 0!==b||void 0!==d)throw TypeError("Bad Promise constructor");b=a;d=l});this.resolve=k(b);this.reject=k(d)}var k=a(27);d.exports.f=function(a){return new g(a)}},function(d){d.exports=function(b){try{return{e:!1,v:b()}}catch(a){return{e:!0,v:a}}}},function(d,b,a){b=a(8).navigator;d.exports=b&&b.userAgent||""},function(d,b,a){var g=a(12),k=a(13),l=a(94);d.exports=function(a,
b){g(a);if(k(b)&&b.constructor===a)return b;var d=l.f(a),n=d.resolve;n(b);return d.promise}},function(d,b,a){var g=a(20);d.exports=function(a,b,d){for(var r in b)g(a,r,b[r],d);return a}},function(d,b,a){var g=a(8),k=a(11),l=a(15),o=a(33)("species");d.exports=function(a){a=g[a];l&&(a&&!a[o])&&k.f(a,o,{configurable:!0,get:function(){return this}})}},function(d,b,a){var d=a(7),g=a(9),k=a(8),l=a(90),o=a(97);d(d.P+d.R,"Promise",{"finally":function(a){var b=l(this,g.Promise||k.Promise),d="function"==typeof a;
return this.then(d?function(d){return o(b,a()).then(function(){return d})}:a,d?function(d){return o(b,a()).then(function(){throw d;})}:a)}})},function(d,b,a){var d=a(7),g=a(94),k=a(95);d(d.S,"Promise",{"try":function(a){var b=g.f(this),a=k(a);(a.e?b.reject:b.resolve)(a.v);return b.promise}})},function(d,b,a){a(83);a(84);a(103);a(115);a(117);d.exports=a(9).WeakMap},function(d,b,a){var g=a(8),b=a(104)(0),k=a(20),l=a(108),o=a(72),r=a(109),m=a(13),n=a(110),s=a(110),g=!g.ActiveXObject&&"ActiveXObject"in
g,y=l.getWeak,j=Object.isExtensible,p=r.ufstore,h,c=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},f={get:function(a){if(m(a)){var c=y(a);return!0===c?p(n(this,"WeakMap")).get(a):c?c[this._i]:void 0}},set:function(a,c){return r.def(n(this,"WeakMap"),a,c)}},e=d.exports=a(111)("WeakMap",c,f,r,!0,!0);s&&g&&(h=r.getConstructor(c,"WeakMap"),o(h.prototype,f),l.NEED=!0,b(["delete","has","get","set"],function(a){var c=e.prototype,f=c[a];k(c,a,function(c,e){if(m(c)&&
!j(c)){this._f||(this._f=new h);var b=this._f[a](c,e);return"set"==a?this:b}return f.call(this,c,e)})}))},function(d,b,a){var g=a(26),k=a(44),l=a(62),o=a(28),r=a(105);d.exports=function(a,b){var d=1==a,y=2==a,j=3==a,p=4==a,h=6==a,c=5==a||h,f=b||r;return function(e,b,v){for(var u=l(e),r=k(u),b=g(b,v,3),v=o(r.length),n=0,e=d?f(e,v):y?f(e,0):void 0,q,t;v>n;n++)if(c||n in r)if(q=r[n],t=b(q,n,u),a)if(d)e[n]=t;else if(t)switch(a){case 3:return!0;case 5:return q;case 6:return n;case 2:e.push(q)}else if(p)return!1;
return h?-1:j||p?p:e}}},function(d,b,a){var g=a(106);d.exports=function(a,b){return new (g(a))(b)}},function(d,b,a){var g=a(13),k=a(107),l=a(33)("species");d.exports=function(a){var b;if(k(a)){b=a.constructor;if("function"==typeof b&&(b===Array||k(b.prototype)))b=void 0;g(b)&&(b=b[l],null===b&&(b=void 0))}return void 0===b?Array:b}},function(d,b,a){var g=a(32);d.exports=Array.isArray||function(a){return"Array"==g(a)}},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}var k=a(22)("meta"),l=a(13),o=a(21),r=a(11).f,m=0,n=Object.isExtensible||function(){return!0},s=!a(16)(function(){return n(Object.preventExtensions({}))}),y=function(a){r(a,k,{value:{i:"O"+ ++m,w:{}}})},j=d.exports={KEY:k,NEED:!1,fastKey:function(a,b){if(!l(a))return"symbol"==g(a)?a:("string"==typeof a?"S":"P")+a;if(!o(a,k)){if(!n(a))return"F";
if(!b)return"E";y(a)}return a[k].i},getWeak:function(a,b){if(!o(a,k)){if(!n(a))return!0;if(!b)return!1;y(a)}return a[k].w},onFreeze:function(a){s&&(j.NEED&&n(a)&&!o(a,k))&&y(a);return a}}},function(d,b,a){var g=a(98),k=a(108).getWeak,l=a(12),o=a(13),r=a(88),m=a(89),b=a(104),n=a(21),s=a(110),y=b(5),j=b(6),p=0,h=function(a){return a._l||(a._l=new c)},c=function(){this.a=[]},f=function(a,c){return y(a.a,function(a){return a[0]===c})};c.prototype={get:function(a){if(a=f(this,a))return a[1]},has:function(a){return!!f(this,
a)},set:function(a,c){var b=f(this,a);b?b[1]=c:this.a.push([a,c])},"delete":function(a){var c=j(this.a,function(c){return c[0]===a});~c&&this.a.splice(c,1);return!!~c}};d.exports={getConstructor:function(a,c,b,f){var d=a(function(a,e){r(a,d,c,"_i");a._t=c;a._i=p++;a._l=void 0;void 0!=e&&m(e,b,a[f],a)});g(d.prototype,{"delete":function(a){if(!o(a))return!1;var e=k(a);return!0===e?h(s(this,c))["delete"](a):e&&n(e,this._i)&&delete e[this._i]},has:function(a){if(!o(a))return!1;var e=k(a);return!0===e?
h(s(this,c)).has(a):e&&n(e,this._i)}});return d},def:function(a,c,b){var f=k(l(c),!0);!0===f?h(a).set(c,b):f[a._i]=b;return a},ufstore:h}},function(d,b,a){var g=a(13);d.exports=function(a,b){if(!g(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(d,b,a){var g=a(8),k=a(7),l=a(20),o=a(98),r=a(108),m=a(89),n=a(88),s=a(13),y=a(16),j=a(69),p=a(60),h=a(112);d.exports=function(a,b,e,i,d,u){var A=g[a],z=A,q=d?"set":"add",t=z&&z.prototype,w={},x=function(a){var c=t[a];
l(t,a,"delete"==a?function(a){return u&&!s(a)?!1:c.call(this,0===a?0:a)}:"has"==a?function(a){return u&&!s(a)?!1:c.call(this,0===a?0:a)}:"get"==a?function(a){return u&&!s(a)?void 0:c.call(this,0===a?0:a)}:"add"==a?function(a){c.call(this,0===a?0:a);return this}:function(a,e){c.call(this,0===a?0:a,e);return this})};if("function"!=typeof z||!(u||t.forEach&&!y(function(){(new z).entries().next()})))z=i.getConstructor(b,a,d,q),o(z.prototype,e),r.NEED=!0;else{var C=new z,e=C[q](u?{}:-0.0,1)!=C,E=y(function(){C.has(1)}),
K=j(function(a){new z(a)}),D=!u&&y(function(){for(var a=new z,c=5;c--;)a[q](c,c);return!a.has(-0.0)});K||(z=b(function(e,b){n(e,z,a);var f=h(new A,e,z);void 0!=b&&m(b,d,f[q],f);return f}),z.prototype=t,t.constructor=z);if(E||D)x("delete"),x("has"),d&&x("get");(D||e)&&x(q);u&&t.clear&&delete t.clear}p(z,a);w[a]=z;k(k.G+k.W+k.F*(z!=A),w);u||i.setStrong(z,a,d);return z}},function(d,b,a){var g=a(13),k=a(113).set;d.exports=function(a,b,d){var b=b.constructor,m;b!==d&&("function"==typeof b&&(m=b.prototype)!==
d.prototype&&g(m)&&k)&&k(a,m);return a}},function(d,b,a){var g=a(13),k=a(12),l=function(a,b){k(a);if(!g(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};d.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,d,m){try{m=a(26)(Function.call,a(114).f(Object.prototype,"__proto__").set,2),m(b,[]),d=!(b instanceof Array)}catch(k){d=!0}return function(a,b){l(a,b);d?a.__proto__=b:m(a,b);return a}}({},!1):void 0),check:l}},function(d,b,a){var g=a(74),k=a(19),l=a(43),o=a(18),r=a(21),
m=a(14),n=Object.getOwnPropertyDescriptor;b.f=a(15)?n:function(a,b){a=l(a);b=o(b,!0);if(m)try{return n(a,b)}catch(d){}if(r(a,b))return k(!g.f.call(a,b),a[b])}},function(d,b,a){a(116)("WeakMap")},function(d,b,a){var g=a(7);d.exports=function(a){g(g.S,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(d,b,a){a(118)("WeakMap")},function(d,b,a){var g=a(7),k=a(27),l=a(26),o=a(89);d.exports=function(a){g(g.S,a,{from:function(a,b,d){var g,j,p,h;
k(this);(g=void 0!==b)&&k(b);if(void 0==a)return new this;j=[];g?(p=0,h=l(b,d,2),o(a,!1,function(a){j.push(h(a,p++))})):o(a,!1,j.push,j);return new this(j)}})}},function(d,b,a){a(83);a(84);a(120);a(121);a(122);d.exports=a(9).WeakSet},function(d,b,a){var g=a(109),k=a(110);a(111)("WeakSet",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return g.def(k(this,"WeakSet"),a,!0)}},g,!1,!0)},function(d,b,a){a(116)("WeakSet")},function(d,b,a){a(118)("WeakSet")},
function(d,b,a){a(124);d.exports=a(9).String.codePointAt},function(d,b,a){var d=a(7),g=a(49)(!1);d(d.P,"String",{codePointAt:function(a){return g(this,a)}})},function(d,b,a){a(126);d.exports=a(9).String.fromCodePoint},function(d,b,a){var d=a(7),g=a(45),k=String.fromCharCode,a=String.fromCodePoint;d(d.S+d.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var b=[],d=arguments.length,m=0,n;d>m;){n=+arguments[m++];if(g(n,1114111)!==n)throw RangeError(n+" is not a valid code point");b.push(65536>
n?k(n):k(((n-=65536)>>10)+55296,n%1024+56320))}return b.join("")}})},function(d,b,a){a(128);a(83);d.exports=a(9).Symbol},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}var d=a(8),k=a(21),l=a(15),b=a(7),o=a(20),r=a(108).KEY,m=a(16),n=a(24),s=a(60),y=a(22),j=a(33),p=a(129),h=a(130),c=a(131),f=a(107),
e=a(12),i=a(13),v=a(62),u=a(43),A=a(18),z=a(19),q=a(53),t=a(132),w=a(114),x=a(73),C=a(11),E=a(55),K=w.f,D=C.f,L=t.f,F=d.Symbol,J=d.JSON,I=J&&J.stringify,H=j("_hidden"),R=j("toPrimitive"),T={}.propertyIsEnumerable,Q=n("symbol-registry"),N=n("symbols"),U=n("op-symbols"),S=Object.prototype,n="function"==typeof F&&!!x.f,O=d.QObject,M=!O||!O.prototype||!O.prototype.findChild,X=l&&m(function(){return 7!=q(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,c,e){var b=K(S,c);b&&delete S[c];
D(a,c,e);b&&a!==S&&D(S,c,b)}:D,W=function(a){var c=N[a]=q(F.prototype);c._k=a;return c},ca=n&&"symbol"==g(F.iterator)?function(a){return"symbol"==g(a)}:function(a){return a instanceof F},Y=function(a,c,b){a===S&&Y(U,c,b);e(a);c=A(c,!0);e(b);return k(N,c)?(b.enumerable?(k(a,H)&&a[H][c]&&(a[H][c]=!1),b=q(b,{enumerable:z(0,!1)})):(k(a,H)||D(a,H,z(1,{})),a[H][c]=!0),X(a,c,b)):D(a,c,b)},Z=function(a,b){e(a);for(var f=c(b=u(b)),i=0,d=f.length,w;d>i;)Y(a,w=f[i++],b[w]);return a},V=function(a){var c=T.call(this,
a=A(a,!0));return this===S&&k(N,a)&&!k(U,a)?!1:c||!k(this,a)||!k(N,a)||k(this,H)&&this[H][a]?c:!0},O=function(a,c){a=u(a);c=A(c,!0);if(!(a===S&&k(N,c)&&!k(U,c))){var e=K(a,c);if(e&&k(N,c)&&(!k(a,H)||!a[H][c]))e.enumerable=!0;return e}},B=function(a){for(var a=L(u(a)),c=[],e=0,b;a.length>e;)!k(N,b=a[e++])&&(b!=H&&b!=r)&&c.push(b);return c},P=function(a){for(var c=a===S,a=L(c?U:u(a)),e=[],b=0,f;a.length>b;)k(N,f=a[b++])&&(c?k(S,f):1)&&e.push(N[f]);return e};n||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");
var a=y(0<arguments.length?arguments[0]:void 0),c=function ga(c){this===S&&ga.call(U,c);k(this,H)&&k(this[H],a)&&(this[H][a]=!1);X(this,a,z(1,c))};l&&M&&X(S,a,{configurable:!0,set:c});return W(a)},o(F.prototype,"toString",function(){return this._k}),w.f=O,C.f=Y,a(133).f=t.f=B,a(74).f=V,x.f=P,l&&!a(25)&&o(S,"propertyIsEnumerable",V,!0),p.f=function(a){return W(j(a))});b(b.G+b.W+b.F*!n,{Symbol:F});o="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");
for(p=0;o.length>p;)j(o[p++]);E=E(j.store);for(o=0;E.length>o;)h(E[o++]);b(b.S+b.F*!n,"Symbol",{"for":function(a){return k(Q,a=a+"")?Q[a]:Q[a]=F(a)},keyFor:function(a){if(!ca(a))throw TypeError(a+" is not a symbol!");for(var c in Q)if(Q[c]===a)return c},useSetter:function(){M=true},useSimple:function(){M=false}});b(b.S+b.F*!n,"Object",{create:function(a,c){return c===void 0?q(a):Z(q(a),c)},defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:O,getOwnPropertyNames:B,getOwnPropertySymbols:P});
h=m(function(){x.f(1)});b(b.S+b.F*h,"Object",{getOwnPropertySymbols:function(a){return x.f(v(a))}});J&&b(b.S+b.F*(!n||m(function(){var a=F();return I([a])!="[null]"||I({a:a})!="{}"||I(Object(a))!="{}"})),"JSON",{stringify:function(a){for(var c=[a],e=1,b;arguments.length>e;)c.push(arguments[e++]);b=e=c[1];if(!(!i(e)&&a===void 0||ca(a))){f(e)||(e=function(a,c){typeof b=="function"&&(c=b.call(this,a,c));if(!ca(c))return c});c[1]=e;return I.apply(J,c)}}});F.prototype[R]||a(10)(F.prototype,R,F.prototype.valueOf);
s(F,"Symbol");s(Math,"Math",!0);s(d.JSON,"JSON",!0)},function(d,b,a){b.f=a(33)},function(d,b,a){var g=a(8),k=a(9),l=a(25),o=a(129),r=a(11).f;d.exports=function(a){var b=k.Symbol||(k.Symbol=l?{}:g.Symbol||{});"_"!=a.charAt(0)&&!(a in b)&&r(b,a,{value:o.f(a)})}},function(d,b,a){var g=a(55),k=a(73),l=a(74);d.exports=function(a){var b=g(a),d=k.f;if(d)for(var d=d(a),n=l.f,s=0,y;d.length>s;)n.call(a,y=d[s++])&&b.push(y);return b}},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}var k=a(43),l=a(133).f,o={}.toString,r="object"==("undefined"===typeof window?"undefined":g(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(a){var b;if(r&&"[object Window]"==o.call(a))try{b=l(a)}catch(d){b=r.slice()}else b=l(k(a));return b}},function(d,b,a){var g=a(56),k=a(58).concat("length",
"prototype");b.f=Object.getOwnPropertyNames||function(a){return g(a,k)}},function(d,b,a){a(135);d.exports=a(9).String.padStart},function(d,b,a){var d=a(7),g=a(136),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a(96));d(d.P+d.F*a,"String",{padStart:function(a){return g(this,a,1<arguments.length?arguments[1]:void 0,!0)}})},function(d,b,a){var g=a(28),k=a(137),l=a(34);d.exports=function(a,b,d,n){var a=""+l(a),s=a.length,d=void 0===d?" ":""+d,b=g(b);if(b<=s||""==d)return a;b-=s;s=k.call(d,
Math.ceil(b/d.length));s.length>b&&(s=s.slice(0,b));return n?s+a:a+s}},function(d,b,a){var g=a(29),k=a(34);d.exports=function(a){var b=""+k(this),d="",a=g(a);if(0>a||Infinity==a)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(b+=b))a&1&&(d+=b);return d}},function(d,b,a){a(139);d.exports=a(9).String.padEnd},function(d,b,a){var d=a(7),g=a(136),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a(96));d(d.P+d.F*a,"String",{padEnd:function(a){return g(this,a,1<arguments.length?
arguments[1]:void 0,!1)}})},function(d,b,a){a(141);d.exports=a(9).Object.values},function(d,b,a){var d=a(7),g=a(142)(!1);d(d.S,"Object",{values:function(a){return g(a)}})},function(d,b,a){var g=a(15),k=a(55),l=a(43),o=a(74).f;d.exports=function(a){return function(b){for(var b=l(b),d=k(b),s=d.length,y=0,j=[],p;s>y;)if(p=d[y++],!g||o.call(b,p))j.push(a?[p,b[p]]:b[p]);return j}}},function(d,b,a){d=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(g){}b.ReadableStream=
d?ReadableStream:a(144).ReadableStream},function(d,b){function a(b){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(b)}(function(a,b){for(var d in b)a[d]=b[d]})(b,function(a){function b(o){if(d[o])return d[o].exports;var r=d[o]={i:o,l:!1,exports:{}};a[o].call(r.exports,r,r.exports,b);r.l=!0;return r.exports}var d={};b.m=a;b.c=d;b.i=
function(a){return a};b.d=function(a,d,m){b.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:m})};b.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(d,"a",d);return d};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=7)}([function(b,d,l){function o(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":m(a))}function r(a,b,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");
return Function.prototype.apply.call(a,b,d)}var m="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(b){return a(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)},n=l(1).assert;d.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":m(a))&&null!==a||"function"===typeof a};d.createDataProperty=function(a,b,j){n(d.typeIsObject(a));Object.defineProperty(a,b,{value:j,writable:!0,enumerable:!0,configurable:!0})};
d.createArrayFromList=function(a){return a.slice()};d.ArrayBufferCopy=function(a,b,d,m,h){(new Uint8Array(a)).set(new Uint8Array(d,m,h),b)};d.CreateIterResultObject=function(a,b){n("boolean"===typeof b);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return d};d.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};d.InvokeOrNoop=function(a,
b,d){n(void 0!==a);n(o(b));n(Array.isArray(d));b=a[b];return void 0===b?void 0:r(b,a,d)};d.PromiseInvokeOrNoop=function(a,b,j){n(void 0!==a);n(o(b));n(Array.isArray(j));try{return Promise.resolve(d.InvokeOrNoop(a,b,j))}catch(m){return Promise.reject(m)}};d.PromiseInvokeOrPerformFallback=function(a,b,d,m,h){n(void 0!==a);n(o(b));n(Array.isArray(d));n(Array.isArray(h));var c=void 0;try{c=a[b]}catch(f){return Promise.reject(f)}if(void 0===c)return m.apply(null,h);try{return Promise.resolve(r(c,a,d))}catch(e){return Promise.reject(e)}};
d.TransferArrayBuffer=function(a){return a.slice()};d.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};d.ValidateAndNormalizeQueuingStrategy=function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=d.ValidateAndNormalizeHighWaterMark(b);return{size:a,highWaterMark:b}}},function(a){function b(a){this.name=
"AssertionError";this.message=a||"";this.stack=Error().stack}b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===b&&setTimeout(function(){throw a;},0)},AssertionError:b,assert:function(a,d){if(!a)throw new b(d);}}},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a){return new pa(a)}function m(a){return!V(a)||!Object.prototype.hasOwnProperty.call(a,
"_writableStreamController")?!1:!0}function n(a){B(!0===m(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function s(a,c){var b=a._state;if("closed"===b)return Promise.resolve(void 0);if("errored"===b)return Promise.reject(a._storedError);var e=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(e);B("writable"===b||"erroring"===b,"state must be writable or erroring");var d=!1;"erroring"===b&&(d=!0,
c=void 0);b=new Promise(function(b,e){a._pendingAbortRequest={_resolve:b,_reject:e,_reason:c,_wasAlreadyErroring:d}});!1===d&&p(a,e);return b}function y(a){B(!0===n(a));B("writable"===a._state);return new Promise(function(c,b){a._writeRequests.push({_resolve:c,_reject:b})})}function j(a,c){var b=a._state;"writable"===b?p(a,c):(B("erroring"===b),h(a))}function p(a,c){B(void 0===a._storedError,"stream._storedError === undefined");B("writable"===a._state,"state must be writable");var b=a._writableStreamController;
B(void 0!==b,"controller must not be undefined");a._state="erroring";a._storedError=c;var e=a._writer;void 0!==e&&t(e,c);!1===f(a)&&!0===b._started&&h(a)}function h(a){B("erroring"===a._state,"stream._state === erroring");B(!1===f(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var c=a._storedError,b=0;b<a._writeRequests.length;b++)a._writeRequests[b]._reject(c);a._writeRequests=[];if(void 0===a._pendingAbortRequest)v(a);
else{var e=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===e._wasAlreadyErroring?(e._reject(c),v(a)):a._writableStreamController.__abortSteps(e._reason).then(function(){e._resolve();v(a)},function(c){e._reject(c);v(a)})}}function c(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function f(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function e(a){B(void 0===a._inFlightCloseRequest);B(void 0!==a._closeRequest);a._inFlightCloseRequest=
a._closeRequest;a._closeRequest=void 0}function i(a){B(void 0===a._inFlightWriteRequest,"there must be no pending write request");B(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function v(a){B("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(B(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=a._writer;void 0!==c&&(R(c,a._storedError),c._closedPromise["catch"](function(){}))}
function u(a,b){B("writable"===a._state);B(!1===c(a));var e=a._writer;void 0!==e&&b!==a._backpressure&&(!0===b?O(e):(B(!1===b),X(e)));a._backpressure=b}function A(a){return!V(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function z(a){var b=a._ownerWritableStream;B(void 0!==b);var e=b._state;if("closed"===e||"errored"===e)return Promise.reject(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));B("writable"===e||"erroring"===
e);B(!1===c(b));var d=new Promise(function(a,c){b._closeRequest={_resolve:a,_reject:c}});!0===b._backpressure&&"writable"===e&&X(a);C(b._writableStreamController);return d}function q(a,c){"pending"===a._closedPromiseState?R(a,c):T(a,c);a._closedPromise["catch"](function(){})}function t(a,c){"pending"===a._readyPromiseState?S(a,c):M(a,c);a._readyPromise["catch"](function(){})}function w(a){var c=a._ownerWritableStream;B(void 0!==c);B(c._writer===a);var b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
t(a,b);q(a,b);c._writer=void 0;a._ownerWritableStream=void 0}function x(a,b){var e=a._ownerWritableStream;B(void 0!==e);var d=e._writableStreamController,f;var i=d._strategySize;if(void 0===i)f=1;else try{f=i(b)}catch(w){"writable"===d._controlledWritableStream._state&&L(d,w),f=1}if(e!==a._ownerWritableStream)return Promise.reject(I("write to"));i=e._state;if("errored"===i)return Promise.reject(e._storedError);if(!0===c(e)||"closed"===i)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===i)return Promise.reject(e._storedError);B("writable"===i);e=y(e);a:{i={chunk:b};try{da(d,i,f)}catch(h){"writable"===d._controlledWritableStream._state&&L(d,h);break a}f=d._controlledWritableStream;!1===c(f)&&"writable"===f._state&&u(f,0>=d._strategyHWM-d._queueTotalSize);E(d)}return e}function C(a){da(a,"close",0);E(a)}function E(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var b=c._state;"closed"===b||"errored"===b||("erroring"===b?h(c):
0!==a._queue.length&&(c=fa(a),"close"===c?K(a):D(a,c.chunk)))}}function K(a){var c=a._controlledWritableStream;e(c);aa(a);B(0===a._queue.length,"queue must be empty once the final write record is dequeued");Y(a._underlyingSink,"close",[]).then(function(){B(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;B("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),
c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(B(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),B(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),B("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");B(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
B(void 0===c._storedError,"stream._storedError === undefined")},function(a){B(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;B("writable"===c._state||"erroring"===c._state);void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);j(c,a)})["catch"](P)}function D(a,b){var e=a._controlledWritableStream;i(e);Y(a._underlyingSink,"write",[b,a]).then(function(){B(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._resolve(void 0);
e._inFlightWriteRequest=void 0;var b=e._state;B("writable"===b||"erroring"===b);aa(a);!1===c(e)&&"writable"===b&&u(e,0>=a._strategyHWM-a._queueTotalSize);E(a)},function(a){B(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._reject(a);e._inFlightWriteRequest=void 0;B("writable"===e._state||"erroring"===e._state);j(e,a)})["catch"](P)}function L(a,c){var b=a._controlledWritableStream;B("writable"===b._state);p(b,c)}function F(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function J(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function I(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function H(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b;a._closedPromiseState="pending"})}function R(a,c){B(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");B(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
B("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function T(a,c){B(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");B(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");B("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState=
"rejected"}function Q(a){a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function N(a,c){a._readyPromise=Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function U(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function S(a,c){B(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
B(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function O(a){B(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");B(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function M(a,
c){B(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");B(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function X(a){B(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");B(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var W=function(){function a(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),b=d(0),ca=b.InvokeOrNoop,Y=b.PromiseInvokeOrNoop,Z=b.ValidateAndNormalizeQueuingStrategy,V=b.typeIsObject,b=d(1),B=b.assert,P=b.rethrowAssertionErrorRejection,d=d(3),aa=d.DequeueValue,da=d.EnqueueValueWithSize,fa=d.PeekQueueValue,ga=d.ResetQueue,
d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.size,b=b.highWaterMark,b=void 0===b?1:b;o(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==c.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,c,e,b);this._writableStreamController.__startSteps()}W(a,[{key:"abort",value:function(a){return!1===m(this)?Promise.reject(F("abort")):!0===n(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):s(this,a)}},{key:"getWriter",value:function(){if(!1===m(this))throw F("getWriter");return r(this)}},{key:"locked",get:function(){if(!1===m(this))throw F("locked");return n(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:r,
IsWritableStream:m,IsWritableStreamLocked:n,WritableStream:d,WritableStreamAbort:s,WritableStreamDefaultControllerError:L,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream;B(void 0!==b);var e=b._state;if(!0===c(b)||"closed"===e)return Promise.resolve();if("errored"===e)return Promise.reject(b._storedError);B("writable"===e||"erroring"===e);return z(a)},WritableStreamDefaultWriterRelease:w,WritableStreamDefaultWriterWrite:x,WritableStreamCloseQueuedOrInFlight:c};
var pa=function(){function a(b){o(this,a);if(!1===m(b))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===n(b))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b;b._writer=this;var e=b._state;"writable"===e?(!1===c(b)&&!0===b._backpressure?Q(this):U(this),H(this)):"erroring"===e?(N(this,b._storedError),this._readyPromise["catch"](function(){}),H(this)):"closed"===
e?(U(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(B("errored"===e,"state must be errored"),b=b._storedError,N(this,b),this._readyPromise["catch"](function(){}),this._closedPromise=Promise.reject(b),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise["catch"](function(){}))}W(a,[{key:"abort",value:function(a){if(!1===A(this))return Promise.reject(J("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(I("abort"));var c=this._ownerWritableStream;B(void 0!==c);return s(c,a)}},{key:"close",value:function(){if(!1===A(this))return Promise.reject(J("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(I("close")):!0===c(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):z(this)}},{key:"releaseLock",value:function(){if(!1===A(this))throw J("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(B(void 0!==a._writer),w(this))}},{key:"write",value:function(a){return!1===A(this)?Promise.reject(J("write")):void 0===this._ownerWritableStream?Promise.reject(I("write to")):x(this,a)}},{key:"closed",get:function(){return!1===A(this)?Promise.reject(J("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===A(this))throw J("desiredSize");if(void 0===this._ownerWritableStream)throw I("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?
null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===A(this)?Promise.reject(J("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,b,e,d){o(this,a);if(!1===m(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=c;this._underlyingSink=b;this._queueTotalSize=this._queue=void 0;ga(this);this._started=!1;b=Z(e,d);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;u(c,0>=this._strategyHWM-this._queueTotalSize)}W(a,[{key:"error",value:function(a){var c;c=V(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&L(this,a)}},{key:"__abortSteps",value:function(a){return Y(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ga(this)}},{key:"__startSteps",value:function(){var a=this,c=ca(this._underlyingSink,"start",[this]),b=this._controlledWritableStream;Promise.resolve(c).then(function(){B("writable"===b._state||"erroring"===b._state);a._started=!0;E(a)},function(c){B("writable"===b._state||"erroring"===b._state);a._started=!0;j(b,c)})["catch"](P)}}]);
return a}()},function(a,b,d){var o=d(0).IsFiniteNonNegativeNumber,r=d(1).assert;b.DequeueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();a._queueTotalSize-=b.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return b.value};b.EnqueueValueWithSize=function(a,b,d){r("_queue"in a&&
"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");d=Number(d);if(!o(d))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:d});a._queueTotalSize+=d};b.PeekQueueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");
return a._queue[0].value};b.ResetQueue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=0}},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function m(a){G(!0===r(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function n(a,c){G(!0===r(a));G("boolean"===typeof c);var b=new ra(a),e={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};e.promise=new Promise(function(a){e._resolve=a});var d=s();d._reader=b;d._teeState=e;d._cloneForBranch2=c;var f=y();f._stream=a;f._teeState=e;var i=j();i._stream=a;i._teeState=e;var w=Object.create(Object.prototype);na(w,"pull",d);na(w,"cancel",f);f=new sa(w);w=Object.create(Object.prototype);na(w,"pull",d);na(w,"cancel",
i);i=new sa(w);d._branch1=f._readableStreamController;d._branch2=i._readableStreamController;b._closedPromise["catch"](function(a){!0!==e.closedOrErrored&&(F(d._branch1,a),F(d._branch2,a),e.closedOrErrored=!0)});return[f,i]}function s(){function a(){var c=a._branch1,b=a._branch2,e=a._teeState;return x(a._reader).then(function(a){G(ea(a));var d=a.value,a=a.done;G("boolean"===typeof a);!0===a&&!1===e.closedOrErrored&&(!1===e.canceled1&&D(c),!1===e.canceled2&&D(b),e.closedOrErrored=!0);!0!==e.closedOrErrored&&
(!1===e.canceled1&&L(c,d),!1===e.canceled2&&L(b,d))})}return a}function y(){function a(b){var e=a._stream,d=a._teeState;d.canceled1=!0;d.reason1=b;!0===d.canceled2&&(b=ta([d.reason1,d.reason2]),e=c(e,b),d._resolve(e));return d.promise}return a}function j(){function a(b){var e=a._stream,d=a._teeState;d.canceled2=!0;d.reason2=b;!0===d.canceled1&&(b=ta([d.reason1,d.reason2]),e=c(e,b),d._resolve(e));return d.promise}return a}function p(a){G(!0===A(a._reader));G("readable"===a._state||"closed"===a._state);
return new Promise(function(c,b){a._reader._readIntoRequests.push({_resolve:c,_reject:b})})}function h(a){G(!0===z(a._reader));G("readable"===a._state);return new Promise(function(c,b){a._reader._readRequests.push({_resolve:c,_reject:b})})}function c(a,c){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);f(a);return a._readableStreamController.__cancelSteps(c).then(function(){})}function f(a){G("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===z(a)){for(var c=0;c<a._readRequests.length;c++){var b=a._readRequests[c]._resolve;b(ba(void 0,!0))}a._readRequests=[]}G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function e(a,c){G(!0===r(a),"stream must be ReadableStream");G("readable"===a._state,"state must be readable");a._state="errored";a._storedError=c;var b=a._reader;
if(void 0!==b){if(!0===z(b)){for(var e=0;e<b._readRequests.length;e++)b._readRequests[e]._reject(c);b._readRequests=[]}else{G(A(b),"reader must be ReadableStreamBYOBReader");for(e=0;e<b._readIntoRequests.length;e++)b._readIntoRequests[e]._reject(c);b._readIntoRequests=[]}va(b,c);b._closedPromise["catch"](function(){})}}function i(a,c,b){a=a._reader;G(0<a._readRequests.length);a._readRequests.shift()._resolve(ba(c,b))}function v(a){a=a._reader;return void 0===a||!1===A(a)?!1:!0}function u(a){a=a._reader;
return void 0===a||!1===z(a)?!1:!0}function A(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function z(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function q(a,c){a._ownerReadableStream=c;c._reader=a;"readable"===c._state?ga(a):"closed"===c._state?qa(a):(G("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise["catch"](function(){}))}function t(a,b){var e=a._ownerReadableStream;G(void 0!==e);return c(e,
b)}function w(a){G(void 0!==a._ownerReadableStream);G(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise["catch"](function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function x(a){a=a._ownerReadableStream;G(void 0!==a);
a._disturbed=!0;if("closed"===a._state)return Promise.resolve(ba(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);G("readable"===a._state);return a._readableStreamController.__pullSteps()}function C(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function E(a){!1!==K(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=
!1,E(a)},function(c){J(a,c)})["catch"]($)))}function K(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===m(c)&&0<c._reader._readRequests.length||0<I(a)?!0:!1}function D(a){var c=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===c._state);a._closeRequested=!0;0===a._queue.length&&f(c)}function L(a,c){var b=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===b._state);if(!0===m(b)&&
0<b._reader._readRequests.length)i(b,c,!1);else{b=1;if(void 0!==a._strategySize){var e=a._strategySize;try{b=e(c)}catch(d){throw J(a,d),d;}}try{Aa(a,c,b)}catch(f){throw J(a,f),f;}}E(a)}function F(a,c){var b=a._controlledReadableStream;G("readable"===b._state);ia(a);e(b,c)}function J(a,c){"readable"===a._controlledReadableStream._state&&F(a,c)}function I(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function H(a){return!ea(a)||
!Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!1:!0}function R(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function T(a){!1!==V(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,T(a))},function(c){"readable"===a._controlledReadableStream._state&&B(a,c)})["catch"]($)))}function Q(a,c){G("errored"!==
a._state,"state must not be errored");var b=!1;"closed"===a._state&&(G(0===c.bytesFilled),b=!0);var e=N(c);if("default"===c.readerType)i(a,e,b);else{G("byob"===c.readerType);var d=a._reader;G(0<d._readIntoRequests.length);d._readIntoRequests.shift()._resolve(ba(e,b))}}function N(a){var c=a.bytesFilled,b=a.elementSize;G(c<=a.byteLength);G(0===c%b);return new a.ctor(a.buffer,a.byteOffset,c/b)}function U(a,c,b,e){a._queue.push({buffer:c,byteOffset:b,byteLength:e});a._queueTotalSize+=e}function S(a,c){var b=
c.elementSize,e=c.bytesFilled-c.bytesFilled%b,d=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),f=c.bytesFilled+d,f=f-f%b,b=!1;f>e&&(d=f-c.bytesFilled,b=!0);for(e=a._queue;0<d;){var f=e[0],i=Math.min(d,f.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,f.buffer,f.byteOffset,i);f.byteLength===i?e.shift():(f.byteOffset+=i,f.byteLength-=i);a._queueTotalSize-=i;O(a,i,c);d-=i}!1===b&&(G(0===a._queueTotalSize,"queue must be empty"),G(0<c.bytesFilled),G(c.bytesFilled<c.elementSize));return b}function O(a,
c,b){G(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===b);X(a);b.bytesFilled+=c}function M(a){G("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?f(a._controlledReadableStream):T(a)}function X(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function W(a){for(G(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];
!0===S(a,c)&&(Z(a),Q(a._controlledReadableStream,c))}}function ca(a,c){var b=a._controlledReadableStream,e=1;c.constructor!==DataView&&(e=c.constructor.BYTES_PER_ELEMENT);e={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:e,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return e.buffer=ka(e.buffer),a._pendingPullIntos.push(e),p(b);if("closed"===b._state)return b=new c.constructor(e.buffer,e.byteOffset,0),Promise.resolve(ba(b,!0));if(0<
a._queueTotalSize){if(!0===S(a,e))return b=N(e),M(a),Promise.resolve(ba(b,!1));if(!0===a._closeRequested)return b=new TypeError("Insufficient bytes to fill elements in the given buffer"),B(a,b),Promise.reject(b)}e.buffer=ka(e.buffer);a._pendingPullIntos.push(e);b=p(b);T(a);return b}function Y(a,c){var b=a._pendingPullIntos[0],e=a._controlledReadableStream;if("closed"===e._state){if(0!==c)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");b.buffer=ka(b.buffer);
G(0===b.bytesFilled,"bytesFilled must be 0");b=a._controlledReadableStream;if(!0===v(b))for(;0<b._reader._readIntoRequests.length;)e=Z(a),Q(b,e)}else{G("readable"===e._state);if(b.bytesFilled+c>b.byteLength)throw new RangeError("bytesWritten out of range");O(a,c,b);if(!(b.bytesFilled<b.elementSize)){Z(a);e=b.bytesFilled%b.elementSize;if(0<e){var d=b.byteOffset+b.bytesFilled,d=b.buffer.slice(d-e,d);U(a,d,0,d.byteLength)}b.buffer=ka(b.buffer);b.bytesFilled-=e;Q(a._controlledReadableStream,b);W(a)}}}
function Z(a){var c=a._pendingPullIntos.shift();X(a);return c}function V(a){var c=a._controlledReadableStream;return"readable"!==c._state||!0===a._closeRequested||!1===a._started?!1:!0===u(c)&&0<c._reader._readRequests.length||!0===v(c)&&0<c._reader._readIntoRequests.length||0<P(a)?!0:!1}function B(a,c){var b=a._controlledReadableStream;G("readable"===b._state);X(a);a._pendingPullIntos=[];ia(a);e(b,c)}function P(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-
a._queueTotalSize}function aa(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function da(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function fa(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ga(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b})}function pa(a,c){a._closedPromise=Promise.reject(c);
a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,c){G(void 0===a._closedPromise_resolve);G(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function la(a){return new TypeError("ReadableStreamBYOBReader.prototype."+
a+" can only be used on a ReadableStreamBYOBReader")}function ma(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ja(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,
void 0,function(){})}catch(c){}}var ha=function(){function a(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),b=d(0),Ba=b.ArrayBufferCopy,ba=b.CreateIterResultObject,Ca=b.IsFiniteNonNegativeNumber,xa=b.InvokeOrNoop,oa=b.PromiseInvokeOrNoop,ka=b.TransferArrayBuffer,Da=b.ValidateAndNormalizeQueuingStrategy,Ea=b.ValidateAndNormalizeHighWaterMark,
b=d(0),ta=b.createArrayFromList,na=b.createDataProperty,ea=b.typeIsObject,b=d(1),G=b.assert,$=b.rethrowAssertionErrorRejection,b=d(3),Fa=b.DequeueValue,Aa=b.EnqueueValueWithSize,ia=b.ResetQueue,d=d(2),Ga=d.AcquireWritableStreamDefaultWriter,Ha=d.IsWritableStream,Ia=d.IsWritableStreamLocked,Ja=d.WritableStreamAbort,Ka=d.WritableStreamDefaultWriterCloseWithErrorPropagation,La=d.WritableStreamDefaultWriterRelease,Ma=d.WritableStreamDefaultWriterWrite,ua=d.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var c=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.size,b=b.highWaterMark;o(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var d=c.type;if("bytes"===""+d)void 0===b&&(b=0),this._readableStreamController=new Na(this,c,b);else if(void 0===d)void 0===b&&(b=1),this._readableStreamController=new Oa(this,c,e,b);else throw new RangeError("Invalid type is specified");
}ha(a,[{key:"cancel",value:function(a){return!1===r(this)?Promise.reject(aa("cancel")):!0===m(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):c(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===r(this))throw aa("getReader");if(void 0===a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var b=
a.readable,e=this.pipeTo(a.writable,c);za(e);return b}},{key:"pipeTo",value:function(a){var b=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.preventClose,f=e.preventAbort,i=e.preventCancel;if(!1===r(this))return Promise.reject(aa("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));d=Boolean(d);f=Boolean(f);i=Boolean(i);if(!0===m(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var h=new ra(this),t=Ga(a),j=!1,v=Promise.resolve();return new Promise(function(e,C){function m(){v=Promise.resolve();return!0===j?Promise.resolve():t._readyPromise.then(function(){return x(h).then(function(a){var c=a.value;!0!==a.done&&(v=Ma(t,c)["catch"](function(){}))})}).then(m)}function E(){var a=v;return v.then(function(){return a!==v?E():void 0})}function p(a,c,b){if("errored"===
a._state)b(a._storedError);else c["catch"](b)["catch"]($)}function W(c,b,e){function d(){c().then(function(){return l(b,e)},function(a){return l(!0,a)})["catch"]($)}!0!==j&&(j=!0,"writable"===a._state&&!1===ua(a)?E().then(d):d())}function u(c,b){if(!0!==j)if(j=!0,"writable"===a._state&&!1===ua(a))E().then(function(){return l(c,b)})["catch"]($);else l(c,b)}function l(a,c){La(t);w(h);a?C(c):e(void 0)}p(b,h._closedPromise,function(c){!1===f?W(function(){return Ja(a,c)},!0,c):u(!0,c)});p(a,t._closedPromise,
function(a){!1===i?W(function(){return c(b,a)},!0,a):u(!0,a)});(function(a,c,b){if("closed"===a._state)b();else c.then(b)["catch"]($)})(b,h._closedPromise,function(){!1===d?W(function(){return Ka(t)}):u()});if(!0===ua(a)||"closed"===a._state){var M=new TypeError("the destination writable stream closed before all data could be piped to it");!1===i?W(function(){return c(b,M)},!0,M):u(!0,M)}m()["catch"](function(a){v=Promise.resolve();$(a)})})}},{key:"tee",value:function(){if(!1===r(this))throw aa("tee");
var a=n(this,!1);return ta(a)}},{key:"locked",get:function(){if(!1===r(this))throw aa("locked");return m(this)}}]);return a}();a.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){G(!0===r(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:D,ReadableStreamDefaultControllerEnqueue:L,ReadableStreamDefaultControllerError:F,ReadableStreamDefaultControllerGetDesiredSize:I};var ra=function(){function a(c){o(this,
a);if(!1===r(c))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===m(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,c);this._readRequests=[]}ha(a,[{key:"cancel",value:function(a){return!1===z(this)?Promise.reject(fa("cancel")):void 0===this._ownerReadableStream?Promise.reject(da("cancel")):t(this,a)}},{key:"read",value:function(){return!1===z(this)?Promise.reject(fa("read")):
void 0===this._ownerReadableStream?Promise.reject(da("read from")):x(this)}},{key:"releaseLock",value:function(){if(!1===z(this))throw fa("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");w(this)}}},{key:"closed",get:function(){return!1===z(this)?Promise.reject(fa("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(c){o(this,a);if(!r(c))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===H(c._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(m(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,c);this._readIntoRequests=[]}ha(a,[{key:"cancel",value:function(a){return!A(this)?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(da("cancel")):t(this,a)}},{key:"read",value:function(a){if(!A(this))return Promise.reject(la("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(da("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var c=this._ownerReadableStream;G(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):ca(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!A(this))throw la("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");w(this)}}},{key:"closed",get:function(){return!A(this)?Promise.reject(la("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(c,b,e,d){o(this,a);if(!1===r(c))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==c._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=c;this._underlyingSource=b;this._queueTotalSize=this._queue=void 0;ia(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;c=Da(e,d);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;var f=this,b=xa(b,"start",[this]);Promise.resolve(b).then(function(){f._started=!0;G(!1===f._pulling);G(!1===f._pullAgain);E(f)},function(a){J(f,a)})["catch"]($)}ha(a,[{key:"close",value:function(){if(!1===C(this))throw ma("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");D(this)}},{key:"enqueue",value:function(a){if(!1===C(this))throw ma("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return L(this,
a)}},{key:"error",value:function(a){if(!1===C(this))throw ma("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");F(this,a)}},{key:"__cancelSteps",value:function(a){ia(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var c=Fa(this);!0===this._closeRequested&&0===this._queue.length?f(a):E(this);return Promise.resolve(ba(c,
!1))}a=h(a);E(this);return a}},{key:"desiredSize",get:function(){if(!1===C(this))throw ma("desiredSize");return I(this)}}]);return a}(),Qa=function(){function a(c,b){o(this,a);this._associatedReadableByteStreamController=c;this._view=b}ha(a,[{key:"respond",value:function(a){if(!1===R(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");G(0<c._pendingPullIntos.length);Y(c,a)}},{key:"respondWithNewView",value:function(a){if(!1===R(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;G(0<c._pendingPullIntos.length);var b=c._pendingPullIntos[0];
if(b.byteOffset+b.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(b.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");b.buffer=a.buffer;Y(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(c,b,e){o(this,a);if(!1===r(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=c;this._underlyingByteSource=b;this._pulling=this._pullAgain=!1;X(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ia(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(e);e=b.autoAllocateChunkSize;if(void 0!==e&&(!1===Number.isInteger(e)||0>=e))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=e;this._pendingPullIntos=[];var d=this,b=xa(b,"start",[this]);Promise.resolve(b).then(function(){d._started=!0;G(!1===d._pulling);G(!1===d._pullAgain);T(d)},function(a){"readable"===c._state&&B(d,a)})["catch"]($)}ha(a,[{key:"close",value:function(){if(!1===H(this))throw ja("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),B(this,a),a;f(a)}}},{key:"enqueue",value:function(a){if(!1===H(this))throw ja("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");c=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===c._state);var b=a.byteOffset,e=a.byteLength,a=ka(a.buffer);!0===u(c)?0===c._reader._readRequests.length?U(this,a,b,e):(G(0===
this._queue.length),a=new Uint8Array(a,b,e),i(c,a,!1)):!0===v(c)?(U(this,a,b,e),W(this)):(G(!1===m(c),"stream must not be locked"),U(this,a,b,e))}},{key:"error",value:function(a){if(!1===H(this))throw ja("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");B(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ia(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;G(!0===u(a));if(0<this._queueTotalSize){G(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;M(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(b){return Promise.reject(b)}return Promise.resolve(ba(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var e=void 0;try{e=new ArrayBuffer(c)}catch(d){return Promise.reject(d)}this._pendingPullIntos.push({buffer:e,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=h(a);T(this);return a}},{key:"byobRequest",get:function(){if(!1===H(this))throw ja("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===H(this))throw ja("desiredSize");
return P(this)}}]);return a}()},function(a,b,d){var a=d(6),o=d(4),d=d(2);b.TransformStream=a.TransformStream;b.ReadableStream=o.ReadableStream;b.IsReadableStreamDisturbed=o.IsReadableStreamDisturbed;b.ReadableStreamDefaultControllerClose=o.ReadableStreamDefaultControllerClose;b.ReadableStreamDefaultControllerEnqueue=o.ReadableStreamDefaultControllerEnqueue;b.ReadableStreamDefaultControllerError=o.ReadableStreamDefaultControllerError;b.ReadableStreamDefaultControllerGetDesiredSize=o.ReadableStreamDefaultControllerGetDesiredSize;
b.AcquireWritableStreamDefaultWriter=d.AcquireWritableStreamDefaultWriter;b.IsWritableStream=d.IsWritableStream;b.IsWritableStreamLocked=d.IsWritableStreamLocked;b.WritableStream=d.WritableStream;b.WritableStreamAbort=d.WritableStreamAbort;b.WritableStreamDefaultControllerError=d.WritableStreamDefaultControllerError;b.WritableStreamDefaultWriterCloseWithErrorPropagation=d.WritableStreamDefaultWriterCloseWithErrorPropagation;b.WritableStreamDefaultWriterRelease=d.WritableStreamDefaultWriterRelease;
b.WritableStreamDefaultWriterWrite=d.WritableStreamDefaultWriterWrite},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var b=a._readableController;try{C(b,c)}catch(e){throw a._readableClosed=!0,n(a,e),a._storedError;}!0===0>=K(b)&&!1===a._backpressure&&j(a,!0)}function m(a){u(!1===
a._errored);u(!1===a._readableClosed);try{x(a._readableController)}catch(c){u(!1)}a._readableClosed=!0}function n(a,c){!1===a._errored&&s(a,c)}function s(a,c){u(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&L(a._writableController,c);!1===a._readableClosed&&E(a._readableController,c)}function y(a){u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();u(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function j(a,c){u(a._backpressure!==c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){u(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function p(a,
c){r(c._controlledTransformStream,a);return Promise.resolve()}function h(a,c){u(!1===a._errored);u(!1===a._transforming);u(!1===a._backpressure);a._transforming=!0;var b=a._transformStreamController;return z(a._transformer,"transform",[c,b],p,[c,b]).then(function(){a._transforming=!1;return y(a)},function(c){n(a,c);return Promise.reject(c)})}function c(a){return!t(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function f(a){return!t(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function e(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function i(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var v=function(){function a(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&a(c.prototype,
b);e&&a(c,e);return c}}(),u=d(1).assert,b=d(0),A=b.InvokeOrNoop,z=b.PromiseInvokeOrPerformFallback,q=b.PromiseInvokeOrNoop,t=b.typeIsObject,b=d(4),w=b.ReadableStream,x=b.ReadableStreamDefaultControllerClose,C=b.ReadableStreamDefaultControllerEnqueue,E=b.ReadableStreamDefaultControllerError,K=b.ReadableStreamDefaultControllerGetDesiredSize,d=d(2),D=d.WritableStream,L=d.WritableStreamDefaultControllerError,F=function(){function a(c,b){o(this,a);this._transformStream=c;this._startPromise=b}v(a,[{key:"start",
value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return y(c)})}},{key:"write",value:function(a){return h(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;s(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;u(!1===a._transforming);a._writableDone=!0;return q(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&m(a);return Promise.resolve()})["catch"](function(c){n(a,c);return Promise.reject(a._storedError)})}}]);return a}(),J=function(){function a(c,b){o(this,a);this._transformStream=c;this._startPromise=b}v(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){u(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");
if(!0===c._backpressure)return Promise.resolve();u(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;u(!0===a._backpressure,"pull() should be never called while _backpressure is false");u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");j(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;
a._readableClosed=!0;s(a,new TypeError("Readable side canceled"))}}]);return a}(),I=function(){function a(c){o(this,a);if(!1===f(c))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==c._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=c}v(a,[{key:"enqueue",value:function(a){if(!1===c(this))throw e("enqueue");
r(this._controlledTransformStream,a)}},{key:"close",value:function(){if(!1===c(this))throw e("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");m(a)}},{key:"error",value:function(a){if(!1===c(this))throw e("error");var b=this._controlledTransformStream;if(!0===b._errored)throw new TypeError("TransformStream is already errored");s(b,a)}},{key:"desiredSize",
get:function(){if(!1===c(this))throw e("desiredSize");return K(this._controlledTransformStream._readableController)}}]);return a}(),d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,a);this._transformer=c;var b=c.readableStrategy,e=c.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new I(this);var d=void 0,f=new Promise(function(a){d=a}),i=new J(this,f);this._readable=new w(i,b);b=new F(this,f);this._writable=new D(b,e);u(void 0!==this._writableController);u(void 0!==this._readableController);e=K(this._readableController);j(this,0>=e);var h=this,c=A(c,"start",[h._transformStreamController]);d(c);f["catch"](function(a){!1===h._errored&&(h._errored=!0,h._storedError=a)})}v(a,[{key:"readable",
get:function(){if(!1===f(this))throw i("readable");return this._readable}},{key:"writable",get:function(){if(!1===f(this))throw i("writable");return this._writable}}]);return a}();a.exports={TransformStream:d}},function(a,b,d){a.exports=d(5)}]))},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}d=!1;
try{if("function"===typeof URL&&"object"===g(URL.prototype)&&"origin"in URL.prototype){var k=new URL("b","http://a");k.pathname="c%20d";d="http://a/c%20d"===k.href}}catch(l){}if(d)b.URL=URL;else{var k=a(146).URL,o=a(3).URL;o&&(k.createObjectURL=function(a){return o.createObjectURL.apply(o,arguments)},k.revokeObjectURL=function(a){o.revokeObjectURL(a)});b.URL=k}},function(d,b){(function(){function a(a){""===a&&(o.call(this),this._isInvalid=!0);return a.toLowerCase()}function d(a){var b=a.charCodeAt(0);
return 32<b&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function k(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function l(b,h,c){function f(a){z.push(a)}var e=h||"scheme start",i=0,v="",u=!1,l=!1,z=[];a:for(;(b[i-1]!==s||0===i)&&!this._isInvalid;){var q=b[i];switch(e){case "scheme start":if(q&&y.test(q))v+=q.toLowerCase(),e="scheme";else if(h){f("Invalid scheme.");break a}else{v="";e="no scheme";continue}break;case "scheme":if(q&&
j.test(q))v+=q.toLowerCase();else if(":"===q){this._scheme=v;v="";if(h)break a;void 0!==m[this._scheme]&&(this._isRelative=!0);e="file"===this._scheme?"relative":this._isRelative&&c&&c._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(h){q!==s&&f("Code point not allowed in scheme: "+q);break a}else{v="";i=0;e="no scheme";continue}break;case "scheme data":"?"===q?(this._query="?",e="query"):"#"===q?(this._fragment="#",e="fragment"):q!==s&&
("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._schemeData+=d(q));break;case "no scheme":if(!c||void 0===m[c._scheme])f("Missing scheme."),o.call(this),this._isInvalid=!0;else{e="relative";continue}break;case "relative or authority":if("/"===q&&"/"===b[i+1])e="authority ignore slashes";else{f("Expected /, got: "+q);e="relative";continue}break;case "relative":this._isRelative=!0;"file"!==this._scheme&&(this._scheme=c._scheme);if(q===s){this._host=c._host;this._port=c._port;this._path=c._path.slice();this._query=
c._query;this._username=c._username;this._password=c._password;break a}else if("/"===q||"\\"===q)"\\"===q&&f("\\ is an invalid code point."),e="relative slash";else if("?"===q)this._host=c._host,this._port=c._port,this._path=c._path.slice(),this._query="?",this._username=c._username,this._password=c._password,e="query";else if("#"===q)this._host=c._host,this._port=c._port,this._path=c._path.slice(),this._query=c._query,this._fragment="#",this._username=c._username,this._password=c._password,e="fragment";
else{var e=b[i+1],t=b[i+2];if("file"!==this._scheme||!y.test(q)||":"!==e&&"|"!==e||t!==s&&"/"!==t&&"\\"!==t&&"?"!==t&&"#"!==t)this._host=c._host,this._port=c._port,this._username=c._username,this._password=c._password,this._path=c._path.slice(),this._path.pop();e="relative path";continue}break;case "relative slash":if("/"===q||"\\"===q)"\\"===q&&f("\\ is an invalid code point."),e="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=c._host,this._port=
c._port,this._username=c._username,this._password=c._password);e="relative path";continue}break;case "authority first slash":if("/"===q)e="authority second slash";else{f("Expected '/', got: "+q);e="authority ignore slashes";continue}break;case "authority second slash":e="authority ignore slashes";if("/"!==q){f("Expected '/', got: "+q);continue}break;case "authority ignore slashes":if("/"!==q&&"\\"!==q){e="authority";continue}else f("Expected authority, got: "+q);break;case "authority":if("@"===q){u&&
(f("@ already seen."),v+="%40");u=!0;for(q=0;q<v.length;q++)t=v[q],"\t"===t||"\n"===t||"\r"===t?f("Invalid whitespace in authority."):":"===t&&null===this._password?this._password="":(t=d(t),null!==this._password?this._password+=t:this._username+=t);v=""}else if(q===s||"/"===q||"\\"===q||"?"===q||"#"===q){i-=v.length;v="";e="host";continue}else v+=q;break;case "file host":if(q===s||"/"===q||"\\"===q||"?"===q||"#"===q){2===v.length&&y.test(v[0])&&(":"===v[1]||"|"===v[1])?e="relative path":(0!==v.length&&
(this._host=a.call(this,v),v=""),e="relative path start");continue}else"\t"===q||"\n"===q||"\r"===q?f("Invalid whitespace in file host."):v+=q;break;case "host":case "hostname":if(":"===q&&!l){if(this._host=a.call(this,v),v="",e="port","hostname"===h)break a}else if(q===s||"/"===q||"\\"===q||"?"===q||"#"===q){this._host=a.call(this,v);v="";e="relative path start";if(h)break a;continue}else"\t"!==q&&"\n"!==q&&"\r"!==q?("["===q?l=!0:"]"===q&&(l=!1),v+=q):f("Invalid code point in host/hostname: "+q);
break;case "port":if(/[0-9]/.test(q))v+=q;else if(q===s||"/"===q||"\\"===q||"?"===q||"#"===q||h){""!==v&&(v=parseInt(v,10),v!==m[this._scheme]&&(this._port=v+""),v="");if(h)break a;e="relative path start";continue}else"\t"===q||"\n"===q||"\r"===q?f("Invalid code point in port: "+q):(o.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===q&&f("'\\' not allowed in path.");e="relative path";if("/"!==q&&"\\"!==q)continue;break;case "relative path":if(q===s||"/"===q||"\\"===q||!h&&("?"===
q||"#"===q)){"\\"===q&&f("\\ not allowed in relative path.");if(t=n[v.toLowerCase()])v=t;".."===v?(this._path.pop(),"/"!==q&&"\\"!==q&&this._path.push("")):"."===v&&"/"!==q&&"\\"!==q?this._path.push(""):"."!==v&&("file"===this._scheme&&(0===this._path.length&&2===v.length&&y.test(v[0])&&"|"===v[1])&&(v=v[0]+":"),this._path.push(v));v="";"?"===q?(this._query="?",e="query"):"#"===q&&(this._fragment="#",e="fragment")}else"\t"!==q&&("\n"!==q&&"\r"!==q)&&(v+=d(q));break;case "query":!h&&"#"===q?(this._fragment=
"#",e="fragment"):q!==s&&("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._query+=k(q));break;case "fragment":q!==s&&("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._fragment+=q)}i++}}function o(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function r(a,b){void 0!==b&&!(b instanceof r)&&(b=new r(""+b));this._url=a;o.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");l.call(this,c,
null,b)}var m=Object.create(null);m.ftp=21;m.file=0;m.gopher=70;m.http=80;m.https=443;m.ws=80;m.wss=443;var n=Object.create(null);n["%2e"]=".";n[".%2e"]="..";n["%2e."]="..";n["%2e%2e"]="..";var s,y=/[a-zA-Z]/,j=/[a-zA-Z0-9\+\-\.]/;r.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:
"")+this.pathname+this._query+this._fragment},set href(a){o.call(this);l.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||l.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&l.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&l.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&
this._isRelative&&l.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],l.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),l.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||
"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),l.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new r(this._schemeData)).origin||"null"}catch(b){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};b.URL=r})()},function(d,b,a){function g(a){return a&&a.__esModule?a:{"default":a}}
function k(a,c,b,e,d,f,i){try{var w=a[f](i),t=w.value}catch(h){b(h);return}w.done?c(t):Promise.resolve(t).then(e,d)}function l(a){return function(){var c=this,b=arguments;return new Promise(function(e,d){function f(a){k(w,e,d,f,i,"next",a)}function i(a){k(w,e,d,f,i,"throw",a)}var w=a.apply(c,b);f(void 0)})}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function r(a,c){var b=[],e=!0,d=!1,f=void 0;try{for(var i=a[Symbol.iterator](),w;!(e=(w=i.next()).done)&&
!(b.push(w.value),c&&b.length===c);e=!0);}catch(t){d=!0,f=t}finally{try{if(!e&&null!=i["return"])i["return"]()}finally{if(d)throw f;}}return b}function m(a){if(Array.isArray(a))return a}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function s(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function y(a){if(Array.isArray(a)){for(var c=0,b=Array(a.length);c<a.length;c++)b[c]=a[c];return b}}function j(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function p(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function h(a,c,b){c&&p(a.prototype,c);b&&p(a,b);return a}function c(a){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return c(a)}function f(a,c,b,e){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));b&&(c.length=b.length,c.initialData=b.initialData,c.progressiveDone=b.progressiveDone);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.3.146",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,disableCreateObjectURL:c.disableCreateObjectURL,
postMessageTransfers:a.postMessageTransfers,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported}).then(function(c){if(a.destroyed)throw Error("Worker was destroyed");return c})}Object.defineProperty(b,"__esModule",{value:!0});b.getDocument=function(a){var b=new I;if("string"===typeof a)a={url:a};else if((0,i.isArrayBuffer)(a))a={data:a};else if(a instanceof H)a={range:a};else{if("object"!==c(a))throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var e=Object.create(null),d=null,h=null,x;for(x in a)if("url"===x&&"undefined"!==typeof window)e[x]=(new i.URL(a[x],window.location)).href;else if("range"===x)d=a[x];else if("worker"===x)h=a[x];else if("data"===x&&!(a[x]instanceof Uint8Array)){var j=a[x];if("string"===typeof j)e[x]=(0,i.stringToBytes)(j);else if("object"===c(j)&&null!==j&&!isNaN(j.length))e[x]=new Uint8Array(j);else if((0,i.isArrayBuffer)(j))e[x]=
new Uint8Array(j);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else e[x]=a[x];e.rangeChunkSize=e.rangeChunkSize||K;e.CMapReaderFactory=e.CMapReaderFactory||v.DOMCMapReaderFactory;e.ignoreErrors=!0!==e.stopAtErrors;e.pdfBug=!0===e.pdfBug;x=Object.values(i.NativeImageDecoding);if(void 0===e.nativeImageDecoderSupport||!x.includes(e.nativeImageDecoderSupport))e.nativeImageDecoderSupport=A.apiCompatibilityParams.nativeImageDecoderSupport||
i.NativeImageDecoding.DECODE;Number.isInteger(e.maxImageSize)||(e.maxImageSize=-1);"boolean"!==typeof e.isEvalSupported&&(e.isEvalSupported=!0);"boolean"!==typeof e.disableFontFace&&(e.disableFontFace=A.apiCompatibilityParams.disableFontFace||!1);"boolean"!==typeof e.disableRange&&(e.disableRange=!1);"boolean"!==typeof e.disableStream&&(e.disableStream=!1);"boolean"!==typeof e.disableAutoFetch&&(e.disableAutoFetch=!1);"boolean"!==typeof e.disableCreateObjectURL&&(e.disableCreateObjectURL=A.apiCompatibilityParams.disableCreateObjectURL||
!1);(0,i.setVerbosityLevel)(e.verbosity);h||(x={postMessageTransfers:e.postMessageTransfers,verbosity:e.verbosity,port:t.GlobalWorkerOptions.workerPort},h=x.port?N.fromPort(x):new N(x),b._worker=h);var m=b.docId;h.promise.then(function(){if(b.destroyed)throw Error("Loading aborted");return f(h,e,d,m).then(function(a){if(b.destroyed)throw Error("Loading aborted");var c;d?c=new C.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,disableRange:e.disableRange,
disableStream:e.disableStream},d):e.data||(c=J({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream}));a=new w.MessageHandler(m,a,h.port);a.postMessageTransfers=h.postMessageTransfers;c=new U(a,b,c,e);b._transport=c;a.send("Ready",null)})})["catch"](b._capability.reject);return b};b.setPDFNetworkStreamFactory=function(a){J=a};b.build=b.version=b.PDFPageProxy=b.PDFDocumentProxy=
b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=void 0;var e=g(a(148)),i=a(1),v=a(151),u=a(152),A=a(153),z=a(154),q=g(a(3)),t=a(156),w=a(157),x=a(158),C=a(160),E=a(161),K=65536,D=!1,L,F=null,d=!1;"undefined"===typeof window?(D=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),d=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(d=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(L=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));a="undefined"!==
typeof requirejs&&requirejs.load;F=d?function(){return new Promise(function(a,c){require.ensure([],function(){try{var b;b=require("./pdf.worker.js");a(b.WorkerMessageHandler)}catch(e){c(e)}},c,"pdfjsWorker")})}:a?function(){return new Promise(function(a,c){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){try{a(b.WorkerMessageHandler)}catch(e){c(e)}},c)})}:null;if(!L&&"object"===("undefined"===typeof document?"undefined":c(document))&&"currentScript"in document)(d=document.currentScript&&document.currentScript.src)&&
(L=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"));var J,I=function(){var a=0;return function(){function c(){j(this,c);this._capability=(0,i.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}h(c,[{key:"destroy",value:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();
a._worker=null}})}},{key:"then",value:function(a,c){(0,v.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]);return c}()}(),H=function(){function a(c,b){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;j(this,a);this.length=c;this.initialData=b;this.progressiveDone=e;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=
[];this._progressiveDoneListeners=[];this._readyCapability=(0,i.createPromiseCapability)()}h(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"addProgressiveDoneListener",value:function(a){this._progressiveDoneListeners.push(a)}},{key:"onDataRange",value:function(a,c){var b=true,e=false,d=void 0;
try{for(var f=this._rangeListeners[Symbol.iterator](),i;!(b=(i=f.next()).done);b=true){var w=i.value;w(a,c)}}catch(h){e=true;d=h}finally{try{if(!b&&f["return"]!=null)f["return"]()}finally{if(e)throw d;}}}},{key:"onDataProgress",value:function(a,c){var b=this;this._readyCapability.promise.then(function(){var e=true,d=false,f=void 0;try{for(var i=b._progressListeners[Symbol.iterator](),w;!(e=(w=i.next()).done);e=true){var h=w.value;h(a,c)}}catch(t){d=true;f=t}finally{try{if(!e&&i["return"]!=null)i["return"]()}finally{if(d)throw f;
}}})}},{key:"onDataProgressiveRead",value:function(a){var c=this;this._readyCapability.promise.then(function(){var b=true,e=false,d=void 0;try{for(var f=c._progressiveReadListeners[Symbol.iterator](),i;!(b=(i=f.next()).done);b=true){var w=i.value;w(a)}}catch(h){e=true;d=h}finally{try{if(!b&&f["return"]!=null)f["return"]()}finally{if(e)throw d;}}})}},{key:"onDataProgressiveDone",value:function(){var a=this;this._readyCapability.promise.then(function(){var c=true,b=false,e=void 0;try{for(var d=a._progressiveDoneListeners[Symbol.iterator](),
f;!(c=(f=d.next()).done);c=true){var i=f.value;i()}}catch(w){b=true;e=w}finally{try{if(!c&&d["return"]!=null)d["return"]()}finally{if(b)throw e;}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]);return a}();b.PDFDataRangeTransport=H;var R=function(){function a(c,b){j(this,a);this._pdfInfo=c;this._transport=b}h(a,[{key:"getPage",
value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},
{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},
{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},
{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]);return a}();b.PDFDocumentProxy=R;var T=function(){function a(c,b,e){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;j(this,a);this.pageIndex=c;this._pageInfo=b;this._transport=e;this._stats=d?new v.StatTimer:v.DummyStatTimer;this._pdfBug=d;this.commonObjs=e.commonObjs;
this.objs=new S;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}h(a,[{key:"getViewport",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.scale,b=a.rotation,b=b===void 0?this.rotate:b,a=a.dontFlip,a=a===void 0?false:a;if(arguments.length>1||typeof arguments[0]==="number"){(0,v.deprecated)("getViewport is called with obsolete arguments.");c=arguments[0];b=typeof arguments[1]==="number"?arguments[1]:this.rotate;
a=typeof arguments[2]==="boolean"?arguments[2]:false}return new v.PageViewport({viewBox:this.view,scale:c,rotation:b,dontFlip:a})}},{key:"getAnnotations",value:function(){var a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).intent,a=a===void 0?null:a;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise}},{key:"render",value:function(a){var c=this,b=a.canvasContext,
e=a.viewport,d=a.intent,d=d===void 0?"display":d,f=a.enableWebGL,f=f===void 0?false:f,w=a.renderInteractiveForms,w=w===void 0?false:w,h=a.transform,h=h===void 0?null:h,t=a.imageLayer,t=t===void 0?null:t,x=a.canvasFactory,x=x===void 0?null:x,a=a.background,a=a===void 0?null:a,j=this._stats;j.time("Overall");this.pendingCleanup=false;var C=d==="print"?"print":"display",d=x||new v.DOMCanvasFactory,f=new E.WebGLContext({enable:f});this.intentStates[C]||(this.intentStates[C]=Object.create(null));var m=
this.intentStates[C];if(!m.displayReadyCapability){m.displayReadyCapability=(0,i.createPromiseCapability)();m.operatorList={fnArray:[],argsArray:[],lastChunk:false};j.time("Page Request");this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:C,renderInteractiveForms:w===true})}var u=function(a){var b=m.renderTasks.indexOf(p);b>=0&&m.renderTasks.splice(b,1);if(c.cleanupAfterRender||C==="print")c.pendingCleanup=true;c._tryCleanup();if(a){p.capability.reject(a);c._abortOperatorList({intentState:m,
reason:a})}else p.capability.resolve();j.timeEnd("Rendering");j.timeEnd("Overall")},p=new M({callback:u,params:{canvasContext:b,viewport:e,transform:h,imageLayer:t,background:a},objs:this.objs,commonObjs:this.commonObjs,operatorList:m.operatorList,pageNumber:this.pageNumber,canvasFactory:d,webGLContext:f,useRequestAnimationFrame:C!=="print",pdfBug:this._pdfBug});if(!m.renderTasks)m.renderTasks=[];m.renderTasks.push(p);b=p.task;m.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)u();
else{j.time("Rendering");p.initializeGraphics(a);p.operatorListChanged()}})["catch"](u);return b}},{key:"getOperatorList",value:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var e=c.renderTasks.indexOf(b);e>=0&&c.renderTasks.splice(e,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var c=this.intentStates.oplist,b;if(!c.opListReadCapability){b={};b.operatorListChanged=a;c.opListReadCapability=(0,i.createPromiseCapability)();
c.renderTasks=[];c.renderTasks.push(b);c.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this.pageIndex,intent:"oplist"})}return c.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.normalizeWhitespace,a=a.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:(c===
void 0?false:c)===true,combineTextItems:(a===void 0?false:a)!==true},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=this.streamTextContent(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{});return new Promise(function(c,b){function e(){d.read().then(function(a){var b,d=a.value;if(a.done)c(f);else{Object.assign(f.styles,d.styles);(b=f.items).push.apply(b,y(d.items)||s(d.items)||n());e()}},b)}var d=a.getReader(),f={items:[],styles:Object.create(null)};
e()})}},{key:"_destroy",value:function(){var a=this;this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var c=[];Object.keys(this.intentStates).forEach(function(b){var e=a.intentStates[b];a._abortOperatorList({intentState:e,reason:Error("Page was destroyed."),force:true});b!=="oplist"&&e.renderTasks.forEach(function(a){var b=a.capability.promise["catch"](function(){});c.push(b);a.cancel()})});this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(c)}},
{key:"cleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(c){c=a.intentStates[c];return c.renderTasks.length!==0||!c.operatorList.lastChunk})){Object.keys(this.intentStates).forEach(function(c){delete a.intentStates[c]});this.objs.clear();
this.annotationsPromise=null;if(c&&this._stats instanceof v.StatTimer)this._stats=new v.StatTimer;this.pendingCleanup=false}}},{key:"_startRenderPage",value:function(a,c){var b=this.intentStates[c];b.displayReadyCapability&&b.displayReadyCapability.resolve(a)}},{key:"_renderPageChunk",value:function(a,c){for(var b=0,e=a.length;b<e;b++){c.operatorList.fnArray.push(a.fnArray[b]);c.operatorList.argsArray.push(a.argsArray[b])}c.operatorList.lastChunk=a.lastChunk;for(b=0;b<c.renderTasks.length;b++)c.renderTasks[b].operatorListChanged();
a.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(a){var c=this;(0,i.assert)(a.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var b=this._transport.messageHandler.sendWithStream("GetOperatorList",a).getReader(),e=this.intentStates[a.intent];e.streamReader=b;(function B(){b.read().then(function(a){var b=a.value;if(a.done)e.streamReader=null;else if(!c._transport.destroyed){c._renderPageChunk(b.operatorList,e);B()}},function(a){e.streamReader=null;if(!c._transport.destroyed){if(e.operatorList){e.operatorList.lastChunk=
true;for(var b=0;b<e.renderTasks.length;b++)e.renderTasks[b].operatorListChanged();c._tryCleanup()}if(e.displayReadyCapability)e.displayReadyCapability.reject(a);else if(e.opListReadCapability)e.opListReadCapability.reject(a);else throw a;}})})()}},{key:"_abortOperatorList",value:function(a){var c=a.intentState,b=a.reason,a=a.force,a=a===void 0?false:a;(0,i.assert)(b instanceof Error,'PDFPageProxy._abortOperatorList: Expected "reason" argument.');if(c.streamReader&&(a||c.renderTasks.length===0)&&
!(b instanceof v.RenderingCancelledException)){c.streamReader.cancel(new i.AbortException(b&&b.message));c.streamReader=null}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof v.StatTimer?this._stats:
null}}]);return a}();b.PDFPageProxy=T;var Q=function(){function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;j(this,a);this._listeners=[];this._defer=c;this._deferred=Promise.resolve(void 0)}h(a,[{key:"postMessage",value:function(a,b){function e(a){if(c(a)!=="object"||a===null)return a;if(f.has(a))return f.get(a);var d;if((d=a.buffer)&&(0,i.isArrayBuffer)(d)){var w=b&&b.includes(d);d=a===d?a:w?new a.constructor(d,a.byteOffset,a.byteLength):new a.constructor(a);f.set(a,d);
return d}d=Array.isArray(a)?[]:{};f.set(a,d);for(w in a){for(var h=void 0,t=a;!(h=Object.getOwnPropertyDescriptor(t,w));)t=Object.getPrototypeOf(t);typeof h.value==="undefined"||typeof h.value==="function"||(d[w]=e(h.value))}return d}var d=this;if(this._defer){var f=new WeakMap,w={data:e(a)};this._deferred.then(function(){d._listeners.forEach(function(a){a.call(d,w)})})}else this._listeners.forEach(function(c){c.call(d,{data:a})})}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},
{key:"removeEventListener",value:function(a,c){this._listeners.splice(this._listeners.indexOf(c),1)}},{key:"terminate",value:function(){this._listeners.length=0}}]);return a}();b.LoopbackPort=Q;var N=function(){function a(){if(t.GlobalWorkerOptions.workerSrc)return t.GlobalWorkerOptions.workerSrc;if(typeof L!=="undefined")return L;throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function c(){try{if(typeof window!=="undefined")return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(a){}return null}
function b(){if(x)return x.promise;x=(0,i.createPromiseCapability)();var e=c();if(e){x.resolve(e);return x.promise}(F||function(){return(0,v.loadScript)(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(x.resolve,x.reject);return x.promise}function e(a){return i.URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}var d=new WeakMap,f=0,x;return function(){function x(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.name,c=c===void 0?null:c,b=
a.port,b=b===void 0?null:b,e=a.postMessageTransfers,e=e===void 0?true:e,a=a.verbosity,a=a===void 0?(0,i.getVerbosityLevel)():a;j(this,x);if(b&&d.has(b))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=e!==false;this.verbosity=a;this._readyCapability=(0,i.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(b){d.set(b,this);this._initializeFromPort(b)}else this._initialize()}h(x,[{key:"_initializeFromPort",
value:function(a){this._port=a;this._messageHandler=new w.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function(){var b=this;if(typeof Worker!=="undefined"&&!D&&!c()){var d=a();try{if(!(0,i.isSameOrigin)(window.location.href,d))d=e((new i.URL(d,window.location)).href);var f=new Worker(d),x=new w.MessageHandler("main","worker",f),h=function(){f.removeEventListener("error",t);x.destroy();f.terminate();b.destroyed?
b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},t=function(){b._webWorker||h()};f.addEventListener("error",t);x.on("test",function(a){f.removeEventListener("error",t);if(b.destroyed)h();else if(a&&a.supportTypedArray){b._messageHandler=x;b._port=f;b._webWorker=f;if(!a.supportTransfers)b.postMessageTransfers=false;b._readyCapability.resolve();x.send("configure",{verbosity:b.verbosity})}else{b._setupFakeWorker();x.destroy();f.terminate()}});x.on("ready",function(){f.removeEventListener("error",
t);if(b.destroyed)h();else try{j()}catch(a){b._setupFakeWorker()}});var j=function(){var a=new Uint8Array([b.postMessageTransfers?255:0]);try{x.send("test",a,[a.buffer])}catch(c){(0,i.info)("Cannot use postMessage transfers");a[0]=0;x.send("test",a)}};j();return}catch(v){(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;if(!D){(0,i.warn)("Setting up fake worker.");D=true}b().then(function(c){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));
else{var b=new Q;a._port=b;var e="fake"+f++,d=new w.MessageHandler(e+"_worker",e,b);c.setup(d,b);c=new w.MessageHandler(e,e+"_worker",b);a._messageHandler=c;a._readyCapability.resolve()}})["catch"](function(c){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(c.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}d["delete"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();
this._messageHandler=null}}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");return d.has(a.port)?d.get(a.port):new x(a)}},{key:"getWorkerSrc",value:function(){return a()}}]);return x}()}();b.PDFWorker=N;var U=function(){function a(c,b,e,d){j(this,a);this.messageHandler=
c;this.loadingTask=b;this.commonObjs=new S;this.fontLoader=new u.FontLoader({docId:b.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)});this._params=d;this.CMapReaderFactory=new d.CMapReaderFactory({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=e;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,i.createPromiseCapability)();this.setupMessageHandler()}
h(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,i.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())});this.pageCache.length=0;this.pagePromises.length=0;var b=this.messageHandler.sendWithPromise("Terminate",null);c.push(b);Promise.all(c).then(function(){a.fontLoader.clear();
a._networkStream&&a._networkStream.cancelAllRequests(new i.AbortException("Worker was terminated."));if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this,c=this.messageHandler,b=this.loadingTask;c.on("GetReader",function(c,b){(0,i.assert)(a._networkStream);a._fullReader=a._networkStream.getFullReader();a._fullReader.onProgress=
function(c){a._lastProgress={loaded:c.loaded,total:c.total}};b.onPull=function(){a._fullReader.read().then(function(a){var c=a.value;if(a.done)b.close();else{(0,i.assert)((0,i.isArrayBuffer)(c));b.enqueue(new Uint8Array(c),1,[c])}})["catch"](function(a){b.error(a)})};b.onCancel=function(c){a._fullReader.cancel(c)}});c.on("ReaderHeadersReady",function(){var c=(0,i.createPromiseCapability)(),e=a._fullReader;e.headersReady.then(function(){if(!e.isStreamingSupported||!e.isRangeSupported){if(a._lastProgress&&
b.onProgress)b.onProgress(a._lastProgress);e.onProgress=function(a){if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}}c.resolve({isStreamingSupported:e.isStreamingSupported,isRangeSupported:e.isRangeSupported,contentLength:e.contentLength})},c.reject);return c.promise});c.on("GetRangeReader",function(c,b){(0,i.assert)(a._networkStream);var e=a._networkStream.getRangeReader(c.begin,c.end);if(e){b.onPull=function(){e.read().then(function(a){var c=a.value;if(a.done)b.close();else{(0,i.assert)((0,
i.isArrayBuffer)(c));b.enqueue(new Uint8Array(c),1,[c])}})["catch"](function(a){b.error(a)})};b.onCancel=function(a){e.cancel(a)}}else b.close()});c.on("GetDoc",function(c){c=c.pdfInfo;a._numPages=c.numPages;b._capability.resolve(new R(c,a))});c.on("PasswordRequest",function(c){a._passwordCapability=(0,i.createPromiseCapability)();if(b.onPassword){var e=function(c){a._passwordCapability.resolve({password:c})};try{b.onPassword(e,c.code)}catch(d){a._passwordCapability.reject(d)}}else a._passwordCapability.reject(new i.PasswordException(c.message,
c.code));return a._passwordCapability.promise});c.on("PasswordException",function(a){b._capability.reject(new i.PasswordException(a.message,a.code))});c.on("InvalidPDF",function(a){b._capability.reject(new i.InvalidPDFException(a.message))});c.on("MissingPDF",function(a){b._capability.reject(new i.MissingPDFException(a.message))});c.on("UnexpectedResponse",function(a){b._capability.reject(new i.UnexpectedResponseException(a.message,a.status))});c.on("UnknownError",function(a){b._capability.reject(new i.UnknownErrorException(a.message,
a.details))});c.on("DataLoaded",function(c){if(b.onProgress)b.onProgress({loaded:c.length,total:c.length});a.downloadInfoCapability.resolve(c)});c.on("StartRenderPage",function(c){if(!a.destroyed){var b=a.pageCache[c.pageIndex];b._stats.timeEnd("Page Request");b._startRenderPage(c.transparency,c.intent)}});c.on("commonobj",function(b){if(!a.destroyed){var b=m(b)||r(b,3)||o(),e=b[0],d=b[1],b=b[2];if(!a.commonObjs.has(e))switch(d){case "Font":d=a._params;if("error"in b){b=b.error;(0,i.warn)("Error during font loading: ".concat(b));
a.commonObjs.resolve(e,b);break}var f=null;d.pdfBug&&(q["default"].FontInspector&&q["default"].FontInspector.enabled)&&(f={registerFont:function(a,c){q["default"].FontInspector.fontAdded(a,c)}});var w=new u.FontFaceObject(b,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:a._onUnsupportedFeature.bind(a),fontRegistry:f});a.fontLoader.bind(w).then(function(){a.commonObjs.resolve(e,w)},function(){c.sendWithPromise("FontFallback",{id:e})["finally"](function(){a.commonObjs.resolve(e,
w)})});break;case "FontPath":case "FontType3Res":a.commonObjs.resolve(e,b);break;default:throw Error("Got unknown common object type ".concat(d));}}});c.on("obj",function(c){if(!a.destroyed){var c=m(c)||r(c,4)||o(),b=c[0],e=c[2],d=c[3],f=a.pageCache[c[1]];if(!f.objs.has(b))switch(e){case "JpegStream":return(new Promise(function(a,c){var b=new Image;b.onload=function(){a(b)};b.onerror=function(){c(Error("Error during JPEG image loading"));(0,v.releaseImageResources)(b)};b.src=d})).then(function(a){f.objs.resolve(b,
a)});case "Image":f.objs.resolve(b,d);if(d&&"data"in d&&d.data.length>8E6)f.cleanupAfterRender=true;break;default:throw Error("Got unknown object type ".concat(e));}}});c.on("DocProgress",function(c){if(!a.destroyed&&b.onProgress)b.onProgress({loaded:c.loaded,total:c.total})});c.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));c.on("JpegDecode",function(c){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));
var c=m(c)||r(c,2)||o(),b=c[0],e=c[1];return e!==3&&e!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,c){var d=new Image;d.onload=function(){var c=d.width,b=d.height,f=c*b,i=f*4,f=new Uint8ClampedArray(f*e),w=document.createElement("canvas");w.width=c;w.height=b;var x=w.getContext("2d");x.drawImage(d,0,0);x=x.getImageData(0,0,c,b).data;if(e===3)for(var h=0,t=0;h<i;h=h+4,t=t+3){f[t]=x[h];f[t+1]=x[h+1];f[t+2]=x[h+2]}else if(e===1)for(t=h=0;h<i;h=
h+4,t++)f[t]=x[h];a({data:f,width:c,height:b});(0,v.releaseImageResources)(d);w.width=0;w.height=0};d.onerror=function(){c(Error("JpegDecode failed to load image"));(0,v.releaseImageResources)(d)};d.src=b})});c.on("FetchBuiltInCMap",function(c){return a.destroyed?Promise.reject(Error("Worker was destroyed")):a.CMapReaderFactory.fetch(c)})}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},
{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var c=this;if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request"));var b=a-1;if(b in this.pagePromises)return this.pagePromises[b];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(a){if(c.destroyed)throw Error("Transport destroyed");a=new T(b,a,c,c._params.pdfBug);return c.pageCache[b]=a});return this.pagePromises[b]=
a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})["catch"](function(a){return Promise.reject(Error(a))})}},{key:"getAnnotations",value:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return typeof a!=="string"?Promise.reject(Error("Invalid destination request.")):
this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",
value:function(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",
null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(c){return{info:c[0],metadata:c[1]?new x.Metadata(c[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var c=0,b=a.pageCache.length;c<
b;c++){var e=a.pageCache[c];e&&e.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),S=function(){function a(){j(this,a);this._objs=Object.create(null)}h(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?
this._objs[a]:this._objs[a]={capability:(0,i.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(c){this._ensureObj(a).capability.promise.then(c);return null}c=this._objs[a];if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return c.data}},{key:"has",value:function(a){return(a=this._objs[a])?a.resolved:false}},{key:"resolve",value:function(a,c){var b=this._ensureObj(a);
b.resolved=true;b.data=c;b.capability.resolve(c)}},{key:"clear",value:function(){for(var a in this._objs){var c=this._objs[a].data;typeof Image!=="undefined"&&c instanceof Image&&(0,v.releaseImageResources)(c)}this._objs=Object.create(null)}}]);return a}(),O=function(){function a(c){j(this,a);this._internalRenderTask=c;this.onContinue=null}h(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(a,c){(0,v.deprecated)("RenderTask.then method, use the `promise` getter instead.");
return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]);return a}(),M=function(){var a=new WeakSet;return function(){function c(a){var b=a.callback,e=a.params,d=a.objs,f=a.commonObjs,w=a.operatorList,x=a.pageNumber,h=a.canvasFactory,t=a.webGLContext,v=a.useRequestAnimationFrame,v=v===void 0?false:v,a=a.pdfBug,a=a===void 0?false:a;j(this,c);this.callback=b;this.params=e;this.objs=d;this.commonObjs=f;this.operatorListIdx=
null;this.operatorList=w;this.pageNumber=x;this.canvasFactory=h;this.webGLContext=t;this._pdfBug=a;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=v===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,i.createPromiseCapability)();this.task=new O(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=e.canvasContext.canvas}
h(c,[{key:"initializeGraphics",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.add(this._canvas)}if(this._pdfBug&&q["default"].StepperManager&&q["default"].StepperManager.enabled){this.stepper=q["default"].StepperManager.create(this.pageNumber-
1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var b=this.params,e=b.viewport,d=b.transform,f=b.background;this.gfx=new z.CanvasGraphics(b.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,b.imageLayer);this.gfx.beginDrawing({transform:d,viewport:e,transparency:c,background:f});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var c=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=false;this.cancelled=true;this.gfx&&this.gfx.endDrawing();if(this._canvas)a["delete"](this._canvas);this.callback(c||new v.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=
this._continueBound}},{key:"_continue",value:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()}},{key:"_scheduleNext",value:function(){var a=this;if(this._useRequestAnimationFrame)window.requestAnimationFrame(function(){a._nextBound()["catch"](a.cancel.bind(a))});else Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},{key:"_next",value:function(){var c=l(e["default"].mark(function Z(){return e["default"].wrap(function(c){for(;;)switch(c.prev=
c.next){case 0:if(!this.cancelled){c.next=2;break}return c.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas)a["delete"](this._canvas);this.callback()}}case 4:case "end":return c.stop()}},Z,this)}));return function(){return c.apply(this,arguments)}}()}]);
return c}()}();b.version="2.3.146";b.build="7e37eb42"},function(d,b,a){d.exports=a(149)},function(d,b,a){(function(a){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}a=function(a){function d(a,c,b,e){c=Object.create((c&&c.prototype instanceof l?c:l).prototype);e=new i(e||[]);c._invoke=h(a,b,e);return c}function m(a,
c,b){try{return{type:"normal",arg:a.call(c,b)}}catch(e){return{type:"throw",arg:e}}}function l(){}function g(){}function y(){}function j(a){["next","throw","return"].forEach(function(c){a[c]=function(a){return this._invoke(c,a)}})}function p(a){function c(e,d,f,i){e=m(a[e],a,d);if("throw"===e.type)i(e.arg);else{var w=e.arg;return(e=w.value)&&"object"===b(e)&&z.call(e,"__await")?Promise.resolve(e.__await).then(function(a){c("next",a,f,i)},function(a){c("throw",a,f,i)}):Promise.resolve(e).then(function(a){w.value=
a;f(w)},function(a){return c("throw",a,f,i)})}}var e;this._invoke=function(a,b){function d(){return new Promise(function(e,d){c(a,b,e,d)})}return e=e?e.then(d,d):d()}}function h(a,b,e){var d=E;return function(f,i){if(d===D)throw Error("Generator is already running");if(d===L){if("throw"===f)throw i;return u()}e.method=f;for(e.arg=i;;){var w=e.delegate;if(w&&(w=c(w,e))){if(w===F)continue;return w}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(d===E)throw d=L,e.arg;e.dispatchException(e.arg)}else"return"===
e.method&&e.abrupt("return",e.arg);d=D;w=m(a,b,e);if("normal"===w.type){if(d=e.done?L:K,w.arg!==F)return{value:w.arg,done:e.done}}else"throw"===w.type&&(d=L,e.method="throw",e.arg=w.arg)}}}function c(a,b){var e=a.iterator[b.method];if(e===q){b.delegate=null;if("throw"===b.method){if(a.iterator["return"]&&(b.method="return",b.arg=q,c(a,b),"throw"===b.method))return F;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return F}e=m(e,a.iterator,b.arg);if("throw"===
e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,F;e=e.arg;if(!e)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,F;if(e.done)b[a.resultName]=e.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q);else return e;b.delegate=null;return F}function f(a){var c={tryLoc:a[0]};1 in a&&(c.catchLoc=a[1]);2 in a&&(c.finallyLoc=a[2],c.afterLoc=a[3]);this.tryEntries.push(c)}function e(a){var c=a.completion||{};c.type="normal";delete c.arg;
a.completion=c}function i(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(f,this);this.reset(!0)}function v(a){if(a){var c=a[w];if(c)return c.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var b=-1,c=function N(){for(;++b<a.length;)if(z.call(a,b))return N.value=a[b],N.done=!1,N;N.value=q;N.done=!0;return N};return c.next=c}}return{next:u}}function u(){return{value:q,done:!0}}var A=Object.prototype,z=A.hasOwnProperty,q,t="function"===typeof Symbol?Symbol:{},w=t.iterator||"@@iterator",
x=t.asyncIterator||"@@asyncIterator",C=t.toStringTag||"@@toStringTag";a.wrap=d;var E="suspendedStart",K="suspendedYield",D="executing",L="completed",F={},t={};t[w]=function(){return this};var J=Object.getPrototypeOf;(J=J&&J(J(v([]))))&&(J!==A&&z.call(J,w))&&(t=J);var I=y.prototype=l.prototype=Object.create(t);g.prototype=I.constructor=y;y.constructor=g;y[C]=g.displayName="GeneratorFunction";a.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===g||"GeneratorFunction"===
(a.displayName||a.name):!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,y):(a.__proto__=y,C in a||(a[C]="GeneratorFunction"));a.prototype=Object.create(I);return a};a.awrap=function(a){return{__await:a}};j(p.prototype);p.prototype[x]=function(){return this};a.AsyncIterator=p;a.async=function(c,b,e,f){var i=new p(d(c,b,e,f));return a.isGeneratorFunction(b)?i:i.next().then(function(a){return a.done?a.value:i.next()})};j(I);I[C]="Generator";I[w]=function(){return this};I.toString=
function(){return"[object Generator]"};a.keys=function(a){var c=[],b;for(b in a)c.push(b);c.reverse();return function N(){for(;c.length;){var b=c.pop();if(b in a)return N.value=b,N.done=!1,N}N.done=!0;return N}};a.values=v;i.prototype={constructor:i,reset:function(a){this.next=this.prev=0;this.sent=this._sent=q;this.done=!1;this.delegate=null;this.method="next";this.arg=q;this.tryEntries.forEach(e);if(!a)for(var c in this)"t"===c.charAt(0)&&(z.call(this,c)&&!isNaN(+c.slice(1)))&&(this[c]=q)},stop:function(){this.done=
!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function c(e,d){f.type="throw";f.arg=a;b.next=e;d&&(b.method="next",b.arg=q);return!!d}if(this.done)throw a;for(var b=this,e=this.tryEntries.length-1;0<=e;--e){var d=this.tryEntries[e],f=d.completion;if("root"===d.tryLoc)return c("end");if(d.tryLoc<=this.prev){var i=z.call(d,"catchLoc"),w=z.call(d,"finallyLoc");if(i&&w){if(this.prev<d.catchLoc)return c(d.catchLoc,!0);if(this.prev<
d.finallyLoc)return c(d.finallyLoc)}else if(i){if(this.prev<d.catchLoc)return c(d.catchLoc,!0)}else if(w){if(this.prev<d.finallyLoc)return c(d.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,c){for(var b=this.tryEntries.length-1;0<=b;--b){var e=this.tryEntries[b];if(e.tryLoc<=this.prev&&z.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var d=e;break}}if(d&&("break"===a||"continue"===a)&&d.tryLoc<=c&&c<=d.finallyLoc)d=null;b=d?d.completion:{};b.type=a;b.arg=
c;return d?(this.method="next",this.next=d.finallyLoc,F):this.complete(b)},complete:function(a,c){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&c&&(this.next=c);return F},finish:function(a){for(var c=this.tryEntries.length-1;0<=c;--c){var b=this.tryEntries[c];if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),e(b),F}},"catch":function(a){for(var c=
this.tryEntries.length-1;0<=c;--c){var b=this.tryEntries[c];if(b.tryLoc===a){a=b.completion;if("throw"===a.type){var d=a.arg;e(b)}return d}}throw Error("illegal catch attempt");},delegateYield:function(a,c,b){this.delegate={iterator:v(a),resultName:c,nextLoc:b};"next"===this.method&&(this.arg=q);return F}};return a}("object"===b(a)?a.exports:{});try{regeneratorRuntime=a}catch(d){Function("r","regeneratorRuntime = r")(a)}}).call(this,a(150)(d))},function(d){d.exports=function(b){b.webpackPolyfill||
(b.deprecate=function(){},b.paths=[],b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),b.webpackPolyfill=1);return b}},function(d,b,a){function g(a,c,b,d,h,j,m){try{var p=a[j](m),t=p.value}catch(w){b(w);return}p.done?c(t):Promise.resolve(t).then(d,h)}function k(a){return function(){var c=this,b=arguments;return new Promise(function(d,h){function j(a){g(p,d,h,j,m,"next",a)}
function m(a){g(p,d,h,j,m,"throw",a)}var p=a.apply(c,b);j(void 0)})}}function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function o(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function r(a,c,b){c&&o(a.prototype,c);b&&o(a,b);return a}function m(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==
typeof ReadableStream}function n(a,c){try{var b=(c?new y.URL(a,c):new y.URL(a)).protocol;return"http:"===b||"https:"===b}catch(d){return!1}}Object.defineProperty(b,"__esModule",{value:!0});b.addLinkAttributes=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=c.url,d=c.target,m=c.rel,c=c.enabled,c=void 0===c?!0:c,l=b?(0,y.removeNullCharacters)(b):"";c?a.href=a.title=l:(a.href="",a.title="Disabled: ".concat(l),a.onclick=function(){return!1});b&&(b=Object.values(p).includes(d)?
d:p.NONE,a.target=h[b],a.rel="string"===typeof m?m:j)};b.getFilenameFromUrl=function(a){var c=a.indexOf("#"),b=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<b?b:a.length);return a.substring(a.lastIndexOf("/",c)+1,c)};b.isFetchSupported=m;b.isValidFetchUrl=n;b.loadScript=function(a){return new Promise(function(c,b){var d=document.createElement("script");d.src=a;d.onload=c;d.onerror=function(){b(Error("Cannot load script at: ".concat(d.src)))};(document.head||document.documentElement).appendChild(d)})};
b.deprecated=function(a){console.log("Deprecated API usage: "+a)};b.releaseImageResources=function(a){(0,y.assert)(a instanceof Image,"Invalid `img` parameter.");var c=a.src;"string"===typeof c&&(c.startsWith("blob:")&&y.URL.revokeObjectURL)&&y.URL.revokeObjectURL(c);a.removeAttribute("src")};b.PDFDateString=b.DummyStatTimer=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.RenderingCancelledException=b.PageViewport=void 0;var s=function(a){return a&&
a.__esModule?a:{"default":a}}(a(148)),y=a(1),j="noopener noreferrer nofollow";b.DEFAULT_LINK_REL=j;d=function(){function a(){l(this,a)}r(a,[{key:"create",value:function(a,c){if(0>=a||0>=c)throw Error("Invalid canvas size");var b=document.createElement("canvas"),d=b.getContext("2d");b.width=a;b.height=c;return{canvas:b,context:d}}},{key:"reset",value:function(a,c,b){if(!a.canvas)throw Error("Canvas is not specified");if(0>=c||0>=b)throw Error("Invalid canvas size");a.canvas.width=c;a.canvas.height=
b}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}();b.DOMCanvasFactory=d;d=function(){function a(c){var b=c.baseUrl,b=void 0===b?null:b,c=c.isCompressed,c=void 0===c?!1:c;l(this,a);this.baseUrl=b;this.isCompressed=c}r(a,[{key:"fetch",value:function(a){function c(b){return a.apply(this,arguments)}c.toString=function(){return a.toString()};return c}(function(){var a=k(s["default"].mark(function v(a){var c=
this,b,e,d;return s["default"].wrap(function(f){for(;;)switch(f.prev=f.next){case 0:b=a.name;if(this.baseUrl){f.next=3;break}throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(b){f.next=5;break}throw Error("CMap name must be specified.");case 5:e=this.baseUrl+b+(this.isCompressed?".bcmap":"");d=this.isCompressed?y.CMapCompressionType.BINARY:y.CMapCompressionType.NONE;if(!m()||!n(e,document.baseURI)){f.next=
9;break}return f.abrupt("return",fetch(e).then(function(){var a=k(s["default"].mark(function E(a){var b;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ok){e.next=2;break}throw Error(a.statusText);case 2:if(!c.isCompressed){e.next=10;break}e.t0=Uint8Array;e.next=6;return a.arrayBuffer();case 6:e.t1=e.sent;b=new e.t0(e.t1);e.next=15;break;case 10:return e.t2=y.stringToBytes,e.next=13,a.text();case 13:e.t3=e.sent,b=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:b,
compressionType:d});case 16:case "end":return e.stop()}},E)}));return function(c){return a.apply(this,arguments)}}())["catch"](function(){throw Error("Unable to load ".concat(c.isCompressed?"binary ":"")+"CMap at: ".concat(e));}));case 9:return f.abrupt("return",(new Promise(function(a,b){var f=new XMLHttpRequest;f.open("GET",e,!0);c.isCompressed&&(f.responseType="arraybuffer");f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200||f.status===0){var e;c.isCompressed&&
f.response?e=new Uint8Array(f.response):!c.isCompressed&&f.responseText&&(e=(0,y.stringToBytes)(f.responseText));if(e){a({cMapData:e,compressionType:d});return}}b(Error(f.statusText))}};f.send(null)}))["catch"](function(){throw Error("Unable to load ".concat(c.isCompressed?"binary ":"")+"CMap at: ".concat(e));}));case 10:case "end":return f.stop()}},v,this)}));return function(c){return a.apply(this,arguments)}}())}]);return a}();b.DOMCMapReaderFactory=d;d=function(){function a(){l(this,a)}r(a,[{key:"create",
value:function(a,c){(0,y.assert)(0<a&&0<c,"Invalid SVG dimensions");var b=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");b.setAttribute("version","1.1");b.setAttribute("width",a+"px");b.setAttribute("height",c+"px");b.setAttribute("preserveAspectRatio","none");b.setAttribute("viewBox","0 0 "+a+" "+c);return b}},{key:"createElement",value:function(a){(0,y.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return a}();
b.DOMSVGFactory=d;d=function(){function a(c){var b=c.viewBox,d=c.scale,h=c.rotation,j=c.offsetX,m=void 0===j?0:j,j=c.offsetY,p=void 0===j?0:j,c=c.dontFlip,t=void 0===c?!1:c;l(this,a);this.viewBox=b;this.scale=d;this.rotation=h;this.offsetX=m;this.offsetY=p;var c=(b[2]+b[0])/2,j=(b[3]+b[1])/2,w,x,C,h=h%360;switch(0>h?h+360:h){case 180:h=-1;x=w=0;C=1;break;case 90:h=0;x=w=1;C=0;break;case 270:h=0;x=w=-1;C=0;break;default:h=1,x=w=0,C=-1}t&&(x=-x,C=-C);0===h?(m=Math.abs(j-b[1])*d+m,p=Math.abs(c-b[0])*
d+p,t=Math.abs(b[3]-b[1])*d,b=Math.abs(b[2]-b[0])*d):(m=Math.abs(c-b[0])*d+m,p=Math.abs(j-b[1])*d+p,t=Math.abs(b[2]-b[0])*d,b=Math.abs(b[3]-b[1])*d);this.transform=[h*d,w*d,x*d,C*d,m-h*d*c-x*d*j,p-w*d*c-C*d*j];this.width=t;this.height=b}r(a,[{key:"clone",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=c.scale,b=void 0===b?this.scale:b,d=c.rotation,d=void 0===d?this.rotation:d,c=c.dontFlip,c=void 0===c?!1:c;return new a({viewBox:this.viewBox.slice(),scale:b,rotation:d,
offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:c})}},{key:"convertToViewportPoint",value:function(a,c){return y.Util.applyTransform([a,c],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var c=y.Util.applyTransform([a[0],a[1]],this.transform),a=y.Util.applyTransform([a[2],a[3]],this.transform);return[c[0],c[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,c){return y.Util.applyInverseTransform([a,c],this.transform)}}]);return a}();b.PageViewport=d;d=function(){function a(c,
b){this.message=c;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}();b.RenderingCancelledException=d;var p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};b.LinkTarget=p;var h=["","_self","_blank","_parent","_top"],d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;l(this,a);this.enabled=!!c;this.started=Object.create(null);this.times=[]}r(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,y.warn)("Timer is already running for "+
a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,y.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){var a="",c=0,b=!0,d=!1,f=void 0;try{for(var h=this.times[Symbol.iterator](),j;!(b=(j=h.next()).done);b=!0){var t=j.value.name;t.length>c&&(c=t.length)}}catch(w){d=!0,f=w}finally{try{if(!b&&null!=h["return"])h["return"]()}finally{if(d)throw f;
}}b=!0;d=!1;f=void 0;try{for(var x=this.times[Symbol.iterator](),m;!(b=(m=x.next()).done);b=!0)var E=m.value,p=E.end-E.start,a=a+"".concat(E.name.padEnd(c)," ").concat(p,"ms\n")}catch(l){d=!0,f=l}finally{try{if(!b&&null!=x["return"])x["return"]()}finally{if(d)throw f;}}return a}}]);return a}();b.StatTimer=d;d=function(){function a(){l(this,a);(0,y.unreachable)("Cannot initialize DummyStatTimer.")}r(a,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);
return a}();b.DummyStatTimer=d;var c,d=function(){function a(){l(this,a)}r(a,null,[{key:"toDateObject",value:function(a){if(!a||!(0,y.isString)(a))return null;c||(c=/^D:(\d{4})(\d{2})?(\d{2})?(\d{2})?(\d{2})?(\d{2})?([Z|+|-])?(\d{2})?'?(\d{2})?'?/);var b=c.exec(a);if(!b)return null;var a=parseInt(b[1],10),d=parseInt(b[2],10),d=1<=d&&12>=d?d-1:0,f=parseInt(b[3],10),f=1<=f&&31>=f?f:1,h=parseInt(b[4],10),h=0<=h&&23>=h?h:0,j=parseInt(b[5],10),j=0<=j&&59>=j?j:0,m=parseInt(b[6],10),m=0<=m&&59>=m?m:0,t=
b[7]||"Z",w=parseInt(b[8],10),w=0<=w&&23>=w?w:0,b=parseInt(b[9],10)||0,b=0<=b&&59>=b?b:0;"-"===t?(h+=w,j+=b):"+"===t&&(h-=w,j-=b);return new Date(Date.UTC(a,d,f,h,j,m))}}]);return a}();b.PDFDateString=d},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}function k(a){k=Object.setPrototypeOf?Object.getPrototypeOf:
function(a){return a.__proto__||Object.getPrototypeOf(a)};return k(a)}function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&o(a,c)}function o(a,c){o=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return o(a,c)}function r(a,c,b,d,h,j,m){try{var p=a[j](m),t=p.value}catch(w){b(w);return}p.done?c(t):Promise.resolve(t).then(d,
h)}function m(a){return function(){var c=this,b=arguments;return new Promise(function(d,h){function j(a){r(p,d,h,j,m,"next",a)}function m(a){r(p,d,h,j,m,"throw",a)}var p=a.apply(c,b);j(void 0)})}}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function s(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function y(a,c,b){c&&s(a.prototype,c);b&&s(a,
b);return a}Object.defineProperty(b,"__esModule",{value:!0});b.FontLoader=b.FontFaceObject=void 0;var j=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),p=a(1),d=function(){function a(c){var b=c.docId,c=c.onUnsupportedFeature;n(this,a);this.constructor===a&&(0,p.unreachable)("Cannot initialize BaseFontLoader.");this.docId=b;this._onUnsupportedFeature=c;this.nativeFontFaces=[];this.styleElement=null}y(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)}},
{key:"insertRule",value:function(a){var c=this.styleElement;c||(c=this.styleElement=document.createElement("style"),c.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(c));c=c.sheet;c.insertRule(a,c.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts["delete"](a)});this.nativeFontFaces.length=0;this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var a=
m(j["default"].mark(function v(a){var c=this,b,d;return j["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.attached&&!a.missingFile){e.next=2;break}return e.abrupt("return",void 0);case 2:a.attached=!0;if(!this.isFontLoadingAPISupported){e.next=19;break}b=a.createNativeFontFace();if(!b){e.next=18;break}this.addNativeFontFace(b);e.prev=7;e.next=10;return b.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e["catch"](7),this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.font}),
(0,p.warn)("Failed to load font '".concat(b.family,"': '").concat(e.t0,"'.")),a.disableFontFace=!0,e.t0;case 18:return e.abrupt("return",void 0);case 19:d=a.createFontFaceRule();if(!d){e.next=25;break}this.insertRule(d);if(!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return",void 0);case 24:return e.abrupt("return",new Promise(function(b){b=c._queueLoadingCallback(b);c._prepareFontLoadEvent([d],[a],b)}));case 25:return e.abrupt("return",void 0);case 26:case "end":return e.stop()}},
v,this,[[7,12]])}));return function(c){return a.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,p.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},
{key:"_loadTestFont",get:function(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}}]);return a}(),h;b.FontLoader=h;b.FontLoader=h=function(a){function c(a){n(this,c);a=k(c).call(this,a);if(!a||!("object"===g(a)||"function"===typeof a)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a.loadingContext={requests:[],nextRequestId:0};a.loadTestFontId=0;return a}l(c,a);y(c,[{key:"_queueLoadingCallback",value:function(a){var c=this.loadingContext,
b={id:"pdfjs-font-loading-".concat(c.nextRequestId++),done:!1,complete:function(){(0,p.assert)(!b.done,"completeRequest() cannot be called twice.");for(b.done=!0;0<c.requests.length&&c.requests[0].done;){var a=c.requests.shift();setTimeout(a.callback,0)}},callback:a};c.requests.push(b);return b}},{key:"_prepareFontLoadEvent",value:function(a,c,b){function d(a,c){return a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3)&255}function e(a,c,b,d){var f=a.substring(0,c),a=
a.substring(c+b);return f+d+a}function f(a,c){j++;30<j?((0,p.warn)("Load test font never loaded."),c()):(x.font="30px "+a,x.fillText(".",0,20),0<x.getImageData(0,0,1,1).data[3]?c():setTimeout(f.bind(null,a,c)))}var h,w,a=document.createElement("canvas");a.width=1;a.height=1;var x=a.getContext("2d"),j=0,a="lt".concat(Date.now()).concat(this.loadTestFontId++),m=this._loadTestFont,m=e(m,976,a.length,a),l=d(m,16);h=0;for(w=a.length-3;h<w;h+=4)l=l-1482184792+d(a,h)|0;h<a.length&&(l=l-1482184792+d(a+"XXX",
h)|0);m=e(m,16,4,(0,p.string32)(l));h="url(data:font/opentype;base64,".concat(btoa(m),");");this.insertRule('@font-face {font-family:"'.concat(a,'";src:').concat(h,"}"));m=[];h=0;for(w=c.length;h<w;h++)m.push(c[h].loadedName);m.push(a);var g=document.createElement("div");g.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");h=0;for(w=m.length;h<w;++h)c=document.createElement("span"),c.textContent="Hi",c.style.fontFamily=m[h],g.appendChild(c);
document.body.appendChild(g);f(a,function(){document.body.removeChild(g);b.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!==typeof document&&!!document.fonts;if(a&&"undefined"!==typeof navigator){var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);c&&63>c[1]&&(a=!1)}return(0,p.shadow)(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",get:function(){var a=!1;if("undefined"===typeof navigator)a=!0;else{var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);
c&&14<=c[1]&&(a=!0)}return(0,p.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]);
return c}(d);var c={get value(){return(0,p.shadow)(this,"value",(0,p.isEvalSupported)())}};h=function(){function a(c,b){var d=b.isEvalSupported,d=void 0===d?!0:d,h=b.disableFontFace,h=void 0===h?!1:h,j=b.ignoreErrors,j=void 0===j?!1:j,m=b.onUnsupportedFeature,m=void 0===m?null:m,p=b.fontRegistry,p=void 0===p?null:p;n(this,a);this.compiledGlyphs=Object.create(null);for(var t in c)this[t]=c[t];this.isEvalSupported=!1!==d;this.disableFontFace=!0===h;this.ignoreErrors=!0===j;this._onUnsupportedFeature=
m;this.fontRegistry=p}y(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=(0,p.bytesToString)(new Uint8Array(this.data)),a="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");"),c='@font-face {font-family:"'.concat(this.loadedName,
'";src:').concat(a,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,a);return c}},{key:"getPathGenerator",value:function(a,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];var d,f;try{d=a.get(this.loadedName+"_path_"+b)}catch(h){if(!this.ignoreErrors)throw h;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.font});(0,p.warn)('getPathGenerator - ignoring character: "'.concat(h,'".'));return this.compiledGlyphs[b]=function(){}}if(this.isEvalSupported&&
c.value){for(var j,m="",t=0,w=d.length;t<w;t++)f=d[t],j=void 0!==f.args?f.args.join(","):"",m+="c."+f.cmd+"("+j+");\n";return this.compiledGlyphs[b]=new Function("c","size",m)}return this.compiledGlyphs[b]=function(a,c){for(var b=0,e=d.length;b<e;b++)f=d[b],"scale"===f.cmd&&(f.args=[c,-c]),a[f.cmd].apply(a,f.args)}}}]);return a}();b.FontFaceObject=h},function(d,b,a){var d=Object.create(null),a=a(4),g="undefined"!==typeof navigator&&navigator.userAgent||"",k=/Trident/.test(g),g=/CriOS/.test(g);if(k||
g)d.disableCreateObjectURL=!0;a()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none");b.apiCompatibilityParams=Object.freeze(d)},function(d,b,a){function g(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",
{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],d=a[1],c=a[2],f=a[3],e=a[4],a=a[5],i=b*f-d*c,m=d*c-b*f;return[f/i,d/m,c/m,b/i,(f*e-c*a)/m,(d*e-b*a)/i]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=
function(a,b){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*b+d[4];d[5]=d[1]*a+d[3]*b+d[5];this._originalTranslate(a,b)},a.scale=function(a,b){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=b;d[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,h,c,f,e){var i=this._transformMatrix;this._transformMatrix=[i[0]*b+i[2]*d,i[1]*b+i[3]*d,i[0]*h+i[2]*c,i[1]*h+i[3]*c,i[0]*f+i[2]*e+i[4],i[1]*f+i[3]*e+i[5]];a._originalTransform(b,d,h,c,f,e)},a.setTransform=function(b,d,h,c,f,e){this._transformMatrix=
[b,d,h,c,f,e];a._originalSetTransform(b,d,h,c,f,e)},a.rotate=function(a){var b=Math.cos(a),d=Math.sin(a),c=this._transformMatrix;this._transformMatrix=[c[0]*b+c[2]*d,c[1]*b+c[3]*d,c[0]*-d+c[2]*b,c[1]*-d+c[3]*b,c[4],c[5]];this._originalRotate(a)})}function k(a){var b=a.width,d=a.height,h,c,f=b+1,e=new Uint8Array(f*(d+1)),i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=b+7&-8,l=a.data,g=new Uint8Array(m*d),n=0,a=0;for(h=l.length;a<h;a++){c=128;for(var k=l[a];0<c;)g[n++]=k&c?0:255,c>>=1}n=l=0;
0!==g[n]&&(e[0]=1,++l);for(h=1;h<b;h++)g[n]!==g[n+1]&&(e[h]=g[n]?2:1,++l),n++;0!==g[n]&&(e[h]=2,++l);for(a=1;a<d;a++){n=a*m;c=a*f;g[n-m]!==g[n]&&(e[c]=g[n]?1:8,++l);k=(g[n]?4:0)+(g[n-m]?8:0);for(h=1;h<b;h++)k=(k>>2)+(g[n+1]?4:0)+(g[n-m+1]?8:0),i[k]&&(e[c+h]=i[k],++l),n++;g[n-m]!==g[n]&&(e[c+h]=g[n]?2:4,++l);if(1E3<l)return null}n=m*(d-1);c=a*f;0!==g[n]&&(e[c]=8,++l);for(h=1;h<b;h++)g[n]!==g[n+1]&&(e[c+h]=g[n]?4:8,++l),n++;0!==g[n]&&(e[c+h]=4,++l);if(1E3<l)return null;for(var i=new Int32Array([0,f,
-1,0,-f,0,0,0,1]),t=[],a=0;l&&a<=d;a++){m=a*f;for(g=m+b;m<g&&!e[m];)m++;if(m!==g){g=[m%f,a];n=e[m];h=m;do{c=i[n];do m+=c;while(!e[m]);c=e[m];5!==c&&10!==c?(n=c,e[m]=0):(n=c&51*n>>4,e[m]&=n>>2|n<<2);g.push(m%f);g.push(m/f|0);e[m]||--l}while(h!==m);t.push(g);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,e=t.length;c<e;c++){var f=t[c];a.moveTo(f[0],f[1]);for(var h=2,i=f.length;h<i;h=h+2)a.lineTo(f[h],f[h+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(b,
"__esModule",{value:!0});b.CanvasGraphics=void 0;var l=a(1),o=a(155),r=16,m={get value(){return(0,l.shadow)(m,"value",(0,l.isLittleEndian)())}},n=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,d,c){var f;void 0!==this.cache[a]?(f=this.cache[a],this.canvasFactory.reset(f,b,d),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(b,d),this.cache[a]=f);c&&g(f.context);return f},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),
delete this.cache[a]}};return a}(),s=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=l.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=l.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=l.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),d=function(){function a(c,b,d,e,f,h){this.ctx=c;this.current=new s;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=d;this.canvasFactory=e;this.webGLContext=f;this.imageLayer=h;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=
[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new n(this.canvasFactory);c&&g(c);this._cachedGetSinglePixelWidth=null}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var d=c.height,e=c.width,f=d%r,d=(d-f)/r,h=0===f?d:d+1,i=a.createImageData(e,r),j=0,g,p=c.data,n=i.data,v,k,u;if(c.kind===l.ImageKind.GRAYSCALE_1BPP){var s=p.byteLength,n=new Uint32Array(n.buffer,0,n.byteLength>>2),q=n.length,y=e+7>>3,z=m.value?4278190080:255;for(v=
0;v<h;v++){u=v<d?r:f;for(k=g=0;k<u;k++){for(var O=s-j,M=0,O=O>y?e:8*O-7,X=O&-8,o=0,A=0;M<X;M+=8)A=p[j++],n[g++]=A&128?4294967295:z,n[g++]=A&64?4294967295:z,n[g++]=A&32?4294967295:z,n[g++]=A&16?4294967295:z,n[g++]=A&8?4294967295:z,n[g++]=A&4?4294967295:z,n[g++]=A&2?4294967295:z,n[g++]=A&1?4294967295:z;for(;M<O;M++)0===o&&(A=p[j++],o=128),n[g++]=A&o?4294967295:z,o>>=1}for(;g<q;)n[g++]=0;a.putImageData(i,0,v*r)}}else if(c.kind===l.ImageKind.RGBA_32BPP){k=0;u=4*e*r;for(v=0;v<d;v++)n.set(p.subarray(j,
j+u)),j+=u,a.putImageData(i,0,k),k+=r;v<h&&(n.set(p.subarray(j,j+4*e*f)),a.putImageData(i,0,k))}else if(c.kind===l.ImageKind.RGB_24BPP){u=r;u*=e;for(v=0;v<h;v++){v>=d&&(u=f,u*=e);g=0;for(k=u;k--;)n[g++]=p[j++],n[g++]=p[j++],n[g++]=p[j++],n[g++]=255;a.putImageData(i,0,v*r)}}else throw Error("bad image kind: ".concat(c.kind));}}function d(a,c){for(var b=c.height,e=c.width,f=b%r,b=(b-f)/r,h=0===f?b:b+1,i=a.createImageData(e,r),m=0,j=c.data,l=i.data,g=0;g<h;g++){for(var n=g<b?r:f,p=3,v=0;v<n;v++)for(var k=
0,u=0;u<e;u++){if(!k)var s=j[m++],k=128;l[p]=s&k?0:255;p+=4;k>>=1}a.putImageData(i,0,g*r)}}function h(a,c){for(var b="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,e=b.length;d<e;d++){var f=b[d];void 0!==a[f]&&(c[f]=a[f])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function c(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=
1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function f(a,c,b){for(var d=a.length,e=1/255,f=3;f<d;f+=4)c[f]=c[f]*(b?b[a[f]]:a[f])*e|0}function e(a,c,b){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];c[e]=b?c[e]*b[f>>8]>>8:c[e]*f>>16}}function i(a,c,b,d){var h=c.canvas,i=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var m=
c.backdrop||null;if(!c.transferMap&&d.isEnabled)b=d.composeSMask({layer:b.canvas,mask:h,properties:{subtype:c.subtype,backdrop:m}}),a.setTransform(1,0,0,1,0,0),a.drawImage(b,c.offsetX,c.offsetY);else{for(var d=h.width,j=h.height,l=c.transferMap,g=!!m,n=g?m[0]:0,p=g?m[1]:0,m=g?m[2]:0,c="Luminosity"===c.subtype?e:f,v=Math.min(j,Math.ceil(1048576/d)),k=0;k<j;k+=v){var u=Math.min(v,j-k),r=i.getImageData(0,k,d,u),u=b.getImageData(0,k,d,u);if(g)for(var s=r.data,q=n,O=p,M=m,y=s.length,z=3;z<y;z+=4){var o=
s[z];if(0===o)s[z-3]=q,s[z-2]=O,s[z-1]=M;else if(255>o){var A=255-o;s[z-3]=s[z-3]*o+q*A>>8;s[z-2]=s[z-2]*o+O*A>>8;s[z-1]=s[z-1]*o+M*A>>8}}c(r.data,u.data,l);i.putImageData(u,0,k)}a.drawImage(h,0,0)}}var v=["butt","round","square"],u=["miter","round","bevel"],A={},z={};a.prototype={beginDrawing:function(a){var b=a.transform,d=a.viewport,e=a.transparency,e=void 0===e?!1:e,a=a.background,a=void 0===a?null:a,f=this.ctx.canvas.width,h=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";
this.ctx.fillRect(0,0,f,h);this.ctx.restore();e&&(e=this.cachedCanvases.getCanvas("transparent",f,h,!0),this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();c(this.ctx);b&&this.ctx.transform.apply(this.ctx,b);this.ctx.transform.apply(this.ctx,d.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,
c,b,d){var e=a.argsArray,a=a.fnArray,c=c||0,f=e.length;if(f===c)return c;for(var h=10<f-c&&"function"===typeof b,i=h?Date.now()+15:0,m=0,j=this.commonObjs,g=this.objs,n;;){if(void 0!==d&&c===d.nextBreakPoint)return d.breakIt(c,b),c;n=a[c];if(n!==l.OPS.dependency)this[n].apply(this,e[c]);else{n=!0;var p=!1,v=void 0;try{for(var k=e[c][Symbol.iterator](),u;!(n=(u=k.next()).done);n=!0){var r=u.value,s=r.startsWith("g_")?j:g;if(!s.has(r))return s.get(r,b),c}}catch(O){p=!0,v=O}finally{try{if(!n&&null!=
k["return"])k["return"]()}finally{if(p)throw v;}}}c++;if(c===f)return c;if(h&&10<++m){if(Date.now()>i)return b(),c;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},
setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=v[a]},setLineJoin:function(a){this.ctx.lineJoin=u[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var d=a[c],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);
break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":this.ctx.globalCompositeOperation=e;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-
1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),b=this.ctx,d=b.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/a.scaleX,1/a.scaleY);c.translate(-a.offsetX,-a.offsetY);c.transform.apply(c,
d);a.startTransformInverse=c.mozCurrentTransformInverse;h(b,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();i(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();h(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,l.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();i(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();h(a,this.ctx);this.ctx.transform.apply(this.ctx,l.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this._cachedGetSinglePixelWidth=
this.pendingClip=null)},transform:function(a,c,b,d,e,f){this.ctx.transform(a,c,b,d,e,f);this._cachedGetSinglePixelWidth=null},constructPath:function(a,c){for(var b=this.ctx,d=this.current,e=d.x,f=d.y,h=0,i=0,m=a.length;h<m;h++)switch(a[h]|0){case l.OPS.rectangle:var e=c[i++],f=c[i++],j=c[i++],g=c[i++];0===j&&(j=this.getSinglePixelWidth());0===g&&(g=this.getSinglePixelWidth());j=e+j;g=f+g;this.ctx.moveTo(e,f);this.ctx.lineTo(j,f);this.ctx.lineTo(j,g);this.ctx.lineTo(e,g);this.ctx.lineTo(e,f);this.ctx.closePath();
break;case l.OPS.moveTo:e=c[i++];f=c[i++];b.moveTo(e,f);break;case l.OPS.lineTo:e=c[i++];f=c[i++];b.lineTo(e,f);break;case l.OPS.curveTo:e=c[i+4];f=c[i+5];b.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],e,f);i+=6;break;case l.OPS.curveTo2:b.bezierCurveTo(e,f,c[i],c[i+1],c[i+2],c[i+3]);e=c[i+2];f=c[i+3];i+=4;break;case l.OPS.curveTo3:e=c[i+2];f=c[i+3];b.bezierCurveTo(c[i],c[i+1],e,f,e,f);i+=4;break;case l.OPS.closePath:b.closePath()}d.setCurrentPoint(e,f)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a=
"undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha;if(b&&b.hasOwnProperty("type")&&"Pattern"===b.type){c.save();var d=l.Util.singularValueDecompose2dScale(c.mozCurrentTransform)[0];c.strokeStyle=b.getPattern(c,this);c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth*d);c.stroke();c.restore()}else c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth),c.stroke();a&&this.consumePath();c.globalAlpha=
this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,d=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=b.getPattern(c,this),d=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();d&&c.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);
this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=A},eoClip:function(){this.pendingClip=z},beginText:function(){this.current.textMatrix=l.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=
this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var d=a[b];c.setTransform.apply(c,d.transform);c.translate(d.x,d.y);d.addToPath(c,d.fontSize)}c.restore();c.clip();c.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=
-a},setFont:function(a,c){var b=this.commonObjs.get(a),d=this.current;if(!b)throw Error("Can't find font for ".concat(a));d.fontMatrix=b.fontMatrix?b.fontMatrix:l.FONT_IDENTITY_MATRIX;if(0===d.fontMatrix[0]||0===d.fontMatrix[3])(0,l.warn)("Invalid font matrix for font "+a);0>c?(c=-c,d.fontDirection=-1):d.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var d=b.black?"900":b.bold?"bold":"normal",e=b.italic?"italic":"normal",b='"'.concat(b.loadedName||"sans-serif",'", ').concat(b.fallbackName),
f=16>c?16:100<c?100:c;this.current.fontSizeScale=c/f;this.ctx.font="".concat(e," ").concat(d," ").concat(f,"px ").concat(b)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,c,b,d,e,f){this.current.textMatrix=[a,c,b,d,e,f];this.current.textMatrixScale=
Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,d){var e=this.ctx,f=this.current,h=f.font,i=f.textRenderingMode,m=f.fontSize/f.fontSizeScale,j=i&l.TextRenderingMode.FILL_STROKE_MASK,i=!!(i&l.TextRenderingMode.ADD_TO_PATH_FLAG),f=f.patternFill&&h.data,g;if(h.disableFontFace||i||f)g=h.getPathGenerator(this.commonObjs,a);h.disableFontFace||f?(e.save(),e.translate(c,b),e.beginPath(),
g(e,m),d&&e.setTransform.apply(e,d),(j===l.TextRenderingMode.FILL||j===l.TextRenderingMode.FILL_STROKE)&&e.fill(),(j===l.TextRenderingMode.STROKE||j===l.TextRenderingMode.FILL_STROKE)&&e.stroke(),e.restore()):((j===l.TextRenderingMode.FILL||j===l.TextRenderingMode.FILL_STROKE)&&e.fillText(a,c,b),(j===l.TextRenderingMode.STROKE||j===l.TextRenderingMode.FILL_STROKE)&&e.strokeText(a,c,b));i&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:e.mozCurrentTransform,x:c,y:b,fontSize:m,
addToPath:g})},get isFontSubpixelAAEnabled(){var a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=4)if(0<a[b]&&255>a[b]){c=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var d=c.fontSize;if(0!==d){var e=this.ctx,f=c.fontSizeScale,h=c.charSpacing,i=c.wordSpacing,m=c.fontDirection,
j=c.textHScale*m,g=a.length,n=b.vertical,p=n?1:-1,v=b.defaultVMetrics,k=d*c.fontMatrix[0],u=c.textRenderingMode===l.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;e.save();var r;if(c.patternFill){e.save();var s=c.fillColor.getPattern(e,this);r=e.mozCurrentTransform;e.restore();e.fillStyle=s}e.transform.apply(e,c.textMatrix);e.translate(c.x,c.y+c.textRise);0<m?e.scale(j,-1):e.scale(j,1);var s=c.lineWidth,O=c.textMatrixScale;if(0===O||0===s){if(O=c.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK,
O===l.TextRenderingMode.STROKE||O===l.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=null,s=0.65*this.getSinglePixelWidth()}else s/=O;1!==f&&(e.scale(f,f),s/=f);e.lineWidth=s;for(O=s=0;O<g;++O){var M=a[O];if((0,l.isNum)(M))s+=p*M*d/1E3;else{var q=!1,z=(M.isSpace?i:0)+h,y=M.fontChar,o=M.accent,A,V,B=M.width;if(n){var P;A=M.vmetric||v;P=M.vmetric?A[1]:0.5*B;P=-P*k;V=A[2]*k;B=A?-A[0]:B;A=P/f;V=(s+V)/f}else A=s/f,V=0;b.remeasure&&0<B&&(P=1E3*e.measureText(y).width/d*f,B<P&&this.isFontSubpixelAAEnabled?
(P=B/P,q=!0,e.save(),e.scale(P,1),A/=P):B!==P&&(A+=(B-P)/2E3*d/f));if(M.isInFont||b.missingFile)u&&!o?e.fillText(y,A,V):(this.paintChar(y,A,V,r),o&&(M=A+o.offset.x/f,y=V-o.offset.y/f,this.paintChar(o.fontChar,M,y,r)));s+=B*k+z*m;q&&e.restore()}}n?c.y-=s*j:c.x+=s*j;e.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,d=b.font,e=b.fontSize,f=b.fontDirection,h=d.vertical?1:-1,i=b.charSpacing,m=b.wordSpacing,j=b.textHScale*f,g=b.fontMatrix||l.FONT_IDENTITY_MATRIX,n=a.length,p;if(!(b.textRenderingMode===
l.TextRenderingMode.INVISIBLE||0===e)){this._cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(j,f);for(f=0;f<n;++f)if(p=a[f],(0,l.isNum)(p))p=h*p*e/1E3,this.ctx.translate(p,0),b.x+=p*j;else{var v=(p.isSpace?m:0)+i,k=d.charProcOperatorList[p.operatorListId];k?(this.processingType3=p,this.save(),c.scale(e,e),c.transform.apply(c,g),this.executeOperatorList(k),this.restore(),p=l.Util.applyTransform([p.width,0],g)[0]*e+v,c.translate(p,0),b.x+=p*j):
(0,l.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'))}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,d,e,f){this.ctx.rect(b,d,e-b,f-d);this.clip();this.endPath()},getColorN_Pattern:function(c){var b=this;if("TilingPattern"===c[0])var d=c[1],e=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c=new o.TilingPattern(c,d,this.ctx,{createCanvasGraphics:function(c){return new a(c,b.commonObjs,b.objs,b.canvasFactory,
b.webGLContext)}},e);else c=(0,o.getShadingPatternFromIR)(c);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=l.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=l.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=
!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,o.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,d=c.width,e=c.height,c=l.Util.applyTransform([0,0],b),a=l.Util.applyTransform([0,e],b),f=l.Util.applyTransform([d,0],b),h=l.Util.applyTransform([d,e],b),b=Math.min(c[0],a[0],f[0],h[0]),d=Math.min(c[1],a[1],f[1],h[1]),e=Math.max(c[0],a[0],f[0],h[0]),c=Math.max(c[1],a[1],f[1],h[1]);this.ctx.fillRect(b,d,e-b,c-d)}else this.ctx.fillRect(-1E10,
-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,l.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,l.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;c&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();
this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||(0,l.info)("TODO: Support non-isolated groups.");a.knockout&&(0,l.warn)("Knockout groups not supported.");var b=c.mozCurrentTransform;a.matrix&&c.transform.apply(c,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var d=l.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),d=l.Util.intersect(d,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],e=Math.floor(d[0]),f=Math.floor(d[1]),
i=Math.max(Math.ceil(d[2])-e,1),m=Math.max(Math.ceil(d[3])-f,1),j=d=1;4096<i&&(d=i/4096,i=4096);4096<m&&(j=m/4096,m=4096);var g="groupAt"+this.groupLevel;a.smask&&(g+="_smask_"+this.smaskCounter++%2);i=this.cachedCanvases.getCanvas(g,i,m,!0);m=i.context;m.scale(1/d,1/j);m.translate(-e,-f);m.transform.apply(m,b);a.smask?this.smaskStack.push({canvas:i.canvas,context:m,offsetX:e,offsetY:f,scaleX:d,scaleY:j,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):
(c.setTransform(1,0,0,1,0,0),c.translate(e,f),c.scale(d,j));h(c,m);this.ctx=m;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();
this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,d){this.save();c(this.ctx);this.current=new s;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,d)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,c,b){var d=this.processingType3?this.commonObjs.get(a):this.objs.get(a);
if(d){this.save();var e=this.ctx;e.scale(1/c,-1/b);e.drawImage(d,0,0,d.width,d.height,0,-b,c,b);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:c/d[0],height:b/d[3]}));this.restore()}else(0,l.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,e=a.height,f=this.current.fillColor,h=this.current.patternFill,i=this.processingType3;i&&void 0===i.compiled&&(i.compiled=
1E3>=b&&1E3>=e?k({data:a.data,width:b,height:e}):null);i&&i.compiled?i.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,e),i=c.context,i.save(),d(i,a),i.globalCompositeOperation="source-in",i.fillStyle=h?f.getPattern(i,this):f,i.fillRect(0,0,b,e),i.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,e){var f=a.width,h=a.height,i=this.current.fillColor,m=this.current.patternFill,j=this.cachedCanvases.getCanvas("maskCanvas",f,h),g=j.context;g.save();
d(g,a);g.globalCompositeOperation="source-in";g.fillStyle=m?i.getPattern(g,this):i;g.fillRect(0,0,f,h);g.restore();a=this.ctx;i=0;for(m=e.length;i<m;i+=2)a.save(),a.transform(c,0,0,b,e[i],e[i+1]),a.scale(1,-1),a.drawImage(j.canvas,0,0,f,h,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,e=this.current.patternFill,f=0,h=a.length;f<h;f++){var i=a[f],m=i.width,j=i.height,g=this.cachedCanvases.getCanvas("maskCanvas",m,j),n=g.context;n.save();d(n,
i);n.globalCompositeOperation="source-in";n.fillStyle=e?b.getPattern(n,this):b;n.fillRect(0,0,m,j);n.restore();c.save();c.transform.apply(c,i.transform);c.scale(1,-1);c.drawImage(g.canvas,0,0,m,j,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.processingType3?this.commonObjs.get(a):this.objs.get(a))?this.paintInlineImageXObject(a):(0,l.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,d){if(a=this.processingType3?this.commonObjs.get(a):this.objs.get(a)){for(var e=
a.width,f=a.height,h=[],i=0,m=d.length;i<m;i+=2)h.push({transform:[c,0,0,b,d[i],d[i+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(a,h)}else(0,l.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,d=a.height,e=this.ctx;this.save();e.scale(1/c,-1/d);var f=e.mozCurrentTransformInverse,h=f[0],i=f[1],h=Math.max(Math.sqrt(h*h+i*i),1),i=f[2],m=f[3],i=Math.max(Math.sqrt(i*i+m*m),1),g;if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)m=
a;else{g=this.cachedCanvases.getCanvas("inlineImage",c,d);var n=g.context;b(n,a);m=g.canvas}for(var p=c,l=d,v="prescale1";2<h&&1<p||2<i&&1<l;){var k=p,u=l;2<h&&1<p&&(k=Math.ceil(p/2),h/=p/k);2<i&&1<l&&(u=Math.ceil(l/2),i/=l/u);g=this.cachedCanvases.getCanvas(v,k,u);n=g.context;n.clearRect(0,0,k,u);n.drawImage(m,0,0,p,l,0,0,k,u);m=g.canvas;p=k;l=u;v="prescale1"===v?"prescale2":"prescale1"}e.drawImage(m,0,0,p,l,0,-d,c,d);this.imageLayer&&(e=this.getCanvasPosition(0,-d),this.imageLayer.appendImage({imgData:a,
left:e[0],top:e[1],width:c/f[0],height:d/f[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,e=a.width,f=a.height,h=this.cachedCanvases.getCanvas("inlineImage",e,f);b(h.context,a);for(var i=0,m=c.length;i<m;i++){var g=c[i];d.save();d.transform.apply(d,g.transform);d.scale(1,-1);d.drawImage(h.canvas,g.x,g.y,g.w,g.h,0,-1,1,1);this.imageLayer&&(g=this.getCanvasPosition(g.x,g.y),this.imageLayer.appendImage({imgData:a,left:g[0],top:g[1],width:e,height:f}));d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,
0,1,1)},paintXObject:function(){(0,l.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===z?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=
this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var q in l.OPS)a.prototype[l.OPS[q]]=a.prototype[q];return a}();b.CanvasGraphics=d},function(d,b,a){function g(a,b){if(b&&"undefined"!==typeof Path2D){var d=b[2]-b[0],g=b[3]-b[1],l=new Path2D;l.rect(b[0],b[1],d,g);
a.clip(l)}}Object.defineProperty(b,"__esModule",{value:!0});b.getShadingPatternFromIR=function(a){var b=l[a[0]];if(!b)throw Error("Unknown IR type: ".concat(a[0]));return b.fromIR(a)};b.TilingPattern=void 0;var k=a(1),l={RadialAxial:{fromIR:function(a){var b=a[1],d=a[2],l=a[3],k=a[4],j=a[5],p=a[6],h=a[7];return{type:"Pattern",getPattern:function(a){g(a,d);var f;"axial"===b?f=a.createLinearGradient(k[0],k[1],j[0],j[1]):"radial"===b&&(f=a.createRadialGradient(k[0],k[1],p,j[0],j[1],h));for(var a=0,e=
l.length;a<e;++a){var i=l[a];f.addColorStop(i[0],i[1])}return f}}}}},o=function(){function a(b,d,g,l,j,p,h,c){var f=d.coords,e=d.colors,i=b.data,b=4*b.width,k;f[g+1]>f[l+1]&&(k=g,g=l,l=k,k=p,p=h,h=k);f[l+1]>f[j+1]&&(k=l,l=j,j=k,k=h,h=c,c=k);f[g+1]>f[l+1]&&(k=g,g=l,l=k,k=p,p=h,h=k);k=(f[g]+d.offsetX)*d.scaleX;var g=(f[g+1]+d.offsetY)*d.scaleY,u=(f[l]+d.offsetX)*d.scaleX,l=(f[l+1]+d.offsetY)*d.scaleY,r=(f[j]+d.offsetX)*d.scaleX,d=(f[j+1]+d.offsetY)*d.scaleY;if(!(g>=d))for(var j=e[p],f=e[p+1],p=e[p+
2],z=e[h],q=e[h+1],h=e[h+2],t=e[c],w=e[c+1],c=e[c+2],x=Math.round(g),e=Math.round(d),C,E,o,D,L,F,J,I,H=x;H<=e;H++){H<l?(I=H<g?0:g===l?1:(g-H)/(g-l),x=k-(k-u)*I,C=j-(j-z)*I,E=f-(f-q)*I,o=p-(p-h)*I):(I=H>d?1:l===d?0:(l-H)/(l-d),x=u-(u-r)*I,C=z-(z-t)*I,E=q-(q-w)*I,o=h-(h-c)*I);I=H<g?0:H>d?1:(g-H)/(g-d);D=k-(k-r)*I;L=j-(j-t)*I;F=f-(f-w)*I;J=p-(p-c)*I;I=Math.round(Math.min(x,D));for(var R=Math.round(Math.max(x,D)),T=b*H+4*I,Q=I;Q<=R;Q++)I=(x-Q)/(x-D),I=0>I?0:1<I?1:I,i[T++]=C-(C-L)*I|0,i[T++]=E-(E-F)*I|
0,i[T++]=o-(o-J)*I|0,i[T++]=255}}return function(b,d,g,l,j,p,h,c){var f=Math.floor(b[0]),e=Math.floor(b[1]),i=Math.ceil(b[2])-f,b=Math.ceil(b[3])-e,k=Math.min(Math.ceil(Math.abs(1.1*i*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*b*d[1])),3E3),i=i/k,b=b/d,g={coords:g,colors:l,offsetX:-f,offsetY:-e,scaleX:1/i,scaleY:1/b},l=k+4,u=d+4;if(c.isEnabled)j=c.drawFigures({width:k,height:d,backgroundColor:p,figures:j,context:g}),h=h.getCanvas("mesh",l,u,!1),h.context.drawImage(j,2,2);else{h=h.getCanvas("mesh",
l,u,!1);c=h.context;d=c.createImageData(k,d);if(p){u=d.data;k=0;for(l=u.length;k<l;k+=4)u[k]=p[0],u[k+1]=p[1],u[k+2]=p[2],u[k+3]=255}for(k=0;k<j.length;k++){var p=d,o=j[k],l=g,u=o.coords,z=o.colors,q=void 0,t=void 0;switch(o.type){case "lattice":for(var o=o.verticesPerRow,t=Math.floor(u.length/o)-1,w=o-1,q=0;q<t;q++)for(var x=q*o,C=0;C<w;C++,x++)a(p,l,u[x],u[x+1],u[x+o],z[x],z[x+1],z[x+o]),a(p,l,u[x+o+1],u[x+1],u[x+o],z[x+o+1],z[x+1],z[x+o]);break;case "triangles":q=0;for(t=u.length;q<t;q+=3)a(p,
l,u[q],u[q+1],u[q+2],z[q],z[q+1],z[q+2]);break;default:throw Error("illegal figure");}}c.putImageData(d,2,2)}j=h.canvas;return{canvas:j,offsetX:f-2*i,offsetY:e-2*b,scaleX:i,scaleY:b}}}();l.Mesh={fromIR:function(a){var b=a[2],d=a[3],l=a[4],y=a[5],j=a[6],p=a[7],h=a[8];return{type:"Pattern",getPattern:function(a,f,e){g(a,p);var i;if(e)i=k.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(i=k.Util.singularValueDecompose2dScale(f.baseTransform),j){var v=k.Util.singularValueDecompose2dScale(j);
i=[i[0]*v[0],i[1]*v[1]]}i=o(y,i,b,d,l,e?null:h,f.cachedCanvases,f.webGLContext);e||(a.setTransform.apply(a,f.baseTransform),j&&a.transform.apply(a,j));a.translate(i.offsetX,i.offsetY);a.scale(i.scaleX,i.scaleY);return a.createPattern(i.canvas,"no-repeat")}}}};l.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};d=function(){function a(b,d,g,l,j){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=
b[7];this.tilingType=b[8];this.color=d;this.canvasGraphicsFactory=l;this.baseTransform=j;this.type="Pattern";this.ctx=g}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,g=this.xstep,j=this.ystep,l=this.paintType,h=this.tilingType,c=this.color,f=this.canvasGraphicsFactory;(0,k.info)("TilingType: "+h);var h=d[0],e=d[1],i=d[2],v=d[3],u=k.Util.singularValueDecompose2dScale(this.matrix),r=k.Util.singularValueDecompose2dScale(this.baseTransform),u=[u[0]*r[0],u[1]*r[1]],g=
this.getSizeAndScale(g,this.ctx.canvas.width,u[0]),j=this.getSizeAndScale(j,this.ctx.canvas.height,u[1]),u=a.cachedCanvases.getCanvas("pattern",g.size,j.size,!0),f=f.createCanvasGraphics(u.context);f.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(f,l,c);f.transform(g.scale,0,0,j.scale,0,0);f.transform(1,0,0,1,-h,-e);this.clipBbox(f,d,h,e,i,v);f.executeOperatorList(b);this.ctx.transform(1,0,0,1,h,e);this.ctx.scale(1/g.scale,1/j.scale);return u.canvas},getSizeAndScale:function(a,b,d){var a=
Math.abs(a),b=Math.max(3E3,b),g=Math.ceil(a*d);g>=b?g=b:d=g/a;return{scale:d,size:g}},clipBbox:function(a,b,d,g,j,l){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,g,j-d,l-g),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var g=a.ctx,a=a.current;switch(b){case 1:b=this.ctx;g.fillStyle=b.fillStyle;g.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=k.Util.makeCssRgb(d[0],d[1],d[2]);g.fillStyle=b;g.strokeStyle=b;a.fillColor=b;a.strokeColor=
b;break;default:throw new k.FormatError("Unsupported paint type: ".concat(b));}},getPattern:function(a,b){a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);var d=this.createPatternCanvas(b);return a.createPattern(d,"repeat")}};return a}();b.TilingPattern=d},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GlobalWorkerOptions=void 0;var a=Object.create(null);b.GlobalWorkerOptions=a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=
void 0===a.workerSrc?"":a.workerSrc},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}function k(a){if("object"!==g(a))return a;switch(a.name){case "AbortException":return new r.AbortException(a.message);case "MissingPDFException":return new r.MissingPDFException(a.message);case "UnexpectedResponseException":return new r.UnexpectedResponseException(a.message,
a.status);case "UnknownErrorException":return new r.UnknownErrorException(a.message,a.details);default:return new r.UnknownErrorException(a.message,a.toString())}}function l(a,b){b.success?a.resolve():a.reject(k(b.reason))}function o(a,b,d){var g=this;this.sourceName=a;this.targetName=b;this.comObj=d;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var j=this.callbacksCapabilities=Object.create(null),l=this.actionHandler=
Object.create(null);this._onComObjOnMessage=function(a){var c=a.data;if(c.targetName===g.sourceName)if(c.stream)g._processStreamMessage(c);else if(c.isReply)if(a=c.callbackId,c.callbackId in j){var b=j[a];delete j[a];"error"in c?b.reject(k(c.error)):b.resolve(c.data)}else throw Error("Cannot resolve callback ".concat(a));else if(c.action in l){var e=l[c.action];if(c.callbackId){var i=g.sourceName,m=c.sourceName;(new Promise(function(a){a(e(c.data))})).then(function(a){d.postMessage({sourceName:i,
targetName:m,isReply:!0,callbackId:c.callbackId,data:a})},function(a){d.postMessage({sourceName:i,targetName:m,isReply:!0,callbackId:c.callbackId,error:k(a)})})}else c.streamId?g._createStreamSink(c):e(c.data)}else throw Error("Unknown action from worker: ".concat(c.action));};d.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(b,"__esModule",{value:!0});b.MessageHandler=o;var r=a(1);o.prototype={on:function(a,b){var d=this.actionHandler;if(d[a])throw Error('There is already an actionName called "'.concat(a,
'"'));d[a]=b},send:function(a,b,d){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},d)},sendWithPromise:function(a,b,d){var g=this.callbackId++,j=(0,r.createPromiseCapability)();this.callbacksCapabilities[g]=j;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:g,data:b},d)}catch(l){j.reject(l)}return j.promise},sendWithStream:function(a,b,d,g){var j=this,l=this.streamId++,h=this.sourceName,c=this.targetName,f=this.comObj;
return new r.ReadableStream({start:function(d){var f=(0,r.createPromiseCapability)();j.streamControllers[l]={controller:d,startCall:f,isClosed:!1};j.postMessage({sourceName:h,targetName:c,action:a,streamId:l,data:b,desiredSize:d.desiredSize},g);return f.promise},pull:function(a){var b=(0,r.createPromiseCapability)();j.streamControllers[l].pullCall=b;f.postMessage({sourceName:h,targetName:c,stream:6,streamId:l,desiredSize:a.desiredSize});return b.promise},cancel:function(a){(0,r.assert)(a instanceof
Error,"cancel must have a valid reason");var b=(0,r.createPromiseCapability)();j.streamControllers[l].cancelCall=b;j.streamControllers[l].isClosed=!0;f.postMessage({sourceName:h,targetName:c,stream:1,streamId:l,reason:k(a)});return b.promise}},d)},_createStreamSink:function(a){var b=this,d=this.actionHandler[a.action],g=a.streamId,j=a.desiredSize,l=this.sourceName,h=a.sourceName,c=this.comObj,f={enqueue:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,d=2<arguments.length?
arguments[2]:void 0;if(!this.isCancelled){var f=this.desiredSize;this.desiredSize-=c;0<f&&0>=this.desiredSize&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise);b.postMessage({sourceName:l,targetName:h,stream:4,streamId:g,chunk:a},d)}},close:function(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:l,targetName:h,stream:3,streamId:g}),delete b.streamSinks[g])},error:function(a){(0,r.assert)(a instanceof Error,"error must have a valid reason");
this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:l,targetName:h,stream:5,streamId:g,reason:k(a)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:j,ready:null};f.sinkCapability.resolve();f.ready=f.sinkCapability.promise;this.streamSinks[g]=f;(new Promise(function(c){c(d(a.data,f))})).then(function(){c.postMessage({sourceName:l,targetName:h,stream:8,streamId:g,success:!0})},function(a){c.postMessage({sourceName:l,targetName:h,stream:8,
streamId:g,reason:k(a)})})},_processStreamMessage:function(a){var b=this,d=this.sourceName,g=a.sourceName,j=a.streamId,p=this.comObj,h=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&a.promise["catch"](function(){})})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case 8:l(this.streamControllers[a.streamId].startCall,a);break;case 7:l(this.streamControllers[a.streamId].pullCall,
a);break;case 6:if(!this.streamSinks[a.streamId]){p.postMessage({sourceName:d,targetName:g,stream:7,streamId:j,success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;var c=this.streamSinks[a.streamId].onPull;(new Promise(function(a){a(c&&c())})).then(function(){p.postMessage({sourceName:d,targetName:g,stream:7,streamId:j,success:!0})},function(a){p.postMessage({sourceName:d,
targetName:g,stream:7,streamId:j,reason:k(a)})});break;case 4:(0,r.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case 3:(0,r.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();
h();break;case 5:(0,r.assert)(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(k(a.reason));h();break;case 2:l(this.streamControllers[a.streamId].cancelCall,a);h();break;case 1:if(!this.streamSinks[a.streamId])break;var f=this.streamSinks[a.streamId].onCancel;(new Promise(function(c){c(f&&f(k(a.reason)))})).then(function(){p.postMessage({sourceName:d,targetName:g,stream:2,streamId:j,success:!0})},function(a){p.postMessage({sourceName:d,
targetName:g,stream:2,streamId:j,reason:k(a)})});this.streamSinks[a.streamId].sinkCapability.reject(k(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(d,b,a){function g(a,b){for(var d=0;d<b.length;d++){var g=
b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function k(a,b,d){b&&g(a.prototype,b);d&&g(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.Metadata=void 0;var l=a(1),o=a(159),d=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,l.assert)("string"===typeof b,"Metadata: input is not a string");b=this._repair(b);b=(new o.SimpleXMLParser).parseFromString(b);this._metadata=
Object.create(null);b&&this._parse(b)}k(a,[{key:"_repair",value:function(a){return a.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,c,b,d){return String.fromCharCode(64*c+8*b+1*d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,c){switch(c){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: ".concat(c," isn't defined."));}),j="",g=0,h=d.length;g<
h;g+=2)var c=256*d.charCodeAt(g)+d.charCodeAt(g+1),j=32<=c&&127>c&&60!==c&&62!==c&&38!==c?j+String.fromCharCode(c):j+("&#x"+(65536+c).toString(16).substring(1)+";");return">"+j})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var g=a[b];if("rdf:description"===
g.nodeName.toLowerCase())for(var j=0,l=g.childNodes.length;j<l;j++)if("#text"!==g.childNodes[j].nodeName.toLowerCase()){var h=g.childNodes[j];this._metadata[h.nodeName.toLowerCase()]=h.textContent.trim()}}}},{key:"get",value:function(a){a=this._metadata[a];return"undefined"!==typeof a?a:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();b.Metadata=d},function(d,b){var a;function g(a){g="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}function k(a,c,b){k="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,c,b){for(;!Object.prototype.hasOwnProperty.call(a,c)&&!(a=l(a),null===a););if(a)return c=Object.getOwnPropertyDescriptor(a,c),c.get?c.get.call(b):c.value};return k(a,c,b||a)}function l(a){l=Object.setPrototypeOf?
Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return l(a)}function o(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&r(a,c)}function r(a,c){r=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return r(a,c)}function m(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function n(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function s(a,c,b){c&&n(a.prototype,c);b&&n(a,b);return a}function y(a,c){var b=a[c];return" "===b||"\n"===b||"\r"===b||"\t"===b}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleXMLParser=void 0;a=0;var j=function(){function a(){m(this,a)}s(a,[{key:"_resolveEntities",value:function(a){var b=this;return a.replace(/&([^;]+);/g,
function(a,c){if("#x"===c.substring(0,2))return String.fromCharCode(parseInt(c.substring(2),16));if("#"===c.substring(0,1))return String.fromCharCode(parseInt(c.substring(1),10));switch(c){case "lt":return"<";case "gt":return">";case "amp":return"&";case "quot":return'"'}return b.onResolveEntity(c)})}},{key:"_parseContent",value:function(a,b){function d(){for(;h<a.length&&y(a,h);)++h}for(var h=b,j,g=[];h<a.length&&!y(a,h)&&">"!==a[h]&&"/"!==a[h];)++h;j=a.substring(b,h);for(d();h<a.length&&">"!==a[h]&&
"/"!==a[h]&&"?"!==a[h];){d();for(var l="",m="";h<a.length&&!y(a,h)&&"="!==a[h];)l+=a[h],++h;d();if("="!==a[h])return null;++h;d();m=a[h];if('"'!==m&&"'"!==m)return null;var k=a.indexOf(m,++h);if(0>k)return null;m=a.substring(h,k);g.push({name:l,value:this._resolveEntities(m)});h=k+1;d()}return{name:j,attributes:g,parsed:h-b}}},{key:"_parseProcessingInstruction",value:function(a,b){for(var d=b,h,j;d<a.length&&!y(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;for(h=a.substring(b,d);d<a.length&&y(a,d);)++d;for(j=
d;d<a.length&&("?"!==a[d]||">"!==a[d+1]);)++d;j=a.substring(j,d);return{name:h,value:j,parsed:d-b}}},{key:"parseXml",value:function(a){for(var b=0;b<a.length;){var d=b;if("<"===a[b])switch(++d,b=void 0,a[d]){case "/":++d;b=a.indexOf(">",d);if(0>b){this.onError(-9);return}this.onEndElement(a.substring(d,b));d=b+1;break;case "?":++d;b=this._parseProcessingInstruction(a,d);if("?>"!==a.substring(d+b.parsed,d+b.parsed+2)){this.onError(-3);return}this.onPi(b.name,b.value);d+=b.parsed+2;break;case "!":if("--"===
a.substring(d+1,d+3)){b=a.indexOf("--\>",d+3);if(0>b){this.onError(-5);return}this.onComment(a.substring(d+3,b));d=b+3}else if("[CDATA["===a.substring(d+1,d+8)){b=a.indexOf("]]\>",d+8);if(0>b){this.onError(-2);return}this.onCdata(a.substring(d+8,b));d=b+3}else if("DOCTYPE"===a.substring(d+1,d+8)){var h=a.indexOf("[",d+8),j=!1,b=a.indexOf(">",d+8);if(0>b){this.onError(-4);return}if(0<h&&b>h){b=a.indexOf("]>",d+8);if(0>b){this.onError(-4);return}j=!0}this.onDoctype(a.substring(d+8,b+(j?1:0)));d=b+(j?
2:1)}else{this.onError(-6);return}break;default:b=this._parseContent(a,d);if(null===b){this.onError(-6);return}h=!1;if("/>"===a.substring(d+b.parsed,d+b.parsed+2))h=!0;else if(">"!==a.substring(d+b.parsed,d+b.parsed+1)){this.onError(-9);return}this.onBeginElement(b.name,b.attributes,h);d+=b.parsed+(h?2:1)}else{for(;d<a.length&&"<"!==a[d];)d++;this.onText(this._resolveEntities(a.substring(b,d)))}b=d}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(){}},
{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]);return a}(),p=function(){function a(c,b){m(this,a);this.nodeName=c;this.nodeValue=b;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}s(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},
{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var a=this.parentNode.childNodes;if(a){var b=a.indexOf(this);return-1===b?void 0:a[b+1]}}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);return a}(),j=function(b){function c(){var b;m(this,c);b=l(c).call(this);if(!b||!("object"===g(b)||"function"===typeof b)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=this}b._currentFragment=null;b._stack=null;b._errorCode=a;return b}o(c,b);s(c,[{key:"parseFromString",value:function(c){this._currentFragment=[];this._stack=[];this._errorCode=a;this.parseXml(c);if(this._errorCode===a){var b;c=this._currentFragment;Array.isArray(c)&&(b=c);if(!b){b=[];var c=!0,d=!1,h=void 0;try{for(var j=this._currentFragment[Symbol.iterator](),g;!(c=(g=j.next()).done)&&!(b.push(g.value),1===b.length);c=!0);}catch(l){d=!0,h=l}finally{try{if(!c&&null!=j["return"])j["return"]()}finally{if(d)throw h;
}}if(!b)throw new TypeError("Invalid attempt to destructure non-iterable instance");}j=b[0];return!j?void 0:{documentElement:j}}}},{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return k(l(c.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){var c;a:{c=0;for(var b=a.length;c<b;c++)if(!y(a,c)){c=!1;break a}c=!0}c||this._currentFragment.push(new p("#text",a))}},{key:"onCdata",value:function(a){this._currentFragment.push(new p("#text",a))}},{key:"onBeginElement",
value:function(a,c,b){a=new p(a);a.childNodes=[];this._currentFragment.push(a);b||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop()||[];var a=this._currentFragment[this._currentFragment.length-1];if(a)for(var c=0,b=a.childNodes.length;c<b;c++)a.childNodes[c].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return c}(j);b.SimpleXMLParser=j},function(d,b,a){function g(a,b,d,
c,f,e,i){try{var g=a[e](i),l=g.value}catch(m){d(m);return}g.done?b(l):Promise.resolve(l).then(c,f)}function k(a){return function(){var b=this,d=arguments;return new Promise(function(c,f){function e(a){g(l,c,f,e,i,"next",a)}function i(a){g(l,c,f,e,i,"throw",a)}var l=a.apply(b,d);e(void 0)})}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function o(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&
(c.writable=!0);Object.defineProperty(a,c.key,c)}}function r(a,b,d){b&&o(a.prototype,b);d&&o(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.PDFDataTransportStream=void 0;var m=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),n=a(1),d=function(){function a(b,d){var c=this;l(this,a);(0,n.assert)(d);this._queuedChunks=[];this._progressiveDone=b.progressiveDone||!1;var f=b.initialData;f&&0<f.length&&this._queuedChunks.push((new Uint8Array(f)).buffer);this._pdfDataRangeTransport=
d;this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._contentLength=b.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){c._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a,b){c._onProgress({loaded:a,total:b})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){c._onReceiveData({chunk:a})});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){c._onProgressiveDone()});
this._pdfDataRangeTransport.transportReady()}r(a,[{key:"_onReceiveData",value:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var c=this._rangeReaders.some(function(c){if(c._begin!==a.begin)return!1;c._enqueue(b);return!0});(0,n.assert)(c)}}},{key:"_onProgress",value:function(a){if(void 0===a.total){var b=this._rangeReaders[0];if(b&&b.onProgress)b.onProgress({loaded:a.loaded})}else if((b=
this._fullRequestReader)&&b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone();this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)}},{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new s(this,a,this._progressiveDone)}},
{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var c=new y(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:
0}}]);return a}();b.PDFDataTransportStream=d;var s=function(){function a(b,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;l(this,a);this._stream=b;this._done=c||!1;this._filename=null;this._queuedChunks=d||[];this._loaded=0;var c=!0,f=!1,e=void 0;try{for(var i=this._queuedChunks[Symbol.iterator](),g;!(c=(g=i.next()).done);c=!0)this._loaded+=g.value.byteLength}catch(m){f=!0,e=m}finally{try{if(!c&&null!=i["return"])i["return"]()}finally{if(f)throw e;}}this._requests=[];this._headersReady=
Promise.resolve();b._fullRequestReader=this;this.onProgress=null}r(a,[{key:"_enqueue",value:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}},{key:"read",value:function(){var a=k(m["default"].mark(function c(){var a,b;return m["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(0<this._queuedChunks.length)){c.next=3;break}a=this._queuedChunks.shift();return c.abrupt("return",
{value:a,done:!1});case 3:if(!this._done){c.next=5;break}return c.abrupt("return",{value:void 0,done:!0});case 5:return b=(0,n.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 8:case "end":return c.stop()}},c,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=
!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]);return a}(),y=function(){function a(b,d,c){l(this,a);this._stream=b;this._begin=d;this._end=c;this._queuedChunk=null;this._requests=[];this._done=
!1;this.onProgress=null}r(a,[{key:"_enqueue",value:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:function(){var a=k(m["default"].mark(function c(){var a,b;return m["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._queuedChunk){c.next=4;break}a=
this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,n.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},c,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=
[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]);return a}()},function(d,b,a){function g(a,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function k(a,b,d){b&&g(a.prototype,b);d&&g(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.WebGLContext=void 0;var l=a(1),d=function(){function a(b){b=b.enable;b=void 0===b?!1:b;if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===b}k(a,[{key:"composeSMask",value:function(a){return o.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return o.drawFigures(a.width,a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){o.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&(a=o.tryInitGL());return(0,l.shadow)(this,"isEnabled",a)}}]);return a}();b.WebGLContext=d;var o=function(){function a(c,
b,d){d=c.createShader(d);c.shaderSource(d,b);c.compileShader(d);if(!c.getShaderParameter(d,c.COMPILE_STATUS))throw c=c.getShaderInfoLog(d),Error("Error during shader compilation: "+c);return d}function b(a,d){for(var e=a.createProgram(),h=0,g=d.length;h<g;++h)a.attachShader(e,d[h]);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))throw e=a.getProgramInfoLog(e),Error("Error during program linking: "+e);return e}function d(a,b,e){a.activeTexture(e);e=a.createTexture();a.bindTexture(a.TEXTURE_2D,
e);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return e}function g(){l||(j=document.createElement("canvas"),l=j.getContext("webgl",{premultipliedalpha:!1}))}var l,j,k=null,h=null;return{tryInitGL:function(){try{return g(),!!l}catch(a){}return!1},
composeSMask:function(c,f,e){var h=c.width,v=c.height;if(!k){var u,o;g();u=j;j=null;o=l;l=null;var z=a(o,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
o.VERTEX_SHADER),q=a(o,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
o.FRAGMENT_SHADER),t=b(o,[z,q]);o.useProgram(t);z={};z.gl=o;z.canvas=u;z.resolutionLocation=o.getUniformLocation(t,"u_resolution");z.positionLocation=o.getAttribLocation(t,"a_position");z.backdropLocation=o.getUniformLocation(t,"u_backdrop");z.subtypeLocation=o.getUniformLocation(t,"u_subtype");u=o.getAttribLocation(t,"a_texCoord");var q=o.getUniformLocation(t,"u_image"),t=o.getUniformLocation(t,"u_mask"),w=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,w);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);o.enableVertexAttribArray(u);o.vertexAttribPointer(u,2,o.FLOAT,!1,0,0);o.uniform1i(q,0);o.uniform1i(t,1);k=z}o=k;z=o.canvas;u=o.gl;z.width=h;z.height=v;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(o.resolutionLocation,h,v);e.backdrop?u.uniform4f(o.resolutionLocation,e.backdrop[0],e.backdrop[1],e.backdrop[2],1):u.uniform4f(o.resolutionLocation,0,0,0,0);u.uniform1i(o.subtypeLocation,"Luminosity"===e.subtype?1:0);c=d(u,c,u.TEXTURE0);f=
d(u,f,u.TEXTURE1);e=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,e);u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,h,0,0,v,0,v,h,0,h,v]),u.STATIC_DRAW);u.enableVertexAttribArray(o.positionLocation);u.vertexAttribPointer(o.positionLocation,2,u.FLOAT,!1,0,0);u.clearColor(0,0,0,0);u.enable(u.BLEND);u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA);u.clear(u.COLOR_BUFFER_BIT);u.drawArrays(u.TRIANGLES,0,6);u.flush();u.deleteTexture(c);u.deleteTexture(f);u.deleteBuffer(e);return z},drawFigures:function(c,d,e,
i,k){if(!h){var p,o;g();p=j;j=null;o=l;l=null;var n=a(o,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
o.VERTEX_SHADER),q=a(o,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",o.FRAGMENT_SHADER),n=b(o,[n,
q]);o.useProgram(n);q={};q.gl=o;q.canvas=p;q.resolutionLocation=o.getUniformLocation(n,"u_resolution");q.scaleLocation=o.getUniformLocation(n,"u_scale");q.offsetLocation=o.getUniformLocation(n,"u_offset");q.positionLocation=o.getAttribLocation(n,"a_position");q.colorLocation=o.getAttribLocation(n,"a_color");h=q}p=h;o=p.canvas;n=p.gl;o.width=c;o.height=d;n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);n.uniform2f(p.resolutionLocation,c,d);var c=0,t,w,x;t=0;for(w=i.length;t<w;t++)switch(i[t].type){case "lattice":x=
i[t].coords.length/i[t].verticesPerRow|0;c+=6*(x-1)*(i[t].verticesPerRow-1);break;case "triangles":c+=i[t].coords.length}var q=new Float32Array(2*c),d=new Uint8Array(3*c),C=k.coords,E=k.colors,K=0,D=0;t=0;for(w=i.length;t<w;t++){x=i[t];var L=x.coords,F=x.colors;switch(x.type){case "lattice":var J=x.verticesPerRow;x=L.length/J|0;for(var I=1;I<x;I++)for(var H=I*J+1,R=1;R<J;R++,H++)q[K]=C[L[H-J-1]],q[K+1]=C[L[H-J-1]+1],q[K+2]=C[L[H-J]],q[K+3]=C[L[H-J]+1],q[K+4]=C[L[H-1]],q[K+5]=C[L[H-1]+1],d[D]=E[F[H-
J-1]],d[D+1]=E[F[H-J-1]+1],d[D+2]=E[F[H-J-1]+2],d[D+3]=E[F[H-J]],d[D+4]=E[F[H-J]+1],d[D+5]=E[F[H-J]+2],d[D+6]=E[F[H-1]],d[D+7]=E[F[H-1]+1],d[D+8]=E[F[H-1]+2],q[K+6]=q[K+2],q[K+7]=q[K+3],q[K+8]=q[K+4],q[K+9]=q[K+5],q[K+10]=C[L[H]],q[K+11]=C[L[H]+1],d[D+9]=d[D+3],d[D+10]=d[D+4],d[D+11]=d[D+5],d[D+12]=d[D+6],d[D+13]=d[D+7],d[D+14]=d[D+8],d[D+15]=E[F[H]],d[D+16]=E[F[H]+1],d[D+17]=E[F[H]+2],K+=12,D+=18;break;case "triangles":x=0;for(J=L.length;x<J;x++)q[K]=C[L[x]],q[K+1]=C[L[x]+1],d[D]=E[F[x]],d[D+1]=
E[F[x]+1],d[D+2]=E[F[x]+2],K+=2,D+=3}}e?n.clearColor(e[0]/255,e[1]/255,e[2]/255,1):n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);e=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,e);n.bufferData(n.ARRAY_BUFFER,q,n.STATIC_DRAW);n.enableVertexAttribArray(p.positionLocation);n.vertexAttribPointer(p.positionLocation,2,n.FLOAT,!1,0,0);i=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,i);n.bufferData(n.ARRAY_BUFFER,d,n.STATIC_DRAW);n.enableVertexAttribArray(p.colorLocation);n.vertexAttribPointer(p.colorLocation,
3,n.UNSIGNED_BYTE,!1,0,0);n.uniform2f(p.scaleLocation,k.scaleX,k.scaleY);n.uniform2f(p.offsetLocation,k.offsetX,k.offsetY);n.drawArrays(n.TRIANGLES,0,c);n.flush();n.deleteBuffer(e);n.deleteBuffer(i);return o},cleanup:function(){k&&k.canvas&&(k.canvas.width=0,k.canvas.height=0);h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);h=k=null}}}()},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.renderTextLayer=void 0;var g=a(1),k=function(a){return a&&a.__esModule?a:{"default":a}}(a(3)),
d=function(){function a(b){if(!b._canceled){var d=b._textDivs,h=b._capability,c=d.length;if(!(c>s)&&!b._textContentStream)for(var f=0;f<c;f++)b._layoutText(d[f]);b._renderingDone=!0;h.resolve()}}function b(a){for(var l=a._bounds,h=a._viewport,h=d(h.width,h.height,l),c=0;c<h.length;c++){var f=l[c].div,e=a._textDivProperties.get(f);if(0===e.angle)e.paddingLeft=l[c].left-h[c].left,e.paddingTop=l[c].top-h[c].top,e.paddingRight=h[c].right-l[c].right,e.paddingBottom=h[c].bottom-l[c].bottom;else{var i=h[c],
k=l[c],m=k.m,n=m[0],o=m[1],k=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],q=new Float64Array(64);k.forEach(function(a,c){var b=g.Util.applyTransform(a,m);q[c+0]=n&&(i.left-b[0])/n;q[c+4]=o&&(i.top-b[1])/o;q[c+8]=n&&(i.right-b[0])/n;q[c+12]=o&&(i.bottom-b[1])/o;q[c+16]=o&&(i.left-b[0])/-o;q[c+20]=n&&(i.top-b[1])/n;q[c+24]=o&&(i.right-b[0])/-o;q[c+28]=n&&(i.bottom-b[1])/n;q[c+32]=n&&(i.left-b[0])/-n;q[c+36]=o&&(i.top-b[1])/-o;q[c+40]=n&&(i.right-b[0])/-n;q[c+44]=o&&(i.bottom-b[1])/-o;q[c+48]=o&&(i.left-
b[0])/o;q[c+52]=n&&(i.top-b[1])/-n;q[c+56]=o&&(i.right-b[0])/o;q[c+60]=n&&(i.bottom-b[1])/-n});var k=function(a,c,b){for(var d=0,e=0;e<b;e++){var f=a[c++];0<f&&(d=d?Math.min(f,d):f)}return d},t=1+Math.min(Math.abs(n),Math.abs(o));e.paddingLeft=k(q,32,16)/t;e.paddingTop=k(q,48,16)/t;e.paddingRight=k(q,0,16)/t;e.paddingBottom=k(q,16,16)/t}a._textDivProperties.set(f,e)}}function d(a,b,h){var c=h.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});m(a,
c);var f=Array(h.length);c.forEach(function(a){f[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});h.map(function(b,d){var h=f[d],g=c[d];g.x1=b.top;g.y1=a-h.right;g.x2=b.bottom;g.y2=a-h.left;g.index=d;g.x1New=void 0;g.x2New=void 0});m(b,c);c.forEach(function(a){var c=a.index;f[c].top=a.x1New;f[c].bottom=a.x2New});return f}function m(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var e=d.length-1;0<=e&&d[e].start>=a.y2;)e--;var i,g,j,l=-Infinity;for(j=b;j<=e;j++){i=d[j];g=i.boundary;var k;k=g.x2>a.x1?g.index>a.index?g.x1New:a.x1:void 0===g.x2New?(g.x2+a.x1)/2:g.x2New;k>l&&(l=k)}a.x1New=l;for(j=b;j<=e;j++)i=d[j],g=i.boundary,void 0===g.x2New?g.x2>a.x1?g.index>a.index&&(g.x2New=g.x2):g.x2New=l:g.x2New>l&&(g.x2New=Math.max(l,g.x2));k=[];var m=null;for(j=b;j<=e;j++)i=d[j],g=i.boundary,g=g.x2>
a.x2?g:a,m===g?k[k.length-1].end=i.end:(k.push({start:i.start,end:i.end,boundary:g}),m=g);d[b].start<a.y1&&(k[0].start=a.y1,k.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[e].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,end:d[e].end,boundary:d[e].boundary}));for(j=b;j<=e;j++)if(i=d[j],g=i.boundary,void 0===g.x2New){i=!1;for(a=b-1;!i&&0<=a&&d[a].start>=g.y1;a--)i=d[a].boundary===g;for(a=e+1;!i&&a<d.length&&d[a].end<=g.y2;a++)i=d[a].boundary===g;for(a=0;!i&&a<k.length;a++)i=
k[a].boundary===g;i||(g.x2New=l)}Array.prototype.splice.apply(d,[b,e-b+1].concat(k))});d.forEach(function(c){c=c.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function n(a){var b=this,d=a.textContentStream,c=a.container,f=a.viewport,e=a.textDivs,i=a.textContentItemsStr,l=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=d;this._container=c;this._viewport=f;this._textDivs=e||[];this._textContentItemsStr=i||[];this._enhanceTextSelection=!!l;this._fontInspectorEnabled=
!(!k["default"].FontInspector||!k["default"].FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,g.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){b._layoutTextCtx&&(b._layoutTextCtx.canvas.width=0,b._layoutTextCtx.canvas.height=0,b._layoutTextCtx=null)})["catch"](function(){})}
var s=1E5,y=/\S/;n.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0;this._reader&&(this._reader.cancel(new g.AbortException("TextLayer task cancelled.")),this._reader=null);null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject(Error("TextLayer task cancelled."))},_processItems:function(a,b){for(var d=0,c=a.length;d<c;d++){this._textContentItemsStr.push(a[d].str);var f=a[d],e=b,i=document.createElement("span"),
l={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(i);if(y.test(f.str)){var k=g.Util.transform(this._viewport.transform,f.transform),m=Math.atan2(k[1],k[0]),n=e[f.fontName];n.vertical&&(m+=Math.PI/2);var o=Math.sqrt(k[2]*k[2]+k[3]*k[3]),t=o;n.ascent?t*=n.ascent:n.descent&&(t*=1+n.descent);var w=e=void 0;0===m?(e=k[4],w=k[5]-t):(e=k[4]+t*Math.sin(m),w=k[5]-t*Math.cos(m));i.style.left="".concat(e,"px");
i.style.top="".concat(w,"px");i.style.fontSize="".concat(o,"px");i.style.fontFamily=n.fontFamily;i.textContent=f.str;this._fontInspectorEnabled&&(i.dataset.fontName=f.fontName);0!==m&&(l.angle=m*(180/Math.PI));1<f.str.length&&(l.canvasWidth=n.vertical?f.height*this._viewport.scale:f.width*this._viewport.scale);this._textDivProperties.set(i,l);this._textContentStream&&this._layoutText(i);this._enhanceTextSelection&&(l=1,k=0,0!==m&&(l=Math.cos(m),k=Math.sin(m)),f=(n.vertical?f.height:f.width)*this._viewport.scale,
t=n=void 0,0!==m?(n=[l,k,-k,l,e,w],t=g.Util.getAxialAlignedBoundingBox([0,0,f,o],n)):t=[e,w,e+f,w+o],this._bounds.push({left:t[0],top:t[1],right:t[2],bottom:t[3],div:i,size:[f,o],m:n}))}else l.isWhitespace=!0,this._textDivProperties.set(i,l)}},_layoutText:function(a){var b=this._textDivProperties.get(a);if(!b.isWhitespace){var d="";if(0!==b.canvasWidth){var c=a.style,f=c.fontSize,c=c.fontFamily;if(f!==this._layoutTextLastFontSize||c!==this._layoutTextLastFontFamily)this._layoutTextCtx.font="".concat(f,
" ").concat(c),this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=c;f=this._layoutTextCtx.measureText(a.textContent).width;0<f&&(b.scale=b.canvasWidth/f,d="scaleX(".concat(b.scale,")"))}0!==b.angle&&(d="rotate(".concat(b.angle,"deg) ").concat(d));0<d.length&&(this._enhanceTextSelection&&(b.originalTransform=d),a.style.transform=d);this._textDivProperties.set(a,b);this._container.appendChild(a)}},_render:function(b){var d=this,h=(0,g.createPromiseCapability)(),c=Object.create(null),f=document.createElement("canvas");
f.mozOpaque=!0;this._layoutTextCtx=f.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),h.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function i(){d._reader.read().then(function(a){var b=a.value;a.done?h.resolve():(Object.assign(c,b.styles),d._processItems(b.items,c),i())},h.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');h.promise.then(function(){c=
null;b?d._renderTimer=setTimeout(function(){a(d);d._renderTimer=null},b):a(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(b(this),this._bounds=null);for(var d=[],h=[],c=0,f=this._textDivs.length;c<f;c++){var e=this._textDivs[c],g=this._textDivProperties.get(e);if(!g.isWhitespace)if(a){if(d.length=0,h.length=0,g.originalTransform&&d.push(g.originalTransform),0<g.paddingTop?(h.push("".concat(g.paddingTop,"px")),d.push("translateY(".concat(-g.paddingTop,
"px)"))):h.push(0),0<g.paddingRight?h.push("".concat(g.paddingRight/g.scale,"px")):h.push(0),0<g.paddingBottom?h.push("".concat(g.paddingBottom,"px")):h.push(0),0<g.paddingLeft?(h.push("".concat(g.paddingLeft/g.scale,"px")),d.push("translateX(".concat(-g.paddingLeft/g.scale,"px)"))):h.push(0),g=h.join(" "),"0 0 0 0"!==g&&(e.style.padding=g),d.length)e.style.transform=d.join(" ")}else e.style.padding=null,e.style.transform=g.originalTransform}}}};return function(a){var b=new n({textContent:a.textContent,
textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);return b}}();b.renderTextLayer=d},function(d,b,a){function g(a,b,c){g="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&!(a=r(a),null===a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return g(a,
b,c||a)}function k(a){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return k(a)}function l(a,b){return b&&("object"===k(b)||"function"===typeof b)?b:o(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function r(a){r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||
Object.getPrototypeOf(a)};return r(a)}function m(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&n(a,b)}function n(a,b){n=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return n(a,b)}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function y(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function j(a,b,c){b&&y(a.prototype,b);c&&y(a,c);return a}Object.defineProperty(b,"__esModule",{value:!0});b.AnnotationLayer=void 0;var p=a(151),h=a(1),c=function(){function a(){s(this,a)}j(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case h.AnnotationType.LINK:return new e(a);case h.AnnotationType.TEXT:return new i(a);case h.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new u(a);
case "Btn":return a.data.radioButton?new z(a):a.data.checkBox?new A(a):new q(a);case "Ch":return new t(a)}return new v(a);case h.AnnotationType.POPUP:return new w(a);case h.AnnotationType.FREETEXT:return new C(a);case h.AnnotationType.LINE:return new E(a);case h.AnnotationType.SQUARE:return new K(a);case h.AnnotationType.CIRCLE:return new D(a);case h.AnnotationType.POLYLINE:return new L(a);case h.AnnotationType.CARET:return new J(a);case h.AnnotationType.INK:return new I(a);case h.AnnotationType.POLYGON:return new F(a);
case h.AnnotationType.HIGHLIGHT:return new H(a);case h.AnnotationType.UNDERLINE:return new R(a);case h.AnnotationType.SQUIGGLY:return new T(a);case h.AnnotationType.STRIKEOUT:return new Q(a);case h.AnnotationType.STAMP:return new N(a);case h.AnnotationType.FILEATTACHMENT:return new U(a);default:return new f(a)}}}]);return a}(),f=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;s(this,a);this.isRenderable=
c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=b.linkService;this.downloadManager=b.downloadManager;this.imageResourcesPath=b.imageResourcesPath;this.renderInteractiveForms=b.renderInteractiveForms;this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(d))}j(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,d=this.viewport,e=document.createElement("section"),
f=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];e.setAttribute("data-annotation-id",b.id);c=h.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);e.style.transform="matrix(".concat(d.transform.join(","),")");e.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px");if(!a&&0<b.borderStyle.width){e.style.borderWidth="".concat(b.borderStyle.width,"px");b.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(f-=2*b.borderStyle.width,g-=2*b.borderStyle.width);
a=b.borderStyle.horizontalCornerRadius;d=b.borderStyle.verticalCornerRadius;if(0<a||0<d)a="".concat(a,"px / ").concat(d,"px"),e.style.borderRadius=a;switch(b.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:e.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:e.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");
break;case h.AnnotationBorderStyleType.UNDERLINE:e.style.borderBottomStyle="solid"}b.color?e.style.borderColor=h.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):e.style.borderWidth=0}e.style.left="".concat(c[0],"px");e.style.top="".concat(c[1],"px");e.style.width="".concat(f,"px");e.style.height="".concat(g,"px");return e}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new x({container:a,
trigger:b,color:c.color,title:c.title,modificationDate:c.modificationDate,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),e=function(a){function b(a){s(this,b);var c=!(!a.data.url&&!a.data.dest&&!a.data.action);return l(this,r(b).call(this,a,c))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,
b=this.linkService,c=document.createElement("a");(0,p.addLinkAttributes)(c,{url:a.url,target:a.newWindow?p.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel,enabled:b.externalLinkEnabled});a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className=
"internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);return!1};a.className="internalLink"}}]);return b}(f),i=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;
a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return b}(f),v=function(a){function b(){s(this,b);return l(this,r(b).apply(this,arguments))}m(b,a);j(b,[{key:"render",value:function(){return this.container}}]);
return b}(f),u=function(a){function b(a){s(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return l(this,r(b).call(this,a,c))}m(b,a);j(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),
b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;b.classList.add("comb");b.style.letterSpacing="calc(".concat(c,"px - 1ch)")}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",c=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(c=this.page.commonObjs.get(this.data.fontRefName)),
this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);return this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize="".concat(this.data.fontSize,"px");c.direction=0>this.data.fontDirection?"rtl":"ltr";if(b){c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal";c.fontStyle=b.italic?"italic":"normal";var d=b.loadedName?'"'.concat(b.loadedName,'", '):"";c.fontFamily=d+(b.fallbackName||
"Helvetica, sans-serif")}}}]);return b}(v),A=function(a){function b(a){s(this,b);return l(this,r(b).call(this,a,a.renderInteractiveForms))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(v),z=function(a){function b(a){s(this,
b);return l(this,r(b).call(this,a,a.renderInteractiveForms))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(v),q=function(a){function b(){s(this,b);return l(this,r(b).apply(this,arguments))}m(b,
a);j(b,[{key:"render",value:function(){var a=g(r(b.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return b}(e),t=function(a){function b(a){s(this,b);return l(this,r(b).call(this,a,a.renderInteractiveForms))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=
!0));var b=!0,c=!1,d=void 0;try{for(var e=this.data.options[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=f.value,g=document.createElement("option");g.textContent=h.displayValue;g.value=h.exportValue;this.data.fieldValue.includes(h.displayValue)&&g.setAttribute("selected",!0);a.appendChild(g)}}catch(i){c=!0,d=i}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;}}this.container.appendChild(a);return this.container}}]);return b}(v),w=function(a){function b(a){s(this,
b);var c=!(!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if("Line Square Circle PolyLine Polygon Ink".split(" ").includes(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'.concat(this.data.parentId,'"]'));if(!a)return this.container;var b=new x({container:this.container,trigger:a,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,
contents:this.data.contents}),c=parseFloat(a.style.left),d=parseFloat(a.style.width);this.container.style.transformOrigin="-".concat(c+d,"px -").concat(a.style.top);this.container.style.left="".concat(c+d,"px");this.container.appendChild(b.render());return this.container}}]);return b}(f),x=function(){function a(b){s(this,a);this.container=b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.modificationDate=b.modificationDate;this.contents=b.contents;this.hideWrapper=b.hideWrapper||
!1;this.pinned=!1}j(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=h.Util.makeCssRgb(0.7*(255-c[0])+c[0]|0,0.7*(255-c[1])+c[1]|0,0.7*(255-c[2])+c[2]|0));c=document.createElement("h1");c.textContent=this.title;b.appendChild(c);if(c=p.PDFDateString.toDateObject(this.modificationDate)){var d=
document.createElement("span");d.textContent="{{date}}, {{time}}";d.dataset.l10nId="annotation_date_string";d.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()});b.appendChild(d)}c=this._formatContents(this.contents);b.appendChild(c);this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,
!0));a.appendChild(b);return a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),a=a.split(/(?:\r\n?|\n)/),c=0,d=a.length;c<d;++c)b.appendChild(document.createTextNode(a[c])),c<d-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),
this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),C=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="freeTextAnnotation";
this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),E=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);
c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);c.setAttribute("stroke-width",a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,c,a);return this.container}}]);return b}(f),K=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,
a);j(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",e/2);f.setAttribute("y",e/2);f.setAttribute("width",b-e);f.setAttribute("height",c-e);f.setAttribute("stroke-width",e);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");d.appendChild(f);this.container.append(d);this._createPopup(this.container,
f,a);return this.container}}]);return b}(f),D=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",b/2);f.setAttribute("cy",c/2);f.setAttribute("rx",b/2-e/
2);f.setAttribute("ry",c/2-e/2);f.setAttribute("stroke-width",e);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");d.appendChild(f);this.container.append(d);this._createPopup(this.container,f,a);return this.container}}]);return b}(f),L=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=l(this,r(b).call(this,a,c,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}m(b,a);j(b,[{key:"render",value:function(){this.container.className=
this.containerClassName;var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=[],d=!0,e=!1,f=void 0;try{for(var h=a.vertices[Symbol.iterator](),g;!(d=(g=h.next()).done);d=!0){var i=g.value;c.push(i.x-a.rect[0]+","+(a.rect[3]-i.y))}}catch(j){e=!0,f=j}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(e)throw f;}}c=c.join(" ");d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",c);d.setAttribute("stroke-width",a.borderStyle.width);d.setAttribute("stroke",
"transparent");d.setAttribute("fill","none");b.appendChild(d);this.container.append(b);this._createPopup(this.container,d,a);return this.container}}]);return b}(f),F=function(a){function b(a){s(this,b);a=l(this,r(b).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}m(b,a);return b}(L),J=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className=
"caretAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),I=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=l(this,r(b).call(this,a,c,!0));a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}m(b,a);j(b,[{key:"render",value:function(){this.container.className=this.containerClassName;var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),
c=!0,d=!1,e=void 0;try{for(var f=a.inkLists[Symbol.iterator](),h;!(c=(h=f.next()).done);c=!0){var g=h.value,i=[],j=!0,l=!1,k=void 0;try{for(var w=g[Symbol.iterator](),m;!(j=(m=w.next()).done);j=!0){var x=m.value,n=a.rect[3]-x.y;i.push("".concat(x.x-a.rect[0],",").concat(n))}}catch(o){l=!0,k=o}finally{try{if(!j&&null!=w["return"])w["return"]()}finally{if(l)throw k;}}var i=i.join(" "),C=this.svgFactory.createElement(this.svgElementName);C.setAttribute("points",i);C.setAttribute("stroke-width",a.borderStyle.width);
C.setAttribute("stroke","transparent");C.setAttribute("fill","none");this._createPopup(this.container,C,a);b.appendChild(C)}}catch(t){d=!0,e=t}finally{try{if(!c&&null!=f["return"])f["return"]()}finally{if(d)throw e;}}this.container.append(b);return this.container}}]);return b}(f),H=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";
this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),R=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),T=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&
!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),Q=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||
this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),N=function(a){function b(a){s(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,r(b).call(this,a,c,!0))}m(b,a);j(b,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),U=function(a){function b(a){s(this,b);var a=l(this,r(b).call(this,a,!0)),c=a.data.file,
d=c.filename,c=c.content;a.filename=(0,p.getFilenameFromUrl)(d);a.content=c;a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:o(a),id:(0,h.stringToPDFString)(d),filename:d,content:c});return a}m(b,a);j(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));
!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(f),d=function(){function a(){s(this,a)}j(a,null,[{key:"render",value:function(a){var b=!0,d=!1,e=void 0;try{for(var f=a.annotations[Symbol.iterator](),
h;!(b=(h=f.next()).done);b=!0){var g=h.value;if(g){var i=c.create({data:g,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new p.DOMSVGFactory});i.isRenderable&&a.div.appendChild(i.render())}}}catch(j){d=!0,e=j}finally{try{if(!b&&null!=f["return"])f["return"]()}finally{if(d)throw e;}}}},{key:"update",value:function(a){var b=!0,c=!1,d=void 0;
try{for(var e=a.annotations[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=a.div.querySelector('[data-annotation-id="'.concat(f.value.id,'"]'));h&&(h.style.transform="matrix(".concat(a.viewport.transform.join(","),")"))}}catch(g){c=!0,d=g}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;}}a.div.removeAttribute("hidden")}}]);return a}();b.AnnotationLayer=d},function(d,b,a){var g,k;function l(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function o(a){if(Symbol.iterator in
Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function r(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function m(a,b){var c;Array.isArray(a)&&(c=a);if(!c){c=[];var d=!0,e=!1,f=void 0;try{for(var h=a[Symbol.iterator](),g;!(d=(g=h.next()).done)&&!(c.push(g.value),b&&c.length===b);d=!0);}catch(i){e=!0,f=i}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(e)throw f;}}if(!c)throw new TypeError("Invalid attempt to destructure non-iterable instance");
}return c}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function s(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function y(a,b,c){b&&s(a.prototype,b);c&&s(a,c);return a}Object.defineProperty(b,"__esModule",{value:!0});b.SVGGraphics=void 0;var j=a(1),p=a(151),h=function(a){return a&&a.__esModule?a:{"default":a}}(a(4));b.SVGGraphics=function(){throw Error("Not implemented: SVGGraphics");
};var c=function(a){if(Number.isInteger(a))return a.toString();var a=a.toFixed(10),b=a.length-1;if("0"!==a[b])return a;do b--;while("0"===a[b]);return a.substring(0,"."===a[b]?b:b+1)},f=function(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale(".concat(c(a[0])," ").concat(c(a[3]),")");if(a[0]===a[3]&&a[1]===-a[2])return a=180*Math.acos(a[0])/Math.PI,"rotate(".concat(c(a),")")}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate(".concat(c(a[4])," ").concat(c(a[5]),
")");return"matrix(".concat(c(a[0])," ").concat(c(a[1])," ").concat(c(a[2])," ").concat(c(a[3])," ").concat(c(a[4])," ")+"".concat(c(a[5]),")")};g="normal";k="#000000";var e=["butt","round","square"],i=["miter","round","bevel"],v=function(){function a(b,d,e,f){var h=f,g=d.length;e[h]=g>>24&255;e[h+1]=g>>16&255;e[h+2]=g>>8&255;e[h+3]=g&255;h+=4;e[h]=b.charCodeAt(0)&255;e[h+1]=b.charCodeAt(1)&255;e[h+2]=b.charCodeAt(2)&255;e[h+3]=b.charCodeAt(3)&255;h+=4;e.set(d,h);h+=d.length;b=-1;for(f+=4;f<h;f++)b=
b>>>8^c[(b^e[f])&255];f=b^-1;e[h]=f>>24&255;e[h+1]=f>>16&255;e[h+2]=f>>8&255;e[h+3]=f&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),c=new Int32Array(256),d=0;256>d;d++){for(var e=d,f=0;8>f;f++)e=e&1?3988292384^e>>1&2147483647:e>>1&2147483647;c[d]=e}return function(c,d,e){var f=void 0===c.kind?j.ImageKind.GRAYSCALE_1BPP:c.kind,g=c.width,i=c.height,l,k,m,x=c.data;switch(f){case j.ImageKind.GRAYSCALE_1BPP:k=0;l=1;m=g+7>>3;break;case j.ImageKind.RGB_24BPP:k=2;l=8;m=3*g;break;case j.ImageKind.RGBA_32BPP:k=
6;l=8;m=4*g;break;default:throw Error("invalid format");}for(var c=new Uint8Array((1+m)*i),n=0,o=0,C=0;C<i;++C)c[n++]=0,c.set(x.subarray(o,o+m),n),o+=m,n+=m;if(f===j.ImageKind.GRAYSCALE_1BPP&&e)for(e=n=0;e<i;e++){n++;for(f=0;f<m;f++)c[n++]^=255}var g=new Uint8Array([g>>24&255,g>>16&255,g>>8&255,g&255,i>>24&255,i>>16&255,i>>8&255,i&255,l,k,0,0,0]),p;a:{if((0,h["default"])())try{var q;q=8<=parseInt(process.versions.node)?c:new Buffer(c);var r=require("zlib").deflateSync(q,{level:9});p=r instanceof Uint8Array?
r:new Uint8Array(r);break a}catch(u){(0,j.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+u)}r=c.length;p=Math.ceil(r/65535);p=new Uint8Array(2+r+5*p+4);q=0;p[q++]=120;p[q++]=156;for(i=0;65535<r;)p[q++]=0,p[q++]=255,p[q++]=255,p[q++]=0,p[q++]=0,p.set(c.subarray(i,i+65535),q),q+=65535,i+=65535,r-=65535;p[q++]=1;p[q++]=r&255;p[q++]=r>>8&255;p[q++]=~r&255;p[q++]=(~r&65535)>>8&255;p.set(c.subarray(i),q);q+=c.length-i;r=1;for(l=i=0;l<c.length;++l)r=(r+(c[l]&255))%65521,i=(i+r)%65521;
c=i<<16|r;p[q++]=c>>24&255;p[q++]=c>>16&255;p[q++]=c>>8&255;p[q++]=c&255}c=new Uint8Array(b.length+36+g.length+p.length);q=0;c.set(b,q);q+=b.length;a("IHDR",g,c,q);q+=12+g.length;a("IDATA",p,c,q);q+=12+p.length;a("IEND",new Uint8Array(0),c,q);return(0,j.createObjectURL)(c,"image/png",d)}}(),u=function(){function a(){n(this,a);this.fontSizeScale=1;this.fontWeight=g;this.fontSize=0;this.textMatrix=j.IDENTITY_MATRIX;this.fontMatrix=j.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=j.TextRenderingMode.FILL;
this.textMatrixScale=1;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.fillColor=k;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}y(a,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(a,b){this.x=a;this.y=
b}}]);return a}(),A=0,z=0,q=0;b.SVGGraphics=function(){function a(b,c,d){n(this,a);this.svgFactory=new p.DOMSVGFactory;this.current=new u;this.transformMatrix=j.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=b;this.objs=c;this.pendingClip=null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!d;this._operatorIdMapping=[];for(var e in j.OPS)this._operatorIdMapping[j.OPS[e]]=e}y(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);
var a=this.current;this.extraStack.push(a);this.current=a.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null}},{key:"group",value:function(a){this.save();this.executeOpTree(a);this.restore()}},{key:"loadDependencies",value:function(a){for(var b=this,c=a.fnArray,a=a.argsArray,d=0,e=c.length;d<e;d++)if(c[d]===j.OPS.dependency){var f=!0,h=!1,g=void 0;try{for(var i=function(){var a=k.value,c=a.startsWith("g_")?
b.commonObjs:b.objs,d=new Promise(function(b){c.get(a,b)});b.current.dependencies.push(d)},l=a[d][Symbol.iterator](),k;!(f=(k=l.next()).done);f=!0)i()}catch(m){h=!0,g=m}finally{try{if(!f&&null!=l["return"])l["return"]()}finally{if(h)throw g;}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,d,e,f){this.transformMatrix=j.Util.transform(this.transformMatrix,[a,b,c,d,e,f]);this.tgrp=null}},{key:"getSVG",value:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);
return this.loadDependencies(a).then(function(){c.transformMatrix=j.IDENTITY_MATRIX;c.executeOpTree(c.convertOpList(a));return d})}},{key:"convertOpList",value:function(a){for(var b=this._operatorIdMapping,c=a.argsArray,d=a.fnArray,a=[],e=0,f=d.length;e<f;e++){var h=d[e];a.push({fnId:h,fn:b[h],args:c[e]})}b=[];c=[];d=!0;e=!1;f=void 0;try{for(var g=a[Symbol.iterator](),i;!(d=(i=g.next()).done);d=!0){var j=i.value;"save"===j.fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items):
"restore"===j.fn?b=c.pop():b.push(j)}}catch(l){e=!0,f=l}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f;}}return b}},{key:"executeOpTree",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e=a[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=f.value,g=h.fn,i=h.args;switch(h.fnId|0){case j.OPS.beginText:this.beginText();break;case j.OPS.dependency:break;case j.OPS.setLeading:this.setLeading(i);break;case j.OPS.setLeadingMoveText:this.setLeadingMoveText(i[0],i[1]);break;
case j.OPS.setFont:this.setFont(i);break;case j.OPS.showText:this.showText(i[0]);break;case j.OPS.showSpacedText:this.showText(i[0]);break;case j.OPS.endText:this.endText();break;case j.OPS.moveText:this.moveText(i[0],i[1]);break;case j.OPS.setCharSpacing:this.setCharSpacing(i[0]);break;case j.OPS.setWordSpacing:this.setWordSpacing(i[0]);break;case j.OPS.setHScale:this.setHScale(i[0]);break;case j.OPS.setTextMatrix:this.setTextMatrix(i[0],i[1],i[2],i[3],i[4],i[5]);break;case j.OPS.setTextRise:this.setTextRise(i[0]);
break;case j.OPS.setTextRenderingMode:this.setTextRenderingMode(i[0]);break;case j.OPS.setLineWidth:this.setLineWidth(i[0]);break;case j.OPS.setLineJoin:this.setLineJoin(i[0]);break;case j.OPS.setLineCap:this.setLineCap(i[0]);break;case j.OPS.setMiterLimit:this.setMiterLimit(i[0]);break;case j.OPS.setFillRGBColor:this.setFillRGBColor(i[0],i[1],i[2]);break;case j.OPS.setStrokeRGBColor:this.setStrokeRGBColor(i[0],i[1],i[2]);break;case j.OPS.setStrokeColorN:this.setStrokeColorN(i);break;case j.OPS.setFillColorN:this.setFillColorN(i);
break;case j.OPS.shadingFill:this.shadingFill(i[0]);break;case j.OPS.setDash:this.setDash(i[0],i[1]);break;case j.OPS.setRenderingIntent:this.setRenderingIntent(i[0]);break;case j.OPS.setFlatness:this.setFlatness(i[0]);break;case j.OPS.setGState:this.setGState(i[0]);break;case j.OPS.fill:this.fill();break;case j.OPS.eoFill:this.eoFill();break;case j.OPS.stroke:this.stroke();break;case j.OPS.fillStroke:this.fillStroke();break;case j.OPS.eoFillStroke:this.eoFillStroke();break;case j.OPS.clip:this.clip("nonzero");
break;case j.OPS.eoClip:this.clip("evenodd");break;case j.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case j.OPS.paintJpegXObject:this.paintJpegXObject(i[0],i[1],i[2]);break;case j.OPS.paintImageXObject:this.paintImageXObject(i[0]);break;case j.OPS.paintInlineImageXObject:this.paintInlineImageXObject(i[0]);break;case j.OPS.paintImageMaskXObject:this.paintImageMaskXObject(i[0]);break;case j.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(i[0],i[1]);break;case j.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();
break;case j.OPS.closePath:this.closePath();break;case j.OPS.closeStroke:this.closeStroke();break;case j.OPS.closeFillStroke:this.closeFillStroke();break;case j.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case j.OPS.nextLine:this.nextLine();break;case j.OPS.transform:this.transform(i[0],i[1],i[2],i[3],i[4],i[5]);break;case j.OPS.constructPath:this.constructPath(i[0],i[1]);break;case j.OPS.endPath:this.endPath();break;case 92:this.group(h.items);break;default:(0,j.warn)("Unimplemented operator ".concat(g))}}}catch(l){c=
!0,d=l}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;}}}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,b,d,e,f,h){var g=this.current;g.textMatrix=g.lineMatrix=[a,b,d,e,f,h];g.textMatrixScale=Math.sqrt(a*a+b*b);g.x=g.lineX=0;g.y=g.lineY=0;g.xcoords=[];g.tspan=this.svgFactory.createElement("svg:tspan");
g.tspan.setAttributeNS(null,"font-family",g.fontFamily);g.tspan.setAttributeNS(null,"font-size","".concat(c(g.fontSize),"px"));g.tspan.setAttributeNS(null,"y",c(-g.y));g.txtElement=this.svgFactory.createElement("svg:text");g.txtElement.appendChild(g.tspan)}},{key:"beginText",value:function(){var a=this.current;a.x=a.lineX=0;a.y=a.lineY=0;a.textMatrix=j.IDENTITY_MATRIX;a.lineMatrix=j.IDENTITY_MATRIX;a.textMatrixScale=1;a.tspan=this.svgFactory.createElement("svg:tspan");a.txtElement=this.svgFactory.createElement("svg:text");
a.txtgrp=this.svgFactory.createElement("svg:g");a.xcoords=[]}},{key:"moveText",value:function(a,b){var d=this.current;d.x=d.lineX+=a;d.y=d.lineY+=b;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size","".concat(c(d.fontSize),"px"));d.tspan.setAttributeNS(null,"y",c(-d.y))}},{key:"showText",value:function(a){var b=this.current,d=b.font,e=b.fontSize;if(0!==e){var h=b.charSpacing,i=b.wordSpacing,
l=b.fontDirection,m=b.textHScale*l,n=d.vertical,o=e*b.fontMatrix[0],p=0,q=!0,r=!1,u=void 0;try{for(var v=a[Symbol.iterator](),t;!(q=(t=v.next()).done);q=!0){var s=t.value;if(null===s)p+=l*i;else if((0,j.isNum)(s))p+=0.001*-s*e;else{var z=s.fontChar,y=s.width*o+((s.isSpace?i:0)+h)*l;if(s.isInFont||d.missingFile)b.xcoords.push(b.x+p*m),b.tspan.textContent+=z;p+=y}}}catch(A){r=!0,u=A}finally{try{if(!q&&null!=v["return"])v["return"]()}finally{if(r)throw u;}}n?b.y-=p*m:b.x+=p*m;b.tspan.setAttributeNS(null,
"x",b.xcoords.map(c).join(" "));b.tspan.setAttributeNS(null,"y",c(-b.y));b.tspan.setAttributeNS(null,"font-family",b.fontFamily);b.tspan.setAttributeNS(null,"font-size","".concat(c(b.fontSize),"px"));"normal"!==b.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle);b.fontWeight!==g&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);a=b.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;a===j.TextRenderingMode.FILL||a===j.TextRenderingMode.FILL_STROKE?(b.fillColor!==k&&b.tspan.setAttributeNS(null,
"fill",b.fillColor),1>b.fillAlpha&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===j.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none");if(a===j.TextRenderingMode.STROKE||a===j.TextRenderingMode.FILL_STROKE)this._setStrokeAttributes(b.tspan,1/(b.textMatrixScale||1));a=b.textMatrix;0!==b.textRise&&(a=a.slice(),a[5]+=b.textRise);b.txtElement.setAttributeNS(null,"transform","".concat(f(a)," scale(1, -1)"));
b.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");b.txtElement.appendChild(b.tspan);b.txtgrp.appendChild(b.txtElement);this._ensureTransformGroup().appendChild(b.txtElement)}}},{key:"setLeadingMoveText",value:function(a,b){this.setLeading(-b);this.moveText(a,b)}},{key:"addFontStyle",value:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));
var b=(0,j.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(a.loadedName,'";')+" src: url(".concat(b,"); }\n")}},{key:"setFont",value:function(a){var b=this.current,d=this.commonObjs.get(a[0]),a=a[1];b.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);b.fontMatrix=d.fontMatrix?d.fontMatrix:j.FONT_IDENTITY_MATRIX;var e=d.black?d.bold?"bolder":"bold":d.bold?
"bold":"normal",f=d.italic?"italic":"normal";0>a?(a=-a,b.fontDirection=-1):b.fontDirection=1;b.fontSize=a;b.fontFamily=d.loadedName;b.fontWeight=e;b.fontStyle=f;b.tspan=this.svgFactory.createElement("svg:tspan");b.tspan.setAttributeNS(null,"y",c(-b.y));b.xcoords=[]}},{key:"endText",value:function(){var a=this.current;a.textRenderingMode&j.TextRenderingMode.ADD_TO_PATH_FLAG&&(a.txtElement&&a.txtElement.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",
value:function(a){0<a&&(this.current.lineWidth=a)}},{key:"setLineCap",value:function(a){this.current.lineCap=e[a]}},{key:"setLineJoin",value:function(a){this.current.lineJoin=i[a]}},{key:"setMiterLimit",value:function(a){this.current.miterLimit=a}},{key:"setStrokeAlpha",value:function(a){this.current.strokeAlpha=a}},{key:"setStrokeRGBColor",value:function(a,b,c){this.current.strokeColor=j.Util.makeCssRgb(a,b,c)}},{key:"setFillAlpha",value:function(a){this.current.fillAlpha=a}},{key:"setFillRGBColor",
value:function(a,b,c){this.current.fillColor=j.Util.makeCssRgb(a,b,c);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)}},{key:"setFillColorN",value:function(a){this.current.fillColor=this._makeColorN_Pattern(a)}},{key:"shadingFill",value:function(a){var b=this.viewport.width,c=this.viewport.height,d=j.Util.inverseTransform(this.transformMatrix),e=j.Util.applyTransform([0,
0],d),f=j.Util.applyTransform([0,c],d),h=j.Util.applyTransform([b,0],d),g=j.Util.applyTransform([b,c],d),b=Math.min(e[0],f[0],h[0],g[0]),c=Math.min(e[1],f[1],h[1],g[1]),d=Math.max(e[0],f[0],h[0],g[0]),e=Math.max(e[1],f[1],h[1],g[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",b);f.setAttributeNS(null,"y",c);f.setAttributeNS(null,"width",d-b);f.setAttributeNS(null,"height",e-c);f.setAttributeNS(null,"fill",this._makeShadingPattern(a));this._ensureTransformGroup().appendChild(f)}},
{key:"_makeColorN_Pattern",value:function(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}},{key:"_makeTilingPattern",value:function(a){var b=a[1],c=a[2],d=a[3]||j.IDENTITY_MATRIX,e=m(a[4],4),f=e[0],h=e[1],g=e[2],i=e[3],k=a[5],n=a[6],e=a[7],a="shading".concat(q++),f=j.Util.applyTransform([f,h],d),h=m(f,2),f=h[0],h=h[1],g=j.Util.applyTransform([g,i],d),i=m(g,2),g=i[0],i=i[1],p=j.Util.singularValueDecompose2dScale(d),p=m(p,2),k=k*p[0],p=n*p[1],n=this.svgFactory.createElement("svg:pattern");
n.setAttributeNS(null,"id",a);n.setAttributeNS(null,"patternUnits","userSpaceOnUse");n.setAttributeNS(null,"width",k);n.setAttributeNS(null,"height",p);n.setAttributeNS(null,"x","".concat(f));n.setAttributeNS(null,"y","".concat(h));var k=this.svg,p=this.transformMatrix,u=this.current.fillColor,v=this.current.strokeColor;this.svg=f=this.svgFactory.create(g-f,i-h);this.transformMatrix=d;2===e&&(b=j.Util.makeCssRgb.apply(j.Util,r(b)||o(b)||l()),this.current.fillColor=b,this.current.strokeColor=b);this.executeOpTree(this.convertOpList(c));
this.svg=k;this.transformMatrix=p;this.current.fillColor=u;this.current.strokeColor=v;n.appendChild(f.childNodes[0]);this.defs.appendChild(n);return"url(#".concat(a,")")}},{key:"_makeShadingPattern",value:function(a){switch(a[0]){case "RadialAxial":var b="shading".concat(q++),c=a[2];switch(a[1]){case "axial":var d=a[3],e=a[4],a=this.svgFactory.createElement("svg:linearGradient");a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"x1",d[0]);
a.setAttributeNS(null,"y1",d[1]);a.setAttributeNS(null,"x2",e[0]);a.setAttributeNS(null,"y2",e[1]);break;case "radial":var d=a[3],e=a[4],f=a[5],h=a[6],a=this.svgFactory.createElement("svg:radialGradient");a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"cx",e[0]);a.setAttributeNS(null,"cy",e[1]);a.setAttributeNS(null,"r",h);a.setAttributeNS(null,"fx",d[0]);a.setAttributeNS(null,"fy",d[1]);a.setAttributeNS(null,"fr",f);break;default:throw Error("Unknown RadialAxial type: ".concat(a[1]));
}d=!0;e=!1;f=void 0;try{for(var g=c[Symbol.iterator](),i;!(d=(i=g.next()).done);d=!0){var l=i.value,k=this.svgFactory.createElement("svg:stop");k.setAttributeNS(null,"offset",l[0]);k.setAttributeNS(null,"stop-color",l[1]);a.appendChild(k)}}catch(m){e=!0,f=m}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f;}}this.defs.appendChild(a);return"url(#".concat(b,")");case "Mesh":return(0,j.warn)("Unimplemented pattern Mesh"),null;case "Dummy":return"hotpink";default:throw Error("Unknown IR type: ".concat(a[0]));
}}},{key:"setDash",value:function(a,b){this.current.dashArray=a;this.current.dashPhase=b}},{key:"constructPath",value:function(a,b){var d=this.current,e=d.x,f=d.y,h=[],g=0,i=!0,l=!1,k=void 0;try{for(var m=a[Symbol.iterator](),n;!(i=(n=m.next()).done);i=!0)switch(n.value|0){case j.OPS.rectangle:var e=b[g++],f=b[g++],o=b[g++],p=b[g++],q=e+o,r=f+p;h.push("M",c(e),c(f),"L",c(q),c(f),"L",c(q),c(r),"L",c(e),c(r),"Z");break;case j.OPS.moveTo:e=b[g++];f=b[g++];h.push("M",c(e),c(f));break;case j.OPS.lineTo:e=
b[g++];f=b[g++];h.push("L",c(e),c(f));break;case j.OPS.curveTo:e=b[g+4];f=b[g+5];h.push("C",c(b[g]),c(b[g+1]),c(b[g+2]),c(b[g+3]),c(e),c(f));g+=6;break;case j.OPS.curveTo2:e=b[g+2];f=b[g+3];h.push("C",c(e),c(f),c(b[g]),c(b[g+1]),c(b[g+2]),c(b[g+3]));g+=4;break;case j.OPS.curveTo3:e=b[g+2];f=b[g+3];h.push("C",c(b[g]),c(b[g+1]),c(e),c(f),c(e),c(f));g+=4;break;case j.OPS.closePath:h.push("Z")}}catch(u){l=!0,k=u}finally{try{if(!i&&null!=m["return"])m["return"]()}finally{if(l)throw k;}}h=h.join(" ");d.path&&
0<a.length&&a[0]!==j.OPS.rectangle&&a[0]!==j.OPS.moveTo?h=d.path.getAttributeNS(null,"d")+h:(d.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(d.path));d.path.setAttributeNS(null,"d",h);d.path.setAttributeNS(null,"fill","none");d.element=d.path;d.setCurrentPoint(e,f)}},{key:"endPath",value:function(){var a=this.current;a.path=null;if(this.pendingClip)if(a.element){var b="clippath".concat(A++),c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,
"id",b);c.setAttributeNS(null,"transform",f(this.transformMatrix));var d=a.element.cloneNode(!0);"evenodd"===this.pendingClip?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;c.appendChild(d);this.defs.appendChild(c);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),c.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#".concat(b,")");this.tgrp=null}else this.pendingClip=null}},
{key:"clip",value:function(a){this.pendingClip=a}},{key:"closePath",value:function(){var a=this.current;if(a.path){var b="".concat(a.path.getAttributeNS(null,"d"),"Z");a.path.setAttributeNS(null,"d",b)}}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setRenderingIntent",
value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e=a[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=m(f.value,2),g=h[0],i=h[1];switch(g){case "LW":this.setLineWidth(i);break;case "LC":this.setLineCap(i);break;case "LJ":this.setLineJoin(i);break;case "ML":this.setMiterLimit(i);break;case "D":this.setDash(i[0],i[1]);break;case "RI":this.setRenderingIntent(i);break;case "FL":this.setFlatness(i);break;case "Font":this.setFont(i);
break;case "CA":this.setStrokeAlpha(i);break;case "ca":this.setFillAlpha(i);break;default:(0,j.warn)("Unimplemented graphic state operator ".concat(g))}}}catch(l){c=!0,d=l}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;}}}},{key:"fill",value:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),
a.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,d=this.current,e=d.dashArray;1!==b&&0<e.length&&(e=e.map(function(a){return b*a}));a.setAttributeNS(null,"stroke",d.strokeColor);a.setAttributeNS(null,"stroke-opacity",d.strokeAlpha);a.setAttributeNS(null,"stroke-miterlimit",c(d.miterLimit));a.setAttributeNS(null,"stroke-linecap",d.lineCap);a.setAttributeNS(null,"stroke-linejoin",
d.lineJoin);a.setAttributeNS(null,"stroke-width",c(b*d.lineWidth)+"px");a.setAttributeNS(null,"stroke-dasharray",e.map(c).join(" "));a.setAttributeNS(null,"stroke-dashoffset",c(b*d.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()}},{key:"fillStroke",value:function(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule",
"evenodd");this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0");a.setAttributeNS(null,"y","0");a.setAttributeNS(null,"width","1px");a.setAttributeNS(null,"height","1px");a.setAttributeNS(null,
"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(a)}},{key:"paintJpegXObject",value:function(a,b,d){var a=this.objs.get(a),e=this.svgFactory.createElement("svg:image");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);e.setAttributeNS(null,"width",c(b));e.setAttributeNS(null,"height",c(d));e.setAttributeNS(null,"x","0");e.setAttributeNS(null,"y",c(-d));e.setAttributeNS(null,"transform","scale(".concat(c(1/b)," ").concat(c(-1/d),")"));this._ensureTransformGroup().appendChild(e)}},
{key:"paintImageXObject",value:function(a){var b=this.objs.get(a);b?this.paintInlineImageXObject(b):(0,j.warn)("Dependent image with object ID ".concat(a," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(a,b){var d=a.width,e=a.height,f=v(a,this.forceDataSchema,!!b),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",c(d));h.setAttributeNS(null,"height",c(e));this.current.element=h;this.clip("nonzero");
h=this.svgFactory.createElement("svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",c(-e));h.setAttributeNS(null,"width",c(d)+"px");h.setAttributeNS(null,"height",c(e)+"px");h.setAttributeNS(null,"transform","scale(".concat(c(1/d)," ").concat(c(-1/e),")"));b?b.appendChild(h):this._ensureTransformGroup().appendChild(h)}},{key:"paintImageMaskXObject",value:function(a){var b=this.current,d=a.width,e=a.height,f=b.fillColor;
b.maskId="mask".concat(z++);var h=this.svgFactory.createElement("svg:mask");h.setAttributeNS(null,"id",b.maskId);var g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0");g.setAttributeNS(null,"y","0");g.setAttributeNS(null,"width",c(d));g.setAttributeNS(null,"height",c(e));g.setAttributeNS(null,"fill",f);g.setAttributeNS(null,"mask","url(#".concat(b.maskId,")"));this.defs.appendChild(h);this._ensureTransformGroup().appendChild(g);this.paintInlineImageXObject(a,h)}},{key:"paintFormXObjectBegin",
value:function(a,b){Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(b){var d=b[2]-b[0],e=b[3]-b[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",b[0]);f.setAttributeNS(null,"y",b[1]);f.setAttributeNS(null,"width",c(d));f.setAttributeNS(null,"height",c(e));this.current.element=f;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(a){var b=this.svgFactory.create(a.width,a.height),
c=this.svgFactory.createElement("svg:defs");b.appendChild(c);this.defs=c;c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"transform",f(a.transform));b.appendChild(c);this.svg=c;return b}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){this.tgrp||
(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}}]);return a}()},function(d,b,a){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(a)}
function k(a,b){if(b&&("object"===g(b)||"function"===typeof b))return b;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a){l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return l(a)}function o(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,
configurable:!0}});b&&r(a,b)}function r(a,b){r=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return r(a,b)}function m(a,b,c,d,e,f,h){try{var g=a[f](h),i=g.value}catch(l){c(l);return}g.done?b(i):Promise.resolve(i).then(d,e)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){m(g,d,e,f,h,"next",a)}function h(a){m(g,d,e,f,h,"throw",a)}var g=a.apply(b,c);f(void 0)})}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function y(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function j(a,b,c){b&&y(a.prototype,b);c&&y(a,c);return a}function p(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNodeStream=void 0;var h=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),c=a(1),f=a(166),e=require("fs"),
i=require("http"),v=require("https"),u=require("url"),A=/^file:\/\/\/[a-zA-Z]:\//,d=function(){function a(b){s(this,a);this.source=b;var c;c=b.url;var d=u.parse(c);"file:"===d.protocol||d.host?c=d:/^[a-z]:[/\\]/i.test(c)?c=u.parse("file:///".concat(c)):(d.host||(d.protocol="file:"),c=d);this.url=c;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=
[]}j(a,[{key:"getFullReader",value:function(){(0,c.assert)(!this._fullRequestReader);return this._fullRequestReader=this.isFsUrl?new t(this):new z(this)}},{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var c=this.isFsUrl?new w(this,a,b):new q(this,a,b);this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}},
{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return a}();b.PDFNodeStream=d;var b=function(){function a(b){s(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;b=b.source;this._contentLength=b.length;this._loaded=0;this._filename=null;this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=!b.disableStream;
this._isRangeSupported=!b.disableRange;this._readableStream=null;this._readCapability=(0,c.createPromiseCapability)();this._headersCapability=(0,c.createPromiseCapability)()}j(a,[{key:"read",value:function(){var a=n(h["default"].mark(function K(){var a,b;return h["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._readCapability.promise;case 2:if(!this._done){d.next=4;break}return d.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){d.next=6;break}throw this._storedError;
case 6:a=this._readableStream.read();if(null!==a){d.next=10;break}this._readCapability=(0,c.createPromiseCapability)();return d.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});b=(new Uint8Array(a)).buffer;return d.abrupt("return",{value:b,done:!1});case 14:case "end":return d.stop()}},K,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):
this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}},
{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),d=function(){function a(b){s(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;this._loaded=0;this._readableStream=
null;this._readCapability=(0,c.createPromiseCapability)();this._isStreamingSupported=!b.source.disableStream}j(a,[{key:"read",value:function(){var a=n(h["default"].mark(function K(){var a,b;return h["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._readCapability.promise;case 2:if(!this._done){d.next=4;break}return d.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){d.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();
if(null!==a){d.next=10;break}this._readCapability=(0,c.createPromiseCapability)();return d.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded});b=(new Uint8Array(a)).buffer;return d.abrupt("return",{value:b,done:!1});case 14:case "end":return d.stop()}},K,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=
a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),z=function(a){function b(a){var d;s(this,b);d=k(this,l(b).call(this,
a));var e=function(b){if(404===b.statusCode)b=new c.MissingPDFException('Missing PDF "'.concat(d._url,'".')),d._storedError=b,d._headersCapability.reject(b);else{d._headersCapability.resolve();d._setReadableStream(b);var b=function(a){return d._readableStream.headers[a.toLowerCase()]},e=(0,f.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),h=e.suggestedLength;d._isRangeSupported=e.allowRangeRequests;d._contentLength=
h||d._contentLength;d._filename=(0,f.extractFilenameFromHeader)(b)}};d._request=null;d._request="http:"===d._url.protocol?i.request(p(d._url,a.httpHeaders),e):v.request(p(d._url,a.httpHeaders),e);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}o(b,a);return b}(b),q=function(a){function b(a,d,e){var f;s(this,b);f=k(this,l(b).call(this,a));f._httpHeaders={};for(var h in a.httpHeaders){var g=a.httpHeaders[h];"undefined"!==typeof g&&(f._httpHeaders[h]=
g)}f._httpHeaders.Range="bytes=".concat(d,"-").concat(e-1);a=function(a){404===a.statusCode?(a=new c.MissingPDFException('Missing PDF "'.concat(f._url,'".')),f._storedError=a):f._setReadableStream(a)};f._request=null;f._request="http:"===f._url.protocol?i.request(p(f._url,f._httpHeaders),a):v.request(p(f._url,f._httpHeaders),a);f._request.on("error",function(a){f._storedError=a});f._request.end();return f}o(b,a);return b}(d),t=function(a){function b(a){var d;s(this,b);d=k(this,l(b).call(this,a));
var f=decodeURIComponent(d._url.path);A.test(d._url.href)&&(f=f.replace(/^\//,""));e.lstat(f,function(a,b){a?("ENOENT"===a.code&&(a=new c.MissingPDFException('Missing PDF "'.concat(f,'".'))),d._storedError=a,d._headersCapability.reject(a)):(d._contentLength=b.size,d._setReadableStream(e.createReadStream(f)),d._headersCapability.resolve())});return d}o(b,a);return b}(b),w=function(a){function b(a,c,d){s(this,b);var a=k(this,l(b).call(this,a)),f=decodeURIComponent(a._url.path);A.test(a._url.href)&&
(f=f.replace(/^\//,""));a._setReadableStream(e.createReadStream(f,{start:c,end:d-1}));return a}o(b,a);return b}(d)},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.createResponseStatusError=function(a,b){return 404===a||0===a&&/^file:/.test(b)?new g.MissingPDFException('Missing PDF "'+b+'".'):new g.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)};b.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition")){a=(0,k.getFilenameFromContentDispositionHeader)(a);
if(a.includes("%"))try{a=decodeURIComponent(a)}catch(b){}if(/\.pdf$/i.test(a))return a}return null};b.validateRangeRequestCapabilities=function(a){var b=a.getResponseHeader,d=a.isHttp,k=a.rangeChunkSize,a=a.disableRange;(0,g.assert)(0<k,"Range chunk size must be larger than zero");var n={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(b("Content-Length"),10);if(!Number.isInteger(s))return n;n.suggestedLength=s;if(s<=2*k||(a||!d)||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||
"identity"))return n;n.allowRangeRequests=!0;return n};b.validateResponseStatus=function(a){return 200===a||206===a};var g=a(1),k=a(167)},function(d,b){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function g(a,b){var d=[],g=!0,k=!1,s=void 0;try{for(var y=a[Symbol.iterator](),j;!(g=(j=y.next()).done)&&!(d.push(j.value),b&&d.length===b);g=!0);}catch(p){k=!0,s=p}finally{try{if(!g&&null!=y["return"])y["return"]()}finally{if(k)throw s;}}return d}function k(a){if(Array.isArray(a))return a}
Object.defineProperty(b,"__esModule",{value:!0});b.getFilenameFromContentDispositionHeader=function(b){function d(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(a,b){if(a){if(!/^[\x00-\xFF]+$/.test(b))return b;try{var d=new TextDecoder(a,{fatal:!0}),e=Array.from(b,function(a){return a.charCodeAt(0)&255}),b=d.decode(new Uint8Array(e));j=!1}catch(g){if(/^utf-?8$/i.test(a))try{b=decodeURIComponent(escape(b)),j=!1}catch(k){}}}return b}function m(a){j&&
/[\x80-\xff]/.test(a)&&(a=r("utf-8",a),j&&(a=r("iso-8859-1",a)));return a}function n(a){if(a.startsWith('"')){for(var a=a.slice(1).split('\\"'),b=0;b<a.length;++b){var d=a[b].indexOf('"');-1!==d&&(a[b]=a[b].slice(0,d),a.length=b+1);a[b]=a[b].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function s(a){var b=a.indexOf("'");if(-1===b)return a;var d=a.slice(0,b),a=a.slice(b+1).replace(/^[^']*'/,"");return r(d,a)}function y(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,
function(a,b,d,g){if("q"===d||"Q"===d)return g=g.replace(/_/g," "),g=g.replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}),r(b,g);try{g=atob(g)}catch(h){}return r(b,g)})}var j=!0,p=d("filename\\*","i").exec(b);return p?(p=p[1],b=n(p),b=unescape(b),b=s(b),b=y(b),m(b)):(p=function(b){for(var c=[],f,e=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(f=e.exec(b));){var i=k(f)||g(f,4)||a();f=i[1];var j=i[2],i=i[3];f=parseInt(f,10);if(f in c){if(0===f)break}else c[f]=
[j,i]}b=[];for(f=0;f<c.length&&f in c;++f)e=k(c[f])||g(c[f],2)||a(),j=e[0],i=e[1],i=n(i),j&&(i=unescape(i),0===f&&(i=s(i))),b.push(i);return b.join("")}(b))?(b=y(p),m(b)):(p=d("filename","i").exec(b))?(p=p[1],b=n(p),b=y(b),m(b)):""}},function(d,b,a){function g(a,b,d,e,g,j,k){try{var l=a[j](k),m=l.value}catch(n){d(n);return}l.done?b(m):Promise.resolve(m).then(e,g)}function k(a){return function(){var b=this,d=arguments;return new Promise(function(e,i){function j(a){g(l,e,i,j,k,"next",a)}function k(a){g(l,
e,i,j,k,"throw",a)}var l=a.apply(b,d);j(void 0)})}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function o(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function r(a,b,d){b&&o(a.prototype,b);d&&o(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNetworkStream=void 0;var m=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),
n=a(1),s=a(166),y=function(){function a(b,d){l(this,a);this.url=b;d=d||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(b))&&d.httpHeaders||{};this.withCredentials=d.withCredentials||!1;this.getXhr=d.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}r(a,[{key:"requestRange",value:function(a,b,d){var a={begin:a,end:b},g;for(g in d)a[g]=d[g];return this.request(a)}},{key:"requestFull",value:function(a){return this.request(a)}},{key:"request",value:function(a){var b=
this.getXhr(),d=this.currXhrId++,g=this.pendingRequests[d]={xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var h in this.httpHeaders){var j=this.httpHeaders[h];"undefined"!==typeof j&&b.setRequestHeader(h,j)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes=".concat(a.begin,"-").concat(a.end-1)),g.expectedStatus=206):g.expectedStatus=200;b.responseType="arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});b.onreadystatechange=this.onStateChange.bind(this,
d);b.onprogress=this.onProgress.bind(this,d);g.onHeadersReceived=a.onHeadersReceived;g.onDone=a.onDone;g.onError=a.onError;g.onProgress=a.onProgress;b.send(null);return d}},{key:"onProgress",value:function(a,b){var d=this.pendingRequests[a];if(d&&d.onProgress)d.onProgress(b)}},{key:"onStateChange",value:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],
0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else if(a=d.status||200,!(200===a&&206===b.expectedStatus)&&a!==b.expectedStatus){if(b.onError)b.onError(d.status)}else{var g;g=d.response;g="string"!==typeof g?g:(0,n.stringToBytes)(g).buffer;if(206===a)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),b.onDone({begin:parseInt(d[1],10),chunk:g});else if(g)b.onDone({begin:0,chunk:g});else if(b.onError)b.onError(d.status)}}}},{key:"hasPendingRequests",value:function(){for(var a in this.pendingRequests)return!0;
return!1}},{key:"getRequestXhr",value:function(a){return this.pendingRequests[a].xhr}},{key:"isPendingRequest",value:function(a){return a in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)}},{key:"abortRequest",value:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}}]);return a}(),d=function(){function a(b){l(this,a);this._source=b;this._manager=new y(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials});
this._rangeChunkSize=b.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}r(a,[{key:"_onRangeRequestReaderClosed",value:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)}},{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequestReader);return this._fullRequestReader=new j(this._manager,this._source)}},{key:"getRangeReader",value:function(a,b){var d=new p(this._manager,a,b);d.onClosed=this._onRangeRequestReaderClosed.bind(this);
this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}();b.PDFNetworkStream=d;var j=function(){function a(b,d){l(this,a);this._manager=b;var e={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url;this._fullRequestId=
b.requestFull(e);this._headersReceivedCapability=(0,n.createPromiseCapability)();this._disableRange=d.disableRange||!1;this._contentLength=d.length;this._rangeChunkSize=d.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}r(a,[{key:"_onHeadersReceived",value:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),
d=function(a){return b.getResponseHeader(a)},g=(0,s.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),h=g.suggestedLength;g.allowRangeRequests&&(this._isRangeSupported=!0);this._contentLength=h||this._contentLength;this._filename=(0,s.extractFilenameFromHeader)(d);this._isRangeSupported&&this._manager.abortRequest(a);this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(a){a&&
(0<this._requests.length?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk));this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(a){var b=this._url,d=(0,s.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",
value:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}},{key:"read",value:function(){var a=k(m["default"].mark(function e(){var a,b;return m["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=7;break}return c.abrupt("return",
{value:void 0,done:!0});case 7:return b=(0,n.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 10:case "end":return c.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);
this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]);return a}(),p=function(){function a(b,d,e){l(this,a);this._manager=b;var g={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};
this._requestId=b.requestRange(d,e,g);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}r(a,[{key:"_close",value:function(){if(this.onClosed)this.onClosed(this)}},{key:"_onDone",value:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()}},{key:"_onProgress",value:function(a){if(!this.isStreamingSupported&&
this.onProgress)this.onProgress({loaded:a.loaded})}},{key:"read",value:function(){var a=k(m["default"].mark(function e(){var a,b;return m["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,n.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",
b.promise);case 9:case "end":return c.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]);return a}()},function(d,b,a){function g(a,b,d,e,g,j,k){try{var l=a[j](k),m=l.value}catch(n){d(n);
return}l.done?b(m):Promise.resolve(m).then(e,g)}function k(a){return function(){var b=this,d=arguments;return new Promise(function(e,i){function j(a){g(l,e,i,j,k,"next",a)}function k(a){g(l,e,i,j,k,"throw",a)}var l=a.apply(b,d);j(void 0)})}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function o(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}
function r(a,b,d){b&&o(a.prototype,b);d&&o(a,d);return a}function m(a,b,d){return{method:"GET",headers:a,signal:d&&d.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFFetchStream=void 0;var n=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),s=a(1),y=a(166),d=function(){function a(b){l(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;
this._rangeRequestReaders=[]}r(a,[{key:"getFullReader",value:function(){(0,s.assert)(!this._fullRequestReader);return this._fullRequestReader=new j(this)}},{key:"getRangeReader",value:function(a,b){if(b<=this._progressiveDataLength)return null;var d=new p(this,a,b);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}},{key:"_progressiveDataLength",
get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return a}();b.PDFFetchStream=d;var j=function(){function a(b){var d=this;l(this,a);this._stream=b;this._reader=null;this._loaded=0;this._filename=null;b=b.source;this._withCredentials=b.withCredentials||!1;this._contentLength=b.length;this._headersCapability=(0,s.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=
!0);"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._headers=new Headers;for(var e in this._stream.httpHeaders){var g=this._stream.httpHeaders[e];"undefined"!==typeof g&&this._headers.append(e,g)}var j=b.url;fetch(j,m(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,y.validateResponseStatus)(a.status))throw(0,y.createResponseStatusError)(a.status,
j);d._reader=a.body.getReader();d._headersCapability.resolve();var b=function(b){return a.headers.get(b)},c=(0,y.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:d._stream.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),e=c.suggestedLength;d._isRangeSupported=c.allowRangeRequests;d._contentLength=e||d._contentLength;d._filename=(0,y.extractFilenameFromHeader)(b);!d._isStreamingSupported&&d._isRangeSupported&&d.cancel(new s.AbortException("Streaming is disabled."))})["catch"](this._headersCapability.reject);
this.onProgress=null}r(a,[{key:"read",value:function(){var a=k(n["default"].mark(function e(){var a,b,c,d;return n["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;c=a.done;if(!c){e.next=9;break}return e.abrupt("return",{value:b,done:c});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});d=(new Uint8Array(b)).buffer;
return e.abrupt("return",{value:d,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),p=function(){function a(b,d,e){var g=this;l(this,a);this._stream=b;this._reader=null;this._loaded=0;b=b.source;this._withCredentials=b.withCredentials||!1;this._readCapability=(0,s.createPromiseCapability)();this._isStreamingSupported=!b.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var j in this._stream.httpHeaders){var k=this._stream.httpHeaders[j];
"undefined"!==typeof k&&this._headers.append(j,k)}this._headers.append("Range","bytes=".concat(d,"-").concat(e-1));var n=b.url;fetch(n,m(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,y.validateResponseStatus)(a.status))throw(0,y.createResponseStatusError)(a.status,n);g._readCapability.resolve();g._reader=a.body.getReader()});this.onProgress=null}r(a,[{key:"read",value:function(){var a=k(n["default"].mark(function e(){var a,b,c,d;return n["default"].wrap(function(e){for(;;)switch(e.prev=
e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;c=a.done;if(!c){e.next=9;break}return e.abrupt("return",{value:b,done:c});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});d=(new Uint8Array(b)).buffer;return e.abrupt("return",{value:d,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&
this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}()}])});
