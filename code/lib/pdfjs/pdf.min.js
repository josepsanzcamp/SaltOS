(function(d,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=b():d["pdfjs-dist/build/pdf"]=d.pdfjsLib=b()})(this,function(){return function(d){function b(i){if(a[i])return a[i].exports;var l=a[i]={i:i,l:!1,exports:{}};d[i].call(l.exports,l,l.exports,b);l.l=!0;return l.exports}var a={};b.m=d;b.c=a;b.d=function(a,l,f){b.o(a,l)||Object.defineProperty(a,
l,{enumerable:!0,get:f})};b.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,l){l&1&&(a=b(a));if(l&8||l&4&&"object"===typeof a&&a&&a.__esModule)return a;var f=Object.create(null);b.r(f);Object.defineProperty(f,"default",{enumerable:!0,value:a});if(l&2&&"string"!=typeof a)for(var d in a)b.d(f,d,function(f){return a[f]}.bind(null,d));return f};b.n=function(a){var l=
a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(l,"a",l);return l};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=0)}([function(d,b,a){var d=a(1),i=a(146),l=a(162),f=a(163),n=a(151),t=a(164),v=a(156),q=a(153);if(a(4)()){var j=a(165).PDFNodeStream;i.setPDFNetworkStreamFactory(function(a){return new j(a)})}else if("undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream){var x=a(168).PDFFetchStream;
i.setPDFNetworkStreamFactory(function(a){return new x(a)})}else{var u=a(169).PDFNetworkStream;i.setPDFNetworkStreamFactory(function(a){return new u(a)})}b.build=i.build;b.version=i.version;b.getDocument=i.getDocument;b.LoopbackPort=i.LoopbackPort;b.PDFDataRangeTransport=i.PDFDataRangeTransport;b.PDFWorker=i.PDFWorker;b.renderTextLayer=l.renderTextLayer;b.AnnotationLayer=f.AnnotationLayer;b.createPromiseCapability=d.createPromiseCapability;b.PasswordResponses=d.PasswordResponses;b.InvalidPDFException=
d.InvalidPDFException;b.MissingPDFException=d.MissingPDFException;b.SVGGraphics=t.SVGGraphics;b.NativeImageDecoding=d.NativeImageDecoding;b.CMapCompressionType=d.CMapCompressionType;b.PermissionFlag=d.PermissionFlag;b.UnexpectedResponseException=d.UnexpectedResponseException;b.OPS=d.OPS;b.VerbosityLevel=d.VerbosityLevel;b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES;b.createValidAbsoluteUrl=d.createValidAbsoluteUrl;b.createObjectURL=d.createObjectURL;b.removeNullCharacters=d.removeNullCharacters;b.shadow=
d.shadow;b.Util=d.Util;b.ReadableStream=d.ReadableStream;b.URL=d.URL;b.RenderingCancelledException=n.RenderingCancelledException;b.getFilenameFromUrl=n.getFilenameFromUrl;b.LinkTarget=n.LinkTarget;b.addLinkAttributes=n.addLinkAttributes;b.loadScript=n.loadScript;b.GlobalWorkerOptions=v.GlobalWorkerOptions;b.apiCompatibilityParams=q.apiCompatibilityParams},function(d,b,a){function i(c){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&
"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return i(c)}function l(c){u>=x.WARNINGS&&console.log("Warning: "+c)}function f(c){throw Error(c);}function n(c,e){c||f(e)}function t(c){n("string"===typeof c,"Invalid argument for stringToBytes");for(var e=c.length,k=new Uint8Array(e),a=0;a<e;++a)k[a]=c.charCodeAt(a)&255;return k}function v(c){if(void 0!==c.length)return c.length;n(void 0!==c.byteLength);return c.byteLength}Object.defineProperty(b,"__esModule",
{value:!0});b.toRomanNumerals=function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;n(Number.isInteger(c)&&0<c,"The number should be a positive integer.");for(var k,a=[];1E3<=c;)c-=1E3,a.push("M");k=c/100|0;c%=100;a.push(h[k]);k=c/10|0;c%=10;a.push(h[10+k]);a.push(h[20+c]);k=a.join("");return e?k.toLowerCase():k};b.arrayByteLength=v;b.arraysToBytes=function(c){if(1===c.length&&c[0]instanceof Uint8Array)return c[0];var e=0,k,a=c.length,g,h;for(k=0;k<a;k++)g=c[k],h=v(g),e+=h;var f=
0,e=new Uint8Array(e);for(k=0;k<a;k++)g=c[k],g instanceof Uint8Array||(g="string"===typeof g?t(g):new Uint8Array(g)),h=g.byteLength,e.set(g,f),f+=h;return e};b.assert=n;b.bytesToString=function(c){n(null!==c&&"object"===i(c)&&void 0!==c.length,"Invalid argument for bytesToString");var e=c.length;if(8192>e)return String.fromCharCode.apply(null,c);for(var k=[],a=0;a<e;a+=8192){var g=Math.min(a+8192,e),g=c.subarray(a,g);k.push(String.fromCharCode.apply(null,g))}return k.join("")};b.createPromiseCapability=
function(){var c=Object.create(null),e=!1;Object.defineProperty(c,"settled",{get:function(){return e}});c.promise=new Promise(function(k,a){c.resolve=function(c){e=!0;k(c)};c.reject=function(c){e=!0;a(c)}});return c};b.deprecated=function(c){console.log("Deprecated API usage: "+c)};b.getInheritableProperty=function(c){for(var e=c.dict,k=c.key,a=c.getArray,a=void 0===a?!1:a,c=c.stopWhenFound,c=void 0===c?!0:c,g=0,h;e;){var f=a?e.getArray(k):e.get(k);if(void 0!==f){if(c)return f;h||(h=[]);h.push(f)}if(100<
++g){l('getInheritableProperty: maximum loop count exceeded for "'.concat(k,'"'));break}e=e.get("Parent")}return h};b.getLookupTableFactory=function(c){var e;return function(){c&&(e=Object.create(null),c(e),c=null);return e}};b.getVerbosityLevel=function(){return u};b.info=function(c){u>=x.INFOS&&console.log("Info: "+c)};b.isArrayBuffer=function(c){return"object"===i(c)&&null!==c&&void 0!==c.byteLength};b.isBool=function(c){return"boolean"===typeof c};b.isEmptyObj=function(c){for(var e in c)return!1;
return!0};b.isNum=function(c){return"number"===typeof c};b.isString=function(c){return"string"===typeof c};b.isSpace=function(c){return 32===c||9===c||13===c||10===c};b.isSameOrigin=function(c,e){try{var k=new j.URL(c);if(!k.origin||"null"===k.origin)return!1}catch(a){return!1}var g=new j.URL(e,k);return k.origin===g.origin};b.createValidAbsoluteUrl=function(c,e){if(!c)return null;try{var k=e?new j.URL(c,e):new j.URL(c),a;a:if(k)switch(k.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":a=
!0;break a;default:a=!1}else a=!1;if(a)return k}catch(g){}return null};b.isLittleEndian=function(){var c=new Uint8Array(4);c[0]=1;return 1===(new Uint32Array(c.buffer,0,1))[0]};b.isEvalSupported=function(){try{return new Function(""),!0}catch(c){return!1}};b.log2=function(c){return 0>=c?0:Math.ceil(Math.log2(c))};b.readInt8=function(c,e){return c[e]<<24>>24};b.readUint16=function(c,e){return c[e]<<8|c[e+1]};b.readUint32=function(c,e){return(c[e]<<24|c[e+1]<<16|c[e+2]<<8|c[e+3])>>>0};b.removeNullCharacters=
function(c){return"string"!==typeof c?(l("The argument for removeNullCharacters must be a string."),c):c.replace(s,"")};b.setVerbosityLevel=function(c){Number.isInteger(c)&&(u=c)};b.shadow=function(c,e,k){Object.defineProperty(c,e,{value:k,enumerable:!0,configurable:!0,writable:!1});return k};b.string32=function(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)};b.stringToBytes=t;b.stringToPDFString=function(c){var e,k=c.length,a=[];if("\u00fe"===c[0]&&"\u00ff"===c[1])for(e=2;e<k;e+=
2)a.push(String.fromCharCode(c.charCodeAt(e)<<8|c.charCodeAt(e+1)));else for(e=0;e<k;++e){var h=g[c.charCodeAt(e)];a.push(h?String.fromCharCode(h):c.charAt(e))}return a.join("")};b.stringToUTF8String=function(c){return decodeURIComponent(escape(c))};b.utf8StringToString=function(c){return unescape(encodeURIComponent(c))};b.warn=l;b.unreachable=f;Object.defineProperty(b,"ReadableStream",{enumerable:!0,get:function(){return q.ReadableStream}});Object.defineProperty(b,"URL",{enumerable:!0,get:function(){return j.URL}});
b.createObjectURL=b.FormatError=b.XRefParseException=b.XRefEntryException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=
b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;a(2);var q=a(142),j=a(144);b.IDENTITY_MATRIX=[1,0,0,1,0,0];b.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];b.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};b.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,
ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,
LOCKEDCONTENTS:512};b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,
CCF:8,RL:9};b.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var x={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=x;b.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,
closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,
setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,
endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var u=x.WARNINGS,d=function(){function c(c,
k){this.name="PasswordException";this.message=c;this.code=k}c.prototype=Error();return c.constructor=c}();b.PasswordException=d;d=function(){function c(c,k){this.name="UnknownErrorException";this.message=c;this.details=k}c.prototype=Error();return c.constructor=c}();b.UnknownErrorException=d;d=function(){function c(c){this.name="InvalidPDFException";this.message=c}c.prototype=Error();return c.constructor=c}();b.InvalidPDFException=d;d=function(){function c(c){this.name="MissingPDFException";this.message=
c}c.prototype=Error();return c.constructor=c}();b.MissingPDFException=d;d=function(){function c(c,k){this.name="UnexpectedResponseException";this.message=c;this.status=k}c.prototype=Error();return c.constructor=c}();b.UnexpectedResponseException=d;d=function(){function c(c,k){this.begin=c;this.end=k;this.message="Missing data ["+c+", "+k+")"}c.prototype=Error();c.prototype.name="MissingDataException";return c.constructor=c}();b.MissingDataException=d;d=function(){function c(c){this.message=c}c.prototype=
Error();c.prototype.name="XRefEntryException";return c.constructor=c}();b.XRefEntryException=d;d=function(){function c(c){this.message=c}c.prototype=Error();c.prototype.name="XRefParseException";return c.constructor=c}();b.XRefParseException=d;d=function(){function c(c){this.message=c}c.prototype=Error();c.prototype.name="FormatError";return c.constructor=c}();b.FormatError=d;d=function(){function c(c){this.name="AbortException";this.message=c}c.prototype=Error();return c.constructor=c}();b.AbortException=
d;var s=/\x00/g,d=function(){function c(){}var e=["rgb(",0,",",0,",",0,")"];c.makeCssRgb=function(c,a,g){e[1]=c;e[3]=a;e[5]=g;return e.join("")};c.transform=function(c,e){return[c[0]*e[0]+c[2]*e[1],c[1]*e[0]+c[3]*e[1],c[0]*e[2]+c[2]*e[3],c[1]*e[2]+c[3]*e[3],c[0]*e[4]+c[2]*e[5]+c[4],c[1]*e[4]+c[3]*e[5]+c[5]]};c.applyTransform=function(c,e){return[c[0]*e[0]+c[1]*e[2]+e[4],c[0]*e[1]+c[1]*e[3]+e[5]]};c.applyInverseTransform=function(c,e){var a=e[0]*e[3]-e[1]*e[2];return[(c[0]*e[3]-c[1]*e[2]+e[2]*e[5]-
e[4]*e[3])/a,(-c[0]*e[1]+c[1]*e[0]+e[4]*e[1]-e[5]*e[0])/a]};c.getAxialAlignedBoundingBox=function(e,a){var g=c.applyTransform(e,a),h=c.applyTransform(e.slice(2,4),a),f=c.applyTransform([e[0],e[3]],a),j=c.applyTransform([e[2],e[1]],a);return[Math.min(g[0],h[0],f[0],j[0]),Math.min(g[1],h[1],f[1],j[1]),Math.max(g[0],h[0],f[0],j[0]),Math.max(g[1],h[1],f[1],j[1])]};c.inverseTransform=function(c){var e=c[0]*c[3]-c[1]*c[2];return[c[3]/e,-c[1]/e,-c[2]/e,c[0]/e,(c[2]*c[5]-c[4]*c[3])/e,(c[4]*c[1]-c[5]*c[0])/
e]};c.apply3dTransform=function(c,e){return[c[0]*e[0]+c[1]*e[1]+c[2]*e[2],c[3]*e[0]+c[4]*e[1]+c[5]*e[2],c[6]*e[0]+c[7]*e[1]+c[8]*e[2]]};c.singularValueDecompose2dScale=function(c){var e=[c[0],c[2],c[1],c[3]],a=c[0]*e[0]+c[1]*e[2],g=c[2]*e[1]+c[3]*e[3],h=(a+g)/2,c=Math.sqrt((a+g)*(a+g)-4*(a*g-(c[2]*e[0]+c[3]*e[2])*(c[0]*e[1]+c[1]*e[3])))/2,e=h-c||1;return[Math.sqrt(h+c||1),Math.sqrt(e)]};c.normalizeRect=function(c){var e=c.slice(0);c[0]>c[2]&&(e[0]=c[2],e[2]=c[0]);c[1]>c[3]&&(e[1]=c[3],e[3]=c[1]);
return e};c.intersect=function(e,a){function g(c,e){return c-e}var h=[e[0],e[2],a[0],a[2]].sort(g),f=[e[1],e[3],a[1],a[3]].sort(g),j=[],e=c.normalizeRect(e),a=c.normalizeRect(a);if(h[0]===e[0]&&h[1]===a[0]||h[0]===a[0]&&h[1]===e[0])j[0]=h[1],j[2]=h[2];else return!1;if(f[0]===e[1]&&f[1]===a[1]||f[0]===a[1]&&f[1]===e[1])j[1]=f[1],j[3]=f[2];else return!1;return j};return c}();b.Util=d;var h=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),g=[0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],d=function(){return function(c,e){if((!(2<arguments.length&&void 0!==arguments[2])||
!arguments[2])&&j.URL.createObjectURL){var a=new Blob([c],{type:e});return j.URL.createObjectURL(a)}for(var a="data:"+e+";base64,",g=0,h=c.length;g<h;g+=3)var f=c[g]&255,b=c[g+1]&255,t=c[g+2]&255,a=a+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(f&3)<<4|b>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g+1<h?(b&15)<<2|t>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g+
2<h?t&63:64]);return a}}();b.createObjectURL=d},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(3);if(!l._pdfjsCompatibilityChecked){l._pdfjsCompatibilityChecked=!0;var f=a(4),n="object"===("undefined"===typeof window?"undefined":i(window))&&"object"===("undefined"===typeof document?"undefined":
i(document));(function(){!l.btoa&&f()&&(l.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!l.atob&&f()&&(l.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){n&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();(function(){n&&!f()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(a){if(1<
arguments.length){var f=!!arguments[1];return this[f?"add":"remove"](a),f}return this.contains(a)?(this.remove(a),!1):(this.add(a),!0)})})();String.prototype.startsWith||a(5);String.prototype.endsWith||a(35);String.prototype.includes||a(37);Array.prototype.includes||a(39);Array.from||a(46);Object.assign||a(69);Math.log2||(Math.log2=a(74));Number.isNaN||(Number.isNaN=a(76));Number.isInteger||(Number.isInteger=a(78));l.Promise||(l.Promise=a(81));l.WeakMap||(l.WeakMap=a(101));l.WeakSet||(l.WeakSet=a(118));
String.codePointAt||(String.codePointAt=a(122));String.fromCodePoint||(String.fromCodePoint=a(124));l.Symbol||a(126);String.prototype.padStart||a(133);String.prototype.padEnd||a(137);Object.values||(Object.values=a(139))}},function(d){d.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(){return"object"===("undefined"===typeof process?"undefined":b(process))&&"[object process]"===process+""&&!process.versions.nw}},function(d,b,a){a(6);d.exports=a(9).String.startsWith},function(d,b,a){var d=a(7),i=a(25),l=a(27),f="".startsWith;d(d.P+d.F*a(34)("startsWith"),"String",{startsWith:function(a){var b=l(this,a,"startsWith"),d=i(Math.min(1<arguments.length?
arguments[1]:void 0,b.length)),q=""+a;return f?f.call(b,q,d):b.slice(d,d+q.length)===q}})},function(d,b,a){var i=a(8),l=a(9),f=a(10),n=a(20),t=a(23),b=function q(a,b,d){var s=a&q.F,h=a&q.G,g=a&q.S,c=a&q.P,e=a&q.B,g=h?i:g?i[b]||(i[b]={}):(i[b]||{}).prototype,k=h?l:l[b]||(l[b]={}),w=k.prototype||(k.prototype={}),o;h&&(d=b);for(o in d)h=!s&&g&&void 0!==g[o],b=(h?g:d)[o],h=e&&h?t(b,i):c&&"function"==typeof b?t(Function.call,b):b,g&&n(g,o,b,a&q.U),k[o]!=b&&f(k,o,h),c&&w[o]!=b&&(w[o]=b)};i.core=l;b.F=1;
b.G=2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=64;b.R=128;d.exports=b},function(d){d=d.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(d){d=d.exports={version:"2.6.2"};"number"==typeof __e&&(__e=d)},function(d,b,a){var i=a(11),l=a(19);d.exports=a(15)?function(a,b,d){return i.f(a,b,l(1,d))}:function(a,b,l){a[b]=l;return a}},function(d,b,a){var i=a(12),l=a(14),f=a(18),n=Object.defineProperty;
b.f=a(15)?Object.defineProperty:function(a,b,d){i(a);b=f(b,!0);i(d);if(l)try{return n(a,b,d)}catch(j){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[b]=d.value);return a}},function(d,b,a){var i=a(13);d.exports=function(a){if(!i(a))throw TypeError(a+" is not an object!");return a}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(a){return"object"===b(a)?null!==a:"function"===typeof a}},function(d,b,a){d.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(d,b,a){d.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d){d.exports=function(b){try{return!!b()}catch(a){return!0}}},function(d,b,a){var b=a(13),i=a(8).document,
l=b(i)&&b(i.createElement);d.exports=function(a){return l?i.createElement(a):{}}},function(d,b,a){var i=a(13);d.exports=function(a,f){if(!i(a))return a;var b,d;if(f&&"function"==typeof(b=a.toString)&&!i(d=b.call(a))||"function"==typeof(b=a.valueOf)&&!i(d=b.call(a))||!f&&"function"==typeof(b=a.toString)&&!i(d=b.call(a)))return d;throw TypeError("Can't convert object to primitive value");}},function(d){d.exports=function(b,a){return{enumerable:!(b&1),configurable:!(b&2),writable:!(b&4),value:a}}},function(d,
b,a){var i=a(8),l=a(10),f=a(21),n=a(22)("src"),t=Function.toString,v=(""+t).split("toString");a(9).inspectSource=function(a){return t.call(a)};(d.exports=function(a,j,b,d){var s="function"==typeof b;s&&(f(b,"name")||l(b,"name",j));a[j]!==b&&(s&&(f(b,n)||l(b,n,a[j]?""+a[j]:v.join(""+j))),a===i?a[j]=b:d?a[j]?a[j]=b:l(a,j,b):(delete a[j],l(a,j,b)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||t.call(this)})},function(d){var b={}.hasOwnProperty;d.exports=function(a,
d){return b.call(a,d)}},function(d){var b=0,a=Math.random();d.exports=function(d){return"Symbol(".concat(void 0===d?"":d,")_",(++b+a).toString(36))}},function(d,b,a){var i=a(24);d.exports=function(a,f,b){i(a);if(void 0===f)return a;switch(b){case 1:return function(b){return a.call(f,b)};case 2:return function(b,d){return a.call(f,b,d)};case 3:return function(b,d,n){return a.call(f,b,d,n)}}return function(){return a.apply(f,arguments)}}},function(d){d.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},function(d,b,a){var i=a(26),l=Math.min;d.exports=function(a){return 0<a?l(i(a),9007199254740991):0}},function(d){var b=Math.ceil,a=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?a:b)(d)}},function(d,b,a){var i=a(28),l=a(33);d.exports=function(a,b,d){if(i(b))throw TypeError("String#"+d+" doesn't accept regex!");return""+l(a)}},function(d,b,a){var i=a(13),l=a(29),f=a(30)("match");d.exports=function(a){var b;return i(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==
l(a))}},function(d){var b={}.toString;d.exports=function(a){return b.call(a).slice(8,-1)}},function(d,b,a){var i=a(31)("wks"),l=a(22),f=a(8).Symbol,n="function"==typeof f;(d.exports=function(a){return i[a]||(i[a]=n&&f[a]||(n?f:l)("Symbol."+a))}).store=i},function(d,b,a){var b=a(9),i=a(8),l=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(d.exports=function(a,b){return l[a]||(l[a]=void 0!==b?b:{})})("versions",[]).push({version:b.version,mode:a(32)?"pure":"global",copyright:"\u00a9 2019 Denis Pushkarev (zloirock.ru)"})},
function(d){d.exports=!1},function(d){d.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(d,b,a){var i=a(30)("match");d.exports=function(a){var f=/./;try{"/./"[a](f)}catch(b){try{return f[i]=!1,!"/./"[a](f)}catch(d){}}return!0}},function(d,b,a){a(36);d.exports=a(9).String.endsWith},function(d,b,a){var d=a(7),i=a(25),l=a(27),f="".endsWith;d(d.P+d.F*a(34)("endsWith"),"String",{endsWith:function(a){var b=l(this,a,"endsWith"),d=1<arguments.length?arguments[1]:
void 0,q=i(b.length),d=void 0===d?q:Math.min(i(d),q),q=""+a;return f?f.call(b,q,d):b.slice(d-q.length,d)===q}})},function(d,b,a){a(38);d.exports=a(9).String.includes},function(d,b,a){var d=a(7),i=a(27);d(d.P+d.F*a(34)("includes"),"String",{includes:function(a){return!!~i(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(d,b,a){a(40);d.exports=a(9).Array.includes},function(d,b,a){var d=a(7),i=a(41)(!0);d(d.P,"Array",{includes:function(a){return i(this,a,1<arguments.length?
arguments[1]:void 0)}});a(45)("includes")},function(d,b,a){var i=a(42),l=a(25),f=a(44);d.exports=function(a){return function(b,d,q){var b=i(b),j=l(b.length),q=f(q,j);if(a&&d!=d)for(;j>q;){if(d=b[q++],d!=d)return!0}else for(;j>q;q++)if((a||q in b)&&b[q]===d)return a||q||0;return!a&&-1}}},function(d,b,a){var i=a(43),l=a(33);d.exports=function(a){return i(l(a))}},function(d,b,a){var i=a(29);d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==i(a)?a.split(""):Object(a)}},
function(d,b,a){var i=a(26),l=Math.max,f=Math.min;d.exports=function(a,b){a=i(a);return 0>a?l(a+b,0):f(a,b)}},function(d,b,a){var i=a(30)("unscopables"),l=Array.prototype;void 0==l[i]&&a(10)(l,i,{});d.exports=function(a){l[i][a]=!0}},function(d,b,a){a(47);a(62);d.exports=a(9).Array.from},function(d,b,a){var i=a(48)(!0);a(49)(String,"String",function(a){this._t=""+a;this._i=0},function(){var a=this._t,b=this._i;if(b>=a.length)return{value:void 0,done:!0};a=i(a,b);this._i+=a.length;return{value:a,done:!1}})},
function(d,b,a){var i=a(26),l=a(33);d.exports=function(a){return function(b,d){var v=""+l(b),q=i(d),j=v.length,x,u;if(0>q||q>=j)return a?"":void 0;x=v.charCodeAt(q);return 55296>x||56319<x||q+1===j||56320>(u=v.charCodeAt(q+1))||57343<u?a?v.charAt(q):x:a?v.slice(q,q+2):(x-55296<<10)+(u-56320)+65536}}},function(d,b,a){var i=a(32),l=a(7),f=a(20),n=a(10),t=a(50),v=a(51),q=a(59),j=a(60),x=a(30)("iterator"),u=!([].keys&&"next"in[].keys()),s=function(){return this};d.exports=function(a,g,c,e,k,b,d){v(c,
g,e);var e=function(e){return!u&&e in z?z[e]:function(){return new c(this,e)}},m=g+" Iterator",p="values"==k,r=!1,z=a.prototype,C=z[x]||z["@@iterator"]||k&&z[k],J=C||e(k),G=k?!p?J:e("entries"):void 0,H="Array"==g?z.entries||C:C,B,y;H&&(a=j(H.call(new a)),a!==Object.prototype&&a.next&&(q(a,m,!0),!i&&"function"!=typeof a[x]&&n(a,x,s)));p&&(C&&"values"!==C.name)&&(r=!0,J=function(){return C.call(this)});(!i||d)&&(u||r||!z[x])&&n(z,x,J);t[g]=J;t[m]=s;if(k)if(B={values:p?J:e("values"),keys:b?J:e("keys"),
entries:G},d)for(y in B)y in z||f(z,y,B[y]);else l(l.P+l.F*(u||r),g,B);return B}},function(d){d.exports={}},function(d,b,a){var i=a(52),l=a(19),f=a(59),n={};a(10)(n,a(30)("iterator"),function(){return this});d.exports=function(a,b,d){a.prototype=i(n,{next:l(1,d)});f(a,b+" Iterator")}},function(d,b,a){var i=a(12),l=a(53),f=a(57),n=a(56)("IE_PROTO"),t=function(){},v=function(){var b=a(17)("iframe"),j=f.length;b.style.display="none";a(58).appendChild(b);b.src="javascript:";b=b.contentWindow.document;
b.open();b.write("<script>document.F=Object<\/script>");b.close();for(v=b.F;j--;)delete v.prototype[f[j]];return v()};d.exports=Object.create||function(a,b){var f;null!==a?(t.prototype=i(a),f=new t,t.prototype=null,f[n]=a):f=v();return void 0===b?f:l(f,b)}},function(d,b,a){var i=a(11),l=a(12),f=a(54);d.exports=a(15)?Object.defineProperties:function(a,b){l(a);for(var d=f(b),q=d.length,j=0,x;q>j;)i.f(a,x=d[j++],b[x]);return a}},function(d,b,a){var i=a(55),l=a(57);d.exports=Object.keys||function(a){return i(a,
l)}},function(d,b,a){var i=a(21),l=a(42),f=a(41)(!1),n=a(56)("IE_PROTO");d.exports=function(a,b){var d=l(a),j=0,x=[],u;for(u in d)u!=n&&i(d,u)&&x.push(u);for(;b.length>j;)if(i(d,u=b[j++]))~f(x,u)||x.push(u);return x}},function(d,b,a){var i=a(31)("keys"),l=a(22);d.exports=function(a){return i[a]||(i[a]=l(a))}},function(d){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(d,b,a){b=a(8).document;d.exports=b&&b.documentElement},
function(d,b,a){var i=a(11).f,l=a(21),f=a(30)("toStringTag");d.exports=function(a,b,d){a&&!l(a=d?a:a.prototype,f)&&i(a,f,{configurable:!0,value:b})}},function(d,b,a){var i=a(21),l=a(61),f=a(56)("IE_PROTO"),n=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=l(a);return i(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?n:null}},function(d,b,a){var i=a(33);d.exports=function(a){return Object(i(a))}},function(d,b,a){var i=
a(23),d=a(7),l=a(61),f=a(63),n=a(64),t=a(25),v=a(65),q=a(66);d(d.S+d.F*!a(68)(function(a){Array.from(a)}),"Array",{from:function(a){var b=l(a),d="function"==typeof this?this:Array,s=arguments.length,h=1<s?arguments[1]:void 0,g=void 0!==h,c=0,e=q(b);g&&(h=i(h,2<s?arguments[2]:void 0,2));if(void 0!=e&&!(d==Array&&n(e))){b=e.call(b);for(d=new d;!(s=b.next()).done;c++)v(d,c,g?f(b,h,[s.value,c],!0):s.value)}else{s=t(b.length);for(d=new d(s);s>c;c++)v(d,c,g?h(b[c],c):b[c])}d.length=c;return d}})},function(d,
b,a){var i=a(12);d.exports=function(a,b,d,t){try{return t?b(i(d)[0],d[1]):b(d)}catch(v){throw b=a["return"],void 0!==b&&i(b.call(a)),v;}}},function(d,b,a){var i=a(50),l=a(30)("iterator"),f=Array.prototype;d.exports=function(a){return void 0!==a&&(i.Array===a||f[l]===a)}},function(d,b,a){var i=a(11),l=a(19);d.exports=function(a,b,d){b in a?i.f(a,b,l(0,d)):a[b]=d}},function(d,b,a){var i=a(67),l=a(30)("iterator"),f=a(50);d.exports=a(9).getIteratorMethod=function(a){if(void 0!=a)return a[l]||a["@@iterator"]||
f[i(a)]}},function(d,b,a){var i=a(29),l=a(30)("toStringTag"),f="Arguments"==i(function(){return arguments}());d.exports=function(a){var b,d;if(void 0===a)b="Undefined";else{var q;if(null===a)q="Null";else{var j=a=Object(a);try{q=j[l]}catch(x){}q="string"==typeof(b=q)?b:f?i(a):"Object"==(d=i(a))&&"function"==typeof a.callee?"Arguments":d}b=q}return b}},function(d,b,a){var i=a(30)("iterator"),l=!1;try{var f=[7][i]();f["return"]=function(){l=!0};Array.from(f,function(){throw 2;})}catch(n){}d.exports=
function(a,b){if(!b&&!l)return!1;var f=!1;try{var j=[7],d=j[i]();d.next=function(){return{done:f=!0}};j[i]=function(){return d};a(j)}catch(u){}return f}},function(d,b,a){a(70);d.exports=a(9).Object.assign},function(d,b,a){d=a(7);d(d.S+d.F,"Object",{assign:a(71)})},function(d,b,a){var i=a(54),l=a(72),f=a(73),n=a(61),t=a(43),v=Object.assign;d.exports=!v||a(16)(function(){var a={},b={},f=Symbol();a[f]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=v({},a)[f]||"abcdefghijklmnopqrst"!=
Object.keys(v({},b)).join("")})?function(a,b){for(var d=n(a),v=arguments.length,s=1,h=l.f,g=f.f;v>s;)for(var c=t(arguments[s++]),e=h?i(c).concat(h(c)):i(c),k=e.length,w=0,o;k>w;)if(g.call(c,o=e[w++]))d[o]=c[o];return d}:v},function(d,b){b.f=Object.getOwnPropertySymbols},function(d,b){b.f={}.propertyIsEnumerable},function(d,b,a){a(75);d.exports=a(9).Math.log2},function(d,b,a){d=a(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(d,b,a){a(77);d.exports=a(9).Number.isNaN},function(d,
b,a){d=a(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(d,b,a){a(79);d.exports=a(9).Number.isInteger},function(d,b,a){d=a(7);d(d.S,"Number",{isInteger:a(80)})},function(d,b,a){var i=a(13),l=Math.floor;d.exports=function(a){return!i(a)&&isFinite(a)&&l(a)===a}},function(d,b,a){a(82);a(47);a(83);a(86);a(99);a(100);d.exports=a(9).Promise},function(d,b,a){var i=a(67),d={};d[a(30)("toStringTag")]="z";"[object z]"!=d+""&&a(20)(Object.prototype,"toString",function(){return"[object "+i(this)+
"]"},!0)},function(d,b,a){for(var d=a(84),i=a(54),b=a(20),l=a(8),f=a(10),n=a(50),t=a(30),a=t("iterator"),t=t("toStringTag"),v=n.Array,q={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,
SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},i=i(q),j=0;j<i.length;j++){var x=i[j],u=q[x],s=l[x],s=s&&s.prototype,h;if(s&&(s[a]||f(s,a,v),s[t]||f(s,t,x),n[x]=v,u))for(h in d)s[h]||b(s,h,d[h],!0)}},function(d,b,a){var b=a(45),i=a(85),l=a(50),f=a(42);d.exports=a(49)(Array,"Array",function(a,b){this._t=f(a);this._i=0;this._k=b},function(){var a=this._t,b=this._k,f=this._i++;return!a||f>=
a.length?(this._t=void 0,i(1)):"keys"==b?i(0,f):"values"==b?i(0,a[f]):i(0,[f,a[f]])},"values");l.Arguments=l.Array;b("keys");b("values");b("entries")},function(d){d.exports=function(b,a){return{value:a,done:!!b}}},function(d,b,a){var i=a(32),l=a(8),f=a(23),n=a(67),d=a(7),t=a(13),v=a(24),q=a(87),j=a(88),x=a(89),u=a(90).set,s=a(92)(),b=a(93),h=a(94),g=a(95),c=a(96),e=l.TypeError,k=l.process,w=k&&k.versions,o=w&&w.v8||"",m=l.Promise,p="process"==n(k),r=function(){},z,C,J,G,H=C=b.f,n=!!function(){try{var c=
m.resolve(1),e=(c.constructor={})[a(30)("species")]=function(a){a(r,r)};return(p||"function"==typeof PromiseRejectionEvent)&&c.then(r)instanceof e&&0!==o.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(k){}}(),B=function(a){var c;return t(a)&&"function"==typeof(c=a.then)?c:!1},y=function(a,c){if(!a._n){a._n=!0;var k=a._c;s(function(){for(var g=a._v,b=1==a._s,h=0;k.length>h;){var f=k[h++],d=b?f.ok:f.fail,j=f.resolve,w=f.reject,m=f.domain,s=void 0,z=void 0,o=void 0;try{d?(b||(2==a._h&&I(a),a._h=1),
!0===d?s=g:(m&&m.enter(),s=d(g),m&&(m.exit(),o=!0)),s===f.promise?w(e("Promise-chain cycle")):(z=B(s))?z.call(s,j,w):j(s)):w(g)}catch(l){m&&!o&&m.exit(),w(l)}}a._c=[];a._n=!1;c&&!a._h&&E(a)})}},E=function(a){u.call(l,function(){var c=a._v,e=1!==a._h&&0===(a._a||a._c).length,g,b,f;e&&(g=h(function(){p?k.emit("unhandledRejection",c,a):(b=l.onunhandledrejection)?b({promise:a,reason:c}):(f=l.console)&&f.error&&f.error("Unhandled promise rejection",c)}),a._h=p||1!==a._h&&0===(a._a||a._c).length?2:1);a._a=
void 0;if(e&&g.e)throw g.v;})},I=function(a){u.call(l,function(){var c;p?k.emit("rejectionHandled",a):(c=l.onrejectionhandled)&&c({promise:a,reason:a._v})})},A=function(a){var c=this;c._d||(c._d=!0,c=c._w||c,c._v=a,c._s=2,c._a||(c._a=c._c.slice()),y(c,!0))},M=function O(a){var c=this,g;if(!c._d){c._d=!0;c=c._w||c;try{if(c===a)throw e("Promise can't be resolved itself");(g=B(a))?s(function(){var e={_w:c,_d:!1};try{g.call(a,f(O,e,1),f(A,e,1))}catch(k){A.call(e,k)}}):(c._v=a,c._s=1,y(c,!1))}catch(k){A.call({_w:c,
_d:!1},k)}}};n||(m=function(a){q(this,m,"Promise","_h");v(a);z.call(this);try{a(f(M,this,1),f(A,this,1))}catch(c){A.call(this,c)}},z=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},z.prototype=a(97)(m.prototype,{then:function(a,c){var e=H(x(this,m));e.ok="function"==typeof a?a:!0;e.fail="function"==typeof c&&c;e.domain=p?k.domain:void 0;this._c.push(e);this._a&&this._a.push(e);this._s&&y(this,!1);return e.promise},"catch":function(a){return this.then(void 0,
a)}}),J=function(){var a=new z;this.promise=a;this.resolve=f(M,a,1);this.reject=f(A,a,1)},b.f=H=function(a){return a===m||a===G?new J(a):C(a)});d(d.G+d.W+d.F*!n,{Promise:m});a(59)(m,"Promise");a(98)("Promise");G=a(9).Promise;d(d.S+d.F*!n,"Promise",{reject:function(a){var c=H(this),e=c.reject;e(a);return c.promise}});d(d.S+d.F*(i||!n),"Promise",{resolve:function(a){return c(i&&this===G?m:this,a)}});d(d.S+d.F*!(n&&a(68)(function(a){m.all(a)["catch"](r)})),"Promise",{all:function(a){var c=this,e=H(c),
g=e.resolve,k=e.reject,b=h(function(){var e=[],b=0,h=1;j(a,false,function(a){var f=b++,d=false;e.push(void 0);h++;c.resolve(a).then(function(a){if(!d){d=true;e[f]=a;--h||g(e)}},k)});--h||g(e)});b.e&&k(b.v);return e.promise},race:function(a){var c=this,e=H(c),g=e.reject,k=h(function(){j(a,false,function(a){c.resolve(a).then(e.resolve,g)})});k.e&&g(k.v);return e.promise}})},function(d){d.exports=function(b,a,d,l){if(!(b instanceof a)||void 0!==l&&l in b)throw TypeError(d+": incorrect invocation!");
return b}},function(d,b,a){var i=a(23),l=a(63),f=a(64),n=a(12),t=a(25),v=a(66),q={},j={},d=d.exports=function(a,b,d,h,g){var g=g?function(){return a}:v(a),d=i(d,h,b?2:1),h=0,c,e;if("function"!=typeof g)throw TypeError(a+" is not iterable!");if(f(g))for(c=t(a.length);c>h;h++){if(g=b?d(n(e=a[h])[0],e[1]):d(a[h]),g===q||g===j)return g}else for(h=g.call(a);!(e=h.next()).done;)if(g=l(h,d,e.value,b),g===q||g===j)return g};d.BREAK=q;d.RETURN=j},function(d,b,a){var i=a(12),l=a(24),f=a(30)("species");d.exports=
function(a,b){var d=i(a).constructor,q;return void 0===d||void 0==(q=i(d)[f])?b:l(q)}},function(d,b,a){var i=a(23),l=a(91),f=a(58),n=a(17),t=a(8),v=t.process,b=t.setImmediate,q=t.clearImmediate,j=t.MessageChannel,x=t.Dispatch,u=0,s={},h,g=function(){var a=+this;if(s.hasOwnProperty(a)){var c=s[a];delete s[a];c()}},c=function(a){g.call(a.data)};if(!b||!q)b=function(a){for(var c=[],g=1;arguments.length>g;)c.push(arguments[g++]);s[++u]=function(){l("function"==typeof a?a:Function(a),c)};h(u);return u},
q=function(a){delete s[a]},"process"==a(29)(v)?h=function(a){v.nextTick(i(g,a,1))}:x&&x.now?h=function(a){x.now(i(g,a,1))}:j?(a=new j,j=a.port2,a.port1.onmessage=c,h=i(j.postMessage,j,1)):t.addEventListener&&"function"==typeof postMessage&&!t.importScripts?(h=function(a){t.postMessage(a+"","*")},t.addEventListener("message",c,!1)):h="onreadystatechange"in n("script")?function(a){f.appendChild(n("script")).onreadystatechange=function(){f.removeChild(this);g.call(a)}}:function(a){setTimeout(i(g,a,1),
0)};d.exports={set:b,clear:q}},function(d){d.exports=function(b,a,d){var l=void 0===d;switch(a.length){case 0:return l?b():b.call(d);case 1:return l?b(a[0]):b.call(d,a[0]);case 2:return l?b(a[0],a[1]):b.call(d,a[0],a[1]);case 3:return l?b(a[0],a[1],a[2]):b.call(d,a[0],a[1],a[2]);case 4:return l?b(a[0],a[1],a[2],a[3]):b.call(d,a[0],a[1],a[2],a[3])}return b.apply(d,a)}},function(d,b,a){var i=a(8),l=a(90).set,f=i.MutationObserver||i.WebKitMutationObserver,n=i.process,t=i.Promise,v="process"==a(29)(n);
d.exports=function(){var a,b,d,u=function(){var c,e;for(v&&(c=n.domain)&&c.exit();a;){e=a.fn;a=a.next;try{e()}catch(g){throw a?d():b=void 0,g;}}b=void 0;c&&c.enter()};if(v)d=function(){n.nextTick(u)};else if(f&&(!i.navigator||!i.navigator.standalone)){var s=!0,h=document.createTextNode("");(new f(u)).observe(h,{characterData:!0});d=function(){h.data=s=!s}}else if(t&&t.resolve){var g=t.resolve(void 0);d=function(){g.then(u)}}else d=function(){l.call(i,u)};return function(c){c={fn:c,next:void 0};b&&
(b.next=c);a||(a=c,d());b=c}}},function(d,b,a){function i(a){var b,d;this.promise=new a(function(a,f){if(void 0!==b||void 0!==d)throw TypeError("Bad Promise constructor");b=a;d=f});this.resolve=l(b);this.reject=l(d)}var l=a(24);d.exports.f=function(a){return new i(a)}},function(d){d.exports=function(b){try{return{e:!1,v:b()}}catch(a){return{e:!0,v:a}}}},function(d,b,a){b=a(8).navigator;d.exports=b&&b.userAgent||""},function(d,b,a){var i=a(12),l=a(13),f=a(93);d.exports=function(a,b){i(a);if(l(b)&&
b.constructor===a)return b;var d=f.f(a),q=d.resolve;q(b);return d.promise}},function(d,b,a){var i=a(20);d.exports=function(a,b,d){for(var t in b)i(a,t,b[t],d);return a}},function(d,b,a){var i=a(8),l=a(11),f=a(15),n=a(30)("species");d.exports=function(a){a=i[a];f&&(a&&!a[n])&&l.f(a,n,{configurable:!0,get:function(){return this}})}},function(d,b,a){var d=a(7),i=a(9),l=a(8),f=a(89),n=a(96);d(d.P+d.R,"Promise",{"finally":function(a){var b=f(this,i.Promise||l.Promise),d="function"==typeof a;return this.then(d?
function(d){return n(b,a()).then(function(){return d})}:a,d?function(d){return n(b,a()).then(function(){throw d;})}:a)}})},function(d,b,a){var d=a(7),i=a(93),l=a(94);d(d.S,"Promise",{"try":function(a){var b=i.f(this),a=l(a);(a.e?b.reject:b.resolve)(a.v);return b.promise}})},function(d,b,a){a(82);a(83);a(102);a(114);a(116);d.exports=a(9).WeakMap},function(d,b,a){var b=a(103)(0),i=a(20),l=a(107),f=a(71),n=a(108),t=a(13),v=a(16),q=a(109),j=l.getWeak,x=Object.isExtensible,u=n.ufstore,s={},h,g=function(a){return function(){return a(this,
0<arguments.length?arguments[0]:void 0)}},c={get:function(a){if(t(a)){var c=j(a);return!0===c?u(q(this,"WeakMap")).get(a):c?c[this._i]:void 0}},set:function(a,c){return n.def(q(this,"WeakMap"),a,c)}},e=d.exports=a(110)("WeakMap",g,c,n,!0,!0);v(function(){return 7!=(new e).set((Object.freeze||Object)(s),7).get(s)})&&(h=n.getConstructor(g,"WeakMap"),f(h.prototype,c),l.NEED=!0,b(["delete","has","get","set"],function(a){var c=e.prototype,g=c[a];i(c,a,function(c,e){if(t(c)&&!x(c)){this._f||(this._f=new h);
var b=this._f[a](c,e);return"set"==a?this:b}return g.call(this,c,e)})}))},function(d,b,a){var i=a(23),l=a(43),f=a(61),n=a(25),t=a(104);d.exports=function(a,b){var d=1==a,x=2==a,u=3==a,s=4==a,h=6==a,g=5==a||h,c=b||t;return function(e,k,b){for(var o=f(e),m=l(o),k=i(k,b,3),b=n(m.length),p=0,e=d?c(e,b):x?c(e,0):void 0,t,z;b>p;p++)if(g||p in m)if(t=m[p],z=k(t,p,o),a)if(d)e[p]=z;else if(z)switch(a){case 3:return!0;case 5:return t;case 6:return p;case 2:e.push(t)}else if(s)return!1;return h?-1:u||s?s:e}}},
function(d,b,a){var i=a(105);d.exports=function(a,b){return new (i(a))(b)}},function(d,b,a){var i=a(13),l=a(106),f=a(30)("species");d.exports=function(a){var b;if(l(a)){b=a.constructor;if("function"==typeof b&&(b===Array||l(b.prototype)))b=void 0;i(b)&&(b=b[f],null===b&&(b=void 0))}return void 0===b?Array:b}},function(d,b,a){var i=a(29);d.exports=Array.isArray||function(a){return"Array"==i(a)}},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(22)("meta"),f=a(13),n=a(21),t=a(11).f,v=0,q=Object.isExtensible||function(){return!0},j=!a(16)(function(){return q(Object.preventExtensions({}))}),x=function(a){t(a,l,{value:{i:"O"+ ++v,w:{}}})},u=d.exports={KEY:l,NEED:!1,fastKey:function(a,b){if(!f(a))return"symbol"==i(a)?a:("string"==typeof a?"S":"P")+a;if(!n(a,l)){if(!q(a))return"F";if(!b)return"E";x(a)}return a[l].i},
getWeak:function(a,b){if(!n(a,l)){if(!q(a))return!0;if(!b)return!1;x(a)}return a[l].w},onFreeze:function(a){j&&(u.NEED&&q(a)&&!n(a,l))&&x(a);return a}}},function(d,b,a){var i=a(97),l=a(107).getWeak,f=a(12),n=a(13),t=a(87),v=a(88),b=a(103),q=a(21),j=a(109),x=b(5),u=b(6),s=0,h=function(a){return a._l||(a._l=new g)},g=function(){this.a=[]},c=function(a,c){return x(a.a,function(a){return a[0]===c})};g.prototype={get:function(a){if(a=c(this,a))return a[1]},has:function(a){return!!c(this,a)},set:function(a,
g){var b=c(this,a);b?b[1]=g:this.a.push([a,g])},"delete":function(a){var c=u(this.a,function(c){return c[0]===a});~c&&this.a.splice(c,1);return!!~c}};d.exports={getConstructor:function(a,c,g,b){var d=a(function(a,e){t(a,d,c,"_i");a._t=c;a._i=s++;a._l=void 0;void 0!=e&&v(e,g,a[b],a)});i(d.prototype,{"delete":function(a){if(!n(a))return!1;var e=l(a);return!0===e?h(j(this,c))["delete"](a):e&&q(e,this._i)&&delete e[this._i]},has:function(a){if(!n(a))return!1;var e=l(a);return!0===e?h(j(this,c)).has(a):
e&&q(e,this._i)}});return d},def:function(a,c,g){var b=l(f(c),!0);!0===b?h(a).set(c,g):b[a._i]=g;return a},ufstore:h}},function(d,b,a){var i=a(13);d.exports=function(a,b){if(!i(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(d,b,a){var i=a(8),l=a(7),f=a(20),n=a(97),t=a(107),v=a(88),q=a(87),j=a(13),x=a(16),u=a(68),s=a(59),h=a(111);d.exports=function(a,c,e,b,d,o){var m=i[a],p=m,r=d?"set":"add",z=p&&p.prototype,C={},J=function(a){var c=z[a];f(z,a,"delete"==
a?function(a){return o&&!j(a)?!1:c.call(this,0===a?0:a)}:"has"==a?function(a){return o&&!j(a)?!1:c.call(this,0===a?0:a)}:"get"==a?function(a){return o&&!j(a)?void 0:c.call(this,0===a?0:a)}:"add"==a?function(a){c.call(this,0===a?0:a);return this}:function(a,e){c.call(this,0===a?0:a,e);return this})};if("function"!=typeof p||!(o||z.forEach&&!x(function(){(new p).entries().next()})))p=b.getConstructor(c,a,d,r),n(p.prototype,e),t.NEED=!0;else{var G=new p,e=G[r](o?{}:-0.0,1)!=G,H=x(function(){G.has(1)}),
B=u(function(a){new p(a)}),y=!o&&x(function(){for(var a=new p,c=5;c--;)a[r](c,c);return!a.has(-0.0)});B||(p=c(function(c,e){q(c,p,a);var b=h(new m,c,p);void 0!=e&&v(e,d,b[r],b);return b}),p.prototype=z,z.constructor=p);if(H||y)J("delete"),J("has"),d&&J("get");(y||e)&&J(r);o&&z.clear&&delete z.clear}s(p,a);C[a]=p;l(l.G+l.W+l.F*(p!=m),C);o||b.setStrong(p,a,d);return p}},function(d,b,a){var i=a(13),l=a(112).set;d.exports=function(a,b,d){var b=b.constructor,v;b!==d&&("function"==typeof b&&(v=b.prototype)!==
d.prototype&&i(v)&&l)&&l(a,v);return a}},function(d,b,a){var i=a(13),l=a(12),f=function(a,b){l(a);if(!i(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};d.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,d,l){try{l=a(23)(Function.call,a(113).f(Object.prototype,"__proto__").set,2),l(b,[]),d=!(b instanceof Array)}catch(i){d=!0}return function(a,b){f(a,b);d?a.__proto__=b:l(a,b);return a}}({},!1):void 0),check:f}},function(d,b,a){var i=a(73),l=a(19),f=a(42),n=a(18),t=a(21),
v=a(14),q=Object.getOwnPropertyDescriptor;b.f=a(15)?q:function(a,b){a=f(a);b=n(b,!0);if(v)try{return q(a,b)}catch(d){}if(t(a,b))return l(!i.f.call(a,b),a[b])}},function(d,b,a){a(115)("WeakMap")},function(d,b,a){var i=a(7);d.exports=function(a){i(i.S,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(d,b,a){a(117)("WeakMap")},function(d,b,a){var i=a(7),l=a(24),f=a(23),n=a(88);d.exports=function(a){i(i.S,a,{from:function(a,b,d){var x,u,s,h;
l(this);(x=void 0!==b)&&l(b);if(void 0==a)return new this;u=[];x?(s=0,h=f(b,d,2),n(a,!1,function(a){u.push(h(a,s++))})):n(a,!1,u.push,u);return new this(u)}})}},function(d,b,a){a(82);a(83);a(119);a(120);a(121);d.exports=a(9).WeakSet},function(d,b,a){var i=a(108),l=a(109);a(110)("WeakSet",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return i.def(l(this,"WeakSet"),a,!0)}},i,!1,!0)},function(d,b,a){a(115)("WeakSet")},function(d,b,a){a(117)("WeakSet")},
function(d,b,a){a(123);d.exports=a(9).String.codePointAt},function(d,b,a){var d=a(7),i=a(48)(!1);d(d.P,"String",{codePointAt:function(a){return i(this,a)}})},function(d,b,a){a(125);d.exports=a(9).String.fromCodePoint},function(d,b,a){var d=a(7),i=a(44),l=String.fromCharCode,a=String.fromCodePoint;d(d.S+d.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var b=[],d=arguments.length,v=0,q;d>v;){q=+arguments[v++];if(i(q,1114111)!==q)throw RangeError(q+" is not a valid code point");b.push(65536>
q?l(q):l(((q-=65536)>>10)+55296,q%1024+56320))}return b.join("")}})},function(d,b,a){a(127);a(82);d.exports=a(9).Symbol},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var d=a(8),l=a(21),f=a(15),b=a(7),n=a(20),t=a(107).KEY,v=a(16),q=a(31),j=a(59),x=a(22),u=a(30),s=a(128),h=a(129),g=a(130),c=a(106),
e=a(12),k=a(13),w=a(42),o=a(18),m=a(19),p=a(52),r=a(131),z=a(113),C=a(11),J=a(54),G=z.f,H=C.f,B=r.f,y=d.Symbol,E=d.JSON,I=E&&E.stringify,A=u("_hidden"),M=u("toPrimitive"),L={}.propertyIsEnumerable,O=q("symbol-registry"),P=q("symbols"),N=q("op-symbols"),R=Object.prototype,q="function"==typeof y,V=d.QObject,K=!V||!V.prototype||!V.prototype.findChild,Z=f&&v(function(){return 7!=p(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a})?function(a,c,e){var b=G(R,c);b&&delete R[c];H(a,c,e);b&&a!==
R&&H(R,c,b)}:H,$=function(a){var c=P[a]=p(y.prototype);c._k=a;return c},Y=q&&"symbol"==i(y.iterator)?function(a){return"symbol"==i(a)}:function(a){return a instanceof y},U=function(a,c,b){a===R&&U(N,c,b);e(a);c=o(c,!0);e(b);return l(P,c)?(b.enumerable?(l(a,A)&&a[A][c]&&(a[A][c]=!1),b=p(b,{enumerable:m(0,!1)})):(l(a,A)||H(a,A,m(1,{})),a[A][c]=!0),Z(a,c,b)):H(a,c,b)},T=function(a,c){e(a);for(var b=g(c=w(c)),k=0,h=b.length,d;h>k;)U(a,d=b[k++],c[d]);return a},X=function(a){var c=L.call(this,a=o(a,!0));
return this===R&&l(P,a)&&!l(N,a)?!1:c||!l(this,a)||!l(P,a)||l(this,A)&&this[A][a]?c:!0},V=function(a,c){a=w(a);c=o(c,!0);if(!(a===R&&l(P,c)&&!l(N,c))){var e=G(a,c);if(e&&l(P,c)&&(!l(a,A)||!a[A][c]))e.enumerable=!0;return e}},Q=function(a){for(var a=B(w(a)),c=[],e=0,b;a.length>e;)!l(P,b=a[e++])&&(b!=A&&b!=t)&&c.push(b);return c},W=function(a){for(var c=a===R,a=B(c?N:w(a)),e=[],b=0,g;a.length>b;)l(P,g=a[b++])&&(c?l(R,g):1)&&e.push(P[g]);return e};q||(y=function(){if(this instanceof y)throw TypeError("Symbol is not a constructor!");
var a=x(0<arguments.length?arguments[0]:void 0),c=function aa(c){this===R&&aa.call(N,c);l(this,A)&&l(this[A],a)&&(this[A][a]=!1);Z(this,a,m(1,c))};f&&K&&Z(R,a,{configurable:!0,set:c});return $(a)},n(y.prototype,"toString",function(){return this._k}),z.f=V,C.f=U,a(132).f=r.f=Q,a(73).f=X,a(72).f=W,f&&!a(32)&&n(R,"propertyIsEnumerable",X,!0),s.f=function(a){return $(u(a))});b(b.G+b.W+b.F*!q,{Symbol:y});n="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");
for(s=0;n.length>s;)u(n[s++]);J=J(u.store);for(n=0;J.length>n;)h(J[n++]);b(b.S+b.F*!q,"Symbol",{"for":function(a){return l(O,a=a+"")?O[a]:O[a]=y(a)},keyFor:function(a){if(!Y(a))throw TypeError(a+" is not a symbol!");for(var c in O)if(O[c]===a)return c},useSetter:function(){K=true},useSimple:function(){K=false}});b(b.S+b.F*!q,"Object",{create:function(a,c){return c===void 0?p(a):T(p(a),c)},defineProperty:U,defineProperties:T,getOwnPropertyDescriptor:V,getOwnPropertyNames:Q,getOwnPropertySymbols:W});
E&&b(b.S+b.F*(!q||v(function(){var a=y();return I([a])!="[null]"||I({a:a})!="{}"||I(Object(a))!="{}"})),"JSON",{stringify:function(a){for(var e=[a],b=1,g;arguments.length>b;)e.push(arguments[b++]);g=b=e[1];if(!(!k(b)&&a===void 0||Y(a))){c(b)||(b=function(a,c){typeof g=="function"&&(c=g.call(this,a,c));if(!Y(c))return c});e[1]=b;return I.apply(E,e)}}});y.prototype[M]||a(10)(y.prototype,M,y.prototype.valueOf);j(y,"Symbol");j(Math,"Math",!0);j(d.JSON,"JSON",!0)},function(d,b,a){b.f=a(30)},function(d,
b,a){var i=a(8),l=a(9),f=a(32),n=a(128),t=a(11).f;d.exports=function(a){var b=l.Symbol||(l.Symbol=f?{}:i.Symbol||{});"_"!=a.charAt(0)&&!(a in b)&&t(b,a,{value:n.f(a)})}},function(d,b,a){var i=a(54),l=a(72),f=a(73);d.exports=function(a){var b=i(a),d=l.f;if(d)for(var d=d(a),q=f.f,j=0,x;d.length>j;)q.call(a,x=d[j++])&&b.push(x);return b}},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(42),f=a(132).f,n={}.toString,t="object"==("undefined"===typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(a){var b;if(t&&"[object Window]"==n.call(a))try{b=f(a)}catch(d){b=t.slice()}else b=f(l(a));return b}},function(d,b,a){var i=a(55),l=a(57).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return i(a,l)}},function(d,
b,a){a(134);d.exports=a(9).String.padStart},function(d,b,a){var d=a(7),i=a(135),a=a(95);d(d.P+d.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0,!0)}})},function(d,b,a){var i=a(25),l=a(136),f=a(33);d.exports=function(a,b,d,q){var a=""+f(a),j=a.length,d=void 0===d?" ":""+d,b=i(b);if(b<=j||""==d)return a;b-=j;j=l.call(d,Math.ceil(b/d.length));j.length>b&&(j=j.slice(0,b));return q?j+a:a+j}},function(d,b,a){var i=a(26),
l=a(33);d.exports=function(a){var b=""+l(this),d="",a=i(a);if(0>a||Infinity==a)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(b+=b))a&1&&(d+=b);return d}},function(d,b,a){a(138);d.exports=a(9).String.padEnd},function(d,b,a){var d=a(7),i=a(135),a=a(95);d(d.P+d.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0,!1)}})},function(d,b,a){a(140);d.exports=a(9).Object.values},function(d,b,a){var d=a(7),i=a(141)(!1);
d(d.S,"Object",{values:function(a){return i(a)}})},function(d,b,a){var i=a(54),l=a(42),f=a(73).f;d.exports=function(a){return function(b){for(var b=l(b),d=i(b),q=d.length,j=0,x=[],u;q>j;)if(f.call(b,u=d[j++]))x.push(a?[u,b[u]]:b[u]);return x}}},function(d,b,a){d=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(i){}b.ReadableStream=d?ReadableStream:a(143).ReadableStream},function(d,b){function a(b){a="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(b)}(function(a,b){for(var d in b)a[d]=b[d]})(b,function(a){function b(n){if(d[n])return d[n].exports;var t=d[n]={i:n,l:!1,exports:{}};a[n].call(t.exports,t,t.exports,b);t.l=!0;return t.exports}var d={};b.m=a;b.c=d;b.i=function(a){return a};b.d=function(a,d,f){b.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,
get:f})};b.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(d,"a",d);return d};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=7)}([function(b,d,f){function n(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":v(a))}function t(a,b,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,d)}var v="function"===typeof Symbol&&"symbol"===
a(Symbol.iterator)?function(b){return a(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)},q=f(1).assert;d.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":v(a))&&null!==a||"function"===typeof a};d.createDataProperty=function(a,b,f){q(d.typeIsObject(a));Object.defineProperty(a,b,{value:f,writable:!0,enumerable:!0,configurable:!0})};d.createArrayFromList=function(a){return a.slice()};d.ArrayBufferCopy=function(a,
b,d,f,h){(new Uint8Array(a)).set(new Uint8Array(d,f,h),b)};d.CreateIterResultObject=function(a,b){q("boolean"===typeof b);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return d};d.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};d.InvokeOrNoop=function(a,b,d){q(void 0!==a);q(n(b));q(Array.isArray(d));b=a[b];return void 0===b?void 0:
t(b,a,d)};d.PromiseInvokeOrNoop=function(a,b,f){q(void 0!==a);q(n(b));q(Array.isArray(f));try{return Promise.resolve(d.InvokeOrNoop(a,b,f))}catch(s){return Promise.reject(s)}};d.PromiseInvokeOrPerformFallback=function(a,b,d,f,h){q(void 0!==a);q(n(b));q(Array.isArray(d));q(Array.isArray(h));var g=void 0;try{g=a[b]}catch(c){return Promise.reject(c)}if(void 0===g)return f.apply(null,h);try{return Promise.resolve(t(g,a,d))}catch(e){return Promise.reject(e)}};d.TransferArrayBuffer=function(a){return a.slice()};
d.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};d.ValidateAndNormalizeQueuingStrategy=function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=d.ValidateAndNormalizeHighWaterMark(b);return{size:a,highWaterMark:b}}},function(a){function b(a){this.name="AssertionError";this.message=
a||"";this.stack=Error().stack}b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===b&&setTimeout(function(){throw a;},0)},AssertionError:b,assert:function(a,d){if(!a)throw new b(d);}}},function(a,b,d){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function t(a){return new pa(a)}function v(a){return!W(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?
!1:!0}function q(a){D(!0===v(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function j(a,c){var e=a._state;if("closed"===e)return Promise.resolve(void 0);if("errored"===e)return Promise.reject(a._storedError);var b=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(b);D("writable"===e||"erroring"===e,"state must be writable or erroring");var g=!1;"erroring"===e&&(g=!0,c=void 0);e=new Promise(function(e,
b){a._pendingAbortRequest={_resolve:e,_reject:b,_reason:c,_wasAlreadyErroring:g}});!1===g&&s(a,b);return e}function x(a){D(!0===q(a));D("writable"===a._state);return new Promise(function(c,e){a._writeRequests.push({_resolve:c,_reject:e})})}function u(a,c){var e=a._state;"writable"===e?s(a,c):(D("erroring"===e),h(a))}function s(a,e){D(void 0===a._storedError,"stream._storedError === undefined");D("writable"===a._state,"state must be writable");var b=a._writableStreamController;D(void 0!==b,"controller must not be undefined");
a._state="erroring";a._storedError=e;var g=a._writer;void 0!==g&&z(g,e);!1===c(a)&&!0===b._started&&h(a)}function h(a){D("erroring"===a._state,"stream._state === erroring");D(!1===c(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var e=a._storedError,b=0;b<a._writeRequests.length;b++)a._writeRequests[b]._reject(e);a._writeRequests=[];if(void 0===a._pendingAbortRequest)w(a);else{var g=a._pendingAbortRequest;a._pendingAbortRequest=
void 0;!0===g._wasAlreadyErroring?(g._reject(e),w(a)):a._writableStreamController.__abortSteps(g._reason).then(function(){g._resolve();w(a)},function(c){g._reject(c);w(a)})}}function g(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function c(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function e(a){D(void 0===a._inFlightCloseRequest);D(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function k(a){D(void 0===
a._inFlightWriteRequest,"there must be no pending write request");D(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function w(a){D("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(D(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=a._writer;void 0!==c&&(O(c,a._storedError),c._closedPromise.catch(function(){}))}function o(a,c){D("writable"===a._state);
D(!1===g(a));var e=a._writer;void 0!==e&&c!==a._backpressure&&(!0===c?Z(e):(D(!1===c),Y(e)));a._backpressure=c}function m(a){return!W(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function p(a){var c=a._ownerWritableStream;D(void 0!==c);var e=c._state;if("closed"===e||"errored"===e)return Promise.reject(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));D("writable"===e||"erroring"===e);D(!1===g(c));var b=new Promise(function(a,
e){c._closeRequest={_resolve:a,_reject:e}});!0===c._backpressure&&"writable"===e&&Y(a);G(c._writableStreamController);return b}function r(a,c){"pending"===a._closedPromiseState?O(a,c):P(a,c);a._closedPromise.catch(function(){})}function z(a,c){"pending"===a._readyPromiseState?K(a,c):$(a,c);a._readyPromise.catch(function(){})}function C(a){var c=a._ownerWritableStream;D(void 0!==c);D(c._writer===a);var e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
z(a,e);r(a,e);c._writer=void 0;a._ownerWritableStream=void 0}function J(a,c){var e=a._ownerWritableStream;D(void 0!==e);var b=e._writableStreamController,k;var d=b._strategySize;if(void 0===d)k=1;else try{k=d(c)}catch(h){"writable"===b._controlledWritableStream._state&&E(b,h),k=1}if(e!==a._ownerWritableStream)return Promise.reject(M("write to"));d=e._state;if("errored"===d)return Promise.reject(e._storedError);if(!0===g(e)||"closed"===d)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===d)return Promise.reject(e._storedError);D("writable"===d);e=x(e);a:{d={chunk:c};try{aa(b,d,k)}catch(f){"writable"===b._controlledWritableStream._state&&E(b,f);break a}k=b._controlledWritableStream;!1===g(k)&&"writable"===k._state&&o(k,0>=b._strategyHWM-b._queueTotalSize);H(b)}return e}function G(a){aa(a,"close",0);H(a)}function H(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var e=c._state;"closed"===e||"errored"===e||("erroring"===e?h(c):
0!==a._queue.length&&(c=fa(a),"close"===c?B(a):y(a,c.chunk)))}}function B(a){var c=a._controlledWritableStream;e(c);ca(a);D(0===a._queue.length,"queue must be empty once the final write record is dequeued");X(a._underlyingSink,"close",[]).then(function(){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;D("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),
c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");D(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
D(void 0===c._storedError,"stream._storedError === undefined")},function(a){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;D("writable"===c._state||"erroring"===c._state);void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);u(c,a)}).catch(S)}function y(a,c){var e=a._controlledWritableStream;k(e);X(a._underlyingSink,"write",[c,a]).then(function(){D(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._resolve(void 0);
e._inFlightWriteRequest=void 0;var c=e._state;D("writable"===c||"erroring"===c);ca(a);!1===g(e)&&"writable"===c&&o(e,0>=a._strategyHWM-a._queueTotalSize);H(a)},function(a){D(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._reject(a);e._inFlightWriteRequest=void 0;D("writable"===e._state||"erroring"===e._state);u(e,a)}).catch(S)}function E(a,c){var e=a._controlledWritableStream;D("writable"===e._state);s(e,c)}function I(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function A(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function M(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function L(a){a._closedPromise=new Promise(function(c,e){a._closedPromise_resolve=c;a._closedPromise_reject=e;a._closedPromiseState="pending"})}function O(a,c){D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function P(a,c){D(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");D(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");D("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState=
"rejected"}function N(a){a._readyPromise=new Promise(function(c,e){a._readyPromise_resolve=c;a._readyPromise_reject=e});a._readyPromiseState="pending"}function R(a,c){a._readyPromise=Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function V(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function K(a,c){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Z(a){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,e){a._readyPromise_resolve=c;a._readyPromise_reject=e});a._readyPromiseState="pending"}function $(a,
c){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function Y(a){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var U=function(){function a(c,e){for(var b=0;b<e.length;b++){var g=e[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),b=d(0),T=b.InvokeOrNoop,X=b.PromiseInvokeOrNoop,Q=b.ValidateAndNormalizeQueuingStrategy,W=b.typeIsObject,b=d(1),D=b.assert,S=b.rethrowAssertionErrorRejection,d=d(3),ca=d.DequeueValue,aa=d.EnqueueValueWithSize,fa=d.PeekQueueValue,ka=d.ResetQueue,
d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.size,e=e.highWaterMark,e=void 0===e?1:e;n(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==c.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,c,b,e);this._writableStreamController.__startSteps()}U(a,[{key:"abort",value:function(a){return!1===v(this)?Promise.reject(I("abort")):!0===q(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):j(this,a)}},{key:"getWriter",value:function(){if(!1===v(this))throw I("getWriter");return t(this)}},{key:"locked",get:function(){if(!1===v(this))throw I("locked");return q(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:t,
IsWritableStream:v,IsWritableStreamLocked:q,WritableStream:d,WritableStreamAbort:j,WritableStreamDefaultControllerError:E,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var c=a._ownerWritableStream;D(void 0!==c);var e=c._state;if(!0===g(c)||"closed"===e)return Promise.resolve();if("errored"===e)return Promise.reject(c._storedError);D("writable"===e||"erroring"===e);return p(a)},WritableStreamDefaultWriterRelease:C,WritableStreamDefaultWriterWrite:J,WritableStreamCloseQueuedOrInFlight:g};
var pa=function(){function a(c){n(this,a);if(!1===v(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===q(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=c;c._writer=this;var e=c._state;"writable"===e?(!1===g(c)&&!0===c._backpressure?N(this):V(this),L(this)):"erroring"===e?(R(this,c._storedError),this._readyPromise.catch(function(){}),L(this)):"closed"===
e?(V(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(D("errored"===e,"state must be errored"),c=c._storedError,R(this,c),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}U(a,[{key:"abort",value:function(a){if(!1===m(this))return Promise.reject(A("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(M("abort"));var c=this._ownerWritableStream;D(void 0!==c);return j(c,a)}},{key:"close",value:function(){if(!1===m(this))return Promise.reject(A("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(M("close")):!0===g(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):p(this)}},{key:"releaseLock",value:function(){if(!1===m(this))throw A("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(D(void 0!==a._writer),C(this))}},{key:"write",value:function(a){return!1===m(this)?Promise.reject(A("write")):void 0===this._ownerWritableStream?Promise.reject(M("write to")):J(this,a)}},{key:"closed",get:function(){return!1===m(this)?Promise.reject(A("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===m(this))throw A("desiredSize");if(void 0===this._ownerWritableStream)throw M("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?
null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===m(this)?Promise.reject(A("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,e,b,g){n(this,a);if(!1===v(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=c;this._underlyingSink=e;this._queueTotalSize=this._queue=void 0;ka(this);this._started=!1;e=Q(b,g);this._strategySize=e.size;this._strategyHWM=e.highWaterMark;o(c,0>=this._strategyHWM-this._queueTotalSize)}U(a,[{key:"error",value:function(a){var c;c=W(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&E(this,a)}},{key:"__abortSteps",value:function(a){return X(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ka(this)}},{key:"__startSteps",value:function(){var a=this,c=T(this._underlyingSink,"start",[this]),e=this._controlledWritableStream;Promise.resolve(c).then(function(){D("writable"===e._state||"erroring"===e._state);a._started=!0;H(a)},function(c){D("writable"===e._state||"erroring"===e._state);a._started=!0;u(e,c)}).catch(S)}}]);
return a}()},function(a,b,d){var n=d(0).IsFiniteNonNegativeNumber,t=d(1).assert;b.DequeueValue=function(a){t("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");t(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();a._queueTotalSize-=b.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return b.value};b.EnqueueValueWithSize=function(a,b,d){t("_queue"in a&&
"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");d=Number(d);if(!n(d))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:d});a._queueTotalSize+=d};b.PeekQueueValue=function(a){t("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");t(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");
return a._queue[0].value};b.ResetQueue=function(a){t("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=0}},function(a,b,d){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function t(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function v(a){F(!0===t(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function q(a,c){F(!0===t(a));F("boolean"===typeof c);var e=new ra(a),b={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};b.promise=new Promise(function(a){b._resolve=a});var g=j();g._reader=e;g._teeState=b;g._cloneForBranch2=c;var d=x();d._stream=a;d._teeState=b;var k=u();k._stream=a;k._teeState=b;var h=Object.create(Object.prototype);na(h,"pull",g);na(h,"cancel",d);d=new sa(h);h=Object.create(Object.prototype);na(h,"pull",g);na(h,"cancel",
k);k=new sa(h);g._branch1=d._readableStreamController;g._branch2=k._readableStreamController;e._closedPromise.catch(function(a){!0!==b.closedOrErrored&&(I(g._branch1,a),I(g._branch2,a),b.closedOrErrored=!0)});return[d,k]}function j(){function a(){var c=a._branch1,e=a._branch2,b=a._teeState;return J(a._reader).then(function(a){F(ea(a));var g=a.value,a=a.done;F("boolean"===typeof a);!0===a&&!1===b.closedOrErrored&&(!1===b.canceled1&&y(c),!1===b.canceled2&&y(e),b.closedOrErrored=!0);!0!==b.closedOrErrored&&
(!1===b.canceled1&&E(c,g),!1===b.canceled2&&E(e,g))})}return a}function x(){function a(c){var e=a._stream,b=a._teeState;b.canceled1=!0;b.reason1=c;!0===b.canceled2&&(c=ta([b.reason1,b.reason2]),e=g(e,c),b._resolve(e));return b.promise}return a}function u(){function a(c){var e=a._stream,b=a._teeState;b.canceled2=!0;b.reason2=c;!0===b.canceled1&&(c=ta([b.reason1,b.reason2]),e=g(e,c),b._resolve(e));return b.promise}return a}function s(a){F(!0===m(a._reader));F("readable"===a._state||"closed"===a._state);
return new Promise(function(c,e){a._reader._readIntoRequests.push({_resolve:c,_reject:e})})}function h(a){F(!0===p(a._reader));F("readable"===a._state);return new Promise(function(c,e){a._reader._readRequests.push({_resolve:c,_reject:e})})}function g(a,e){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);c(a);return a._readableStreamController.__cancelSteps(e).then(function(){})}function c(a){F("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===p(a)){for(var c=0;c<a._readRequests.length;c++){var e=a._readRequests[c]._resolve;e(da(void 0,!0))}a._readRequests=[]}F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function e(a,c){F(!0===t(a),"stream must be ReadableStream");F("readable"===a._state,"state must be readable");a._state="errored";a._storedError=c;var e=a._reader;
if(void 0!==e){if(!0===p(e)){for(var b=0;b<e._readRequests.length;b++)e._readRequests[b]._reject(c);e._readRequests=[]}else{F(m(e),"reader must be ReadableStreamBYOBReader");for(b=0;b<e._readIntoRequests.length;b++)e._readIntoRequests[b]._reject(c);e._readIntoRequests=[]}va(e,c);e._closedPromise.catch(function(){})}}function k(a,c,e){a=a._reader;F(0<a._readRequests.length);a._readRequests.shift()._resolve(da(c,e))}function w(a){a=a._reader;return void 0===a||!1===m(a)?!1:!0}function o(a){a=a._reader;
return void 0===a||!1===p(a)?!1:!0}function m(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function p(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function r(a,c){a._ownerReadableStream=c;c._reader=a;"readable"===c._state?ka(a):"closed"===c._state?qa(a):(F("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise.catch(function(){}))}function z(a,c){var e=a._ownerReadableStream;F(void 0!==e);return g(e,
c)}function C(a){F(void 0!==a._ownerReadableStream);F(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function J(a){a=a._ownerReadableStream;F(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(da(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);F("readable"===a._state);return a._readableStreamController.__pullSteps()}function G(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function H(a){!1!==B(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,H(a)},
function(c){A(a,c)}).catch(ba)))}function B(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===v(c)&&0<c._reader._readRequests.length||0<M(a)?!0:!1}function y(a){var e=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===e._state);a._closeRequested=!0;0===a._queue.length&&c(e)}function E(a,c){var e=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===e._state);if(!0===v(e)&&0<e._reader._readRequests.length)k(e,
c,!1);else{e=1;if(void 0!==a._strategySize){var b=a._strategySize;try{e=b(c)}catch(g){throw A(a,g),g;}}try{Aa(a,c,e)}catch(d){throw A(a,d),d;}}H(a)}function I(a,c){var b=a._controlledReadableStream;F("readable"===b._state);ha(a);e(b,c)}function A(a,c){"readable"===a._controlledReadableStream._state&&I(a,c)}function M(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function L(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function O(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function P(a){!1!==W(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,P(a))},function(c){"readable"===a._controlledReadableStream._state&&D(a,c)}).catch(ba)))}function N(a,c){F("errored"!==a._state,"state must not be errored");
var e=!1;"closed"===a._state&&(F(0===c.bytesFilled),e=!0);var b=R(c);if("default"===c.readerType)k(a,b,e);else{F("byob"===c.readerType);var g=a._reader;F(0<g._readIntoRequests.length);g._readIntoRequests.shift()._resolve(da(b,e))}}function R(a){var c=a.bytesFilled,e=a.elementSize;F(c<=a.byteLength);F(0===c%e);return new a.ctor(a.buffer,a.byteOffset,c/e)}function V(a,c,e,b){a._queue.push({buffer:c,byteOffset:e,byteLength:b});a._queueTotalSize+=b}function K(a,c){var e=c.elementSize,b=c.bytesFilled-
c.bytesFilled%e,g=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),d=c.bytesFilled+g,d=d-d%e,e=!1;d>b&&(g=d-c.bytesFilled,e=!0);for(b=a._queue;0<g;){var d=b[0],k=Math.min(g,d.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,d.buffer,d.byteOffset,k);d.byteLength===k?b.shift():(d.byteOffset+=k,d.byteLength-=k);a._queueTotalSize-=k;Z(a,k,c);g-=k}!1===e&&(F(0===a._queueTotalSize,"queue must be empty"),F(0<c.bytesFilled),F(c.bytesFilled<c.elementSize));return e}function Z(a,c,e){F(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===e);Y(a);e.bytesFilled+=c}function $(a){F("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?c(a._controlledReadableStream):P(a)}function Y(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function U(a){for(F(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];!0===K(a,c)&&(Q(a),N(a._controlledReadableStream,
c))}}function T(a,c){var e=a._controlledReadableStream,b=1;c.constructor!==DataView&&(b=c.constructor.BYTES_PER_ELEMENT);b={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:b,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return b.buffer=ja(b.buffer),a._pendingPullIntos.push(b),s(e);if("closed"===e._state)return e=new c.constructor(b.buffer,b.byteOffset,0),Promise.resolve(da(e,!0));if(0<a._queueTotalSize){if(!0===K(a,b))return e=R(b),
$(a),Promise.resolve(da(e,!1));if(!0===a._closeRequested)return e=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(a,e),Promise.reject(e)}b.buffer=ja(b.buffer);a._pendingPullIntos.push(b);e=s(e);P(a);return e}function X(a,c){var e=a._pendingPullIntos[0],b=a._controlledReadableStream;if("closed"===b._state){if(0!==c)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");e.buffer=ja(e.buffer);F(0===e.bytesFilled,"bytesFilled must be 0");e=a._controlledReadableStream;
if(!0===w(e))for(;0<e._reader._readIntoRequests.length;)b=Q(a),N(e,b)}else{F("readable"===b._state);if(e.bytesFilled+c>e.byteLength)throw new RangeError("bytesWritten out of range");Z(a,c,e);if(!(e.bytesFilled<e.elementSize)){Q(a);b=e.bytesFilled%e.elementSize;if(0<b){var g=e.byteOffset+e.bytesFilled,g=e.buffer.slice(g-b,g);V(a,g,0,g.byteLength)}e.buffer=ja(e.buffer);e.bytesFilled-=b;N(a._controlledReadableStream,e);U(a)}}}function Q(a){var c=a._pendingPullIntos.shift();Y(a);return c}function W(a){var c=
a._controlledReadableStream;return"readable"!==c._state||!0===a._closeRequested||!1===a._started?!1:!0===o(c)&&0<c._reader._readRequests.length||!0===w(c)&&0<c._reader._readIntoRequests.length||0<S(a)?!0:!1}function D(a,c){var b=a._controlledReadableStream;F("readable"===b._state);Y(a);a._pendingPullIntos=[];ha(a);e(b,c)}function S(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function ca(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function aa(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function fa(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ka(a){a._closedPromise=new Promise(function(c,e){a._closedPromise_resolve=c;a._closedPromise_reject=e})}function pa(a,c){a._closedPromise=Promise.reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,c){F(void 0===a._closedPromise_resolve);F(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function la(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function ma(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ia(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(c){}}var ga=function(){function a(c,
e){for(var b=0;b<e.length;b++){var g=e[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),b=d(0),Ba=b.ArrayBufferCopy,da=b.CreateIterResultObject,Ca=b.IsFiniteNonNegativeNumber,xa=b.InvokeOrNoop,oa=b.PromiseInvokeOrNoop,ja=b.TransferArrayBuffer,Da=b.ValidateAndNormalizeQueuingStrategy,Ea=b.ValidateAndNormalizeHighWaterMark,b=d(0),ta=b.createArrayFromList,na=b.createDataProperty,
ea=b.typeIsObject,b=d(1),F=b.assert,ba=b.rethrowAssertionErrorRejection,b=d(3),Fa=b.DequeueValue,Aa=b.EnqueueValueWithSize,ha=b.ResetQueue,d=d(2),Ga=d.AcquireWritableStreamDefaultWriter,Ha=d.IsWritableStream,Ia=d.IsWritableStreamLocked,Ja=d.WritableStreamAbort,Ka=d.WritableStreamDefaultWriterCloseWithErrorPropagation,La=d.WritableStreamDefaultWriterRelease,Ma=d.WritableStreamDefaultWriterWrite,ua=d.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.size,e=e.highWaterMark;n(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var g=c.type;if("bytes"===""+g)void 0===e&&(e=0),this._readableStreamController=new Na(this,c,e);else if(void 0===g)void 0===e&&(e=1),this._readableStreamController=new Oa(this,c,b,e);else throw new RangeError("Invalid type is specified");}ga(a,[{key:"cancel",value:function(a){return!1===
t(this)?Promise.reject(ca("cancel")):!0===v(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):g(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===t(this))throw ca("getReader");if(void 0===a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var e=a.readable,b=this.pipeTo(a.writable,c);za(b);
return e}},{key:"pipeTo",value:function(a){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.preventClose,d=e.preventAbort,k=e.preventCancel;if(!1===t(this))return Promise.reject(ca("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));b=Boolean(b);d=Boolean(d);k=Boolean(k);if(!0===v(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var h=new ra(this),f=Ga(a),w=!1,m=Promise.resolve();return new Promise(function(e,j){function s(){m=Promise.resolve();return!0===w?Promise.resolve():f._readyPromise.then(function(){return J(h).then(function(a){var c=a.value;!0!==a.done&&(m=Ma(f,c).catch(function(){}))})}).then(s)}function z(){var a=m;return m.then(function(){return a!==m?z():void 0})}function o(a,c,e){"errored"===
a._state?e(a._storedError):c.catch(e).catch(ba)}function x(c,e,b){function g(){c().then(function(){return u(e,b)},function(a){return u(!0,a)}).catch(ba)}!0!==w&&(w=!0,"writable"===a._state&&!1===ua(a)?z().then(g):g())}function p(c,e){!0!==w&&(w=!0,"writable"===a._state&&!1===ua(a)?z().then(function(){return u(c,e)}).catch(ba):u(c,e))}function u(a,c){La(f);C(h);a?j(c):e(void 0)}o(c,h._closedPromise,function(c){!1===d?x(function(){return Ja(a,c)},!0,c):p(!0,c)});o(a,f._closedPromise,function(a){!1===
k?x(function(){return g(c,a)},!0,a):p(!0,a)});(function(a,c,e){"closed"===a._state?e():c.then(e).catch(ba)})(c,h._closedPromise,function(){!1===b?x(function(){return Ka(f)}):p()});if(!0===ua(a)||"closed"===a._state){var i=new TypeError("the destination writable stream closed before all data could be piped to it");!1===k?x(function(){return g(c,i)},!0,i):p(!0,i)}s().catch(function(a){m=Promise.resolve();ba(a)})})}},{key:"tee",value:function(){if(!1===t(this))throw ca("tee");var a=q(this,!1);return ta(a)}},
{key:"locked",get:function(){if(!1===t(this))throw ca("locked");return v(this)}}]);return a}();a.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){F(!0===t(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:y,ReadableStreamDefaultControllerEnqueue:E,ReadableStreamDefaultControllerError:I,ReadableStreamDefaultControllerGetDesiredSize:M};var ra=function(){function a(c){n(this,a);if(!1===t(c))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===v(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");r(this,c);this._readRequests=[]}ga(a,[{key:"cancel",value:function(a){return!1===p(this)?Promise.reject(fa("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):z(this,a)}},{key:"read",value:function(){return!1===p(this)?Promise.reject(fa("read")):void 0===this._ownerReadableStream?Promise.reject(aa("read from")):J(this)}},{key:"releaseLock",value:function(){if(!1===
p(this))throw fa("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return!1===p(this)?Promise.reject(fa("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(c){n(this,a);if(!t(c))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===L(c._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(v(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");r(this,c);this._readIntoRequests=[]}ga(a,[{key:"cancel",value:function(a){return!m(this)?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):z(this,a)}},{key:"read",value:function(a){if(!m(this))return Promise.reject(la("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(aa("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var c=this._ownerReadableStream;F(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):T(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!m(this))throw la("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return!m(this)?Promise.reject(la("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(c,e,b,g){n(this,a);if(!1===t(c))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==c._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=c;this._underlyingSource=e;this._queueTotalSize=this._queue=void 0;ha(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;c=Da(b,g);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;var d=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){d._started=!0;F(!1===d._pulling);F(!1===d._pullAgain);H(d)},function(a){A(d,a)}).catch(ba)}ga(a,[{key:"close",value:function(){if(!1===G(this))throw ma("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");y(this)}},{key:"enqueue",value:function(a){if(!1===G(this))throw ma("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return E(this,
a)}},{key:"error",value:function(a){if(!1===G(this))throw ma("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");I(this,a)}},{key:"__cancelSteps",value:function(a){ha(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var e=Fa(this);!0===this._closeRequested&&0===this._queue.length?c(a):H(this);return Promise.resolve(da(e,
!1))}a=h(a);H(this);return a}},{key:"desiredSize",get:function(){if(!1===G(this))throw ma("desiredSize");return M(this)}}]);return a}(),Qa=function(){function a(c,e){n(this,a);this._associatedReadableByteStreamController=c;this._view=e}ga(a,[{key:"respond",value:function(a){if(!1===O(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");F(0<c._pendingPullIntos.length);X(c,a)}},{key:"respondWithNewView",value:function(a){if(!1===O(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;F(0<c._pendingPullIntos.length);var e=c._pendingPullIntos[0];
if(e.byteOffset+e.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=a.buffer;X(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(c,e,b){n(this,a);if(!1===t(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=c;this._underlyingByteSource=e;this._pulling=this._pullAgain=!1;Y(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ha(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(b);b=e.autoAllocateChunkSize;if(void 0!==b&&(!1===Number.isInteger(b)||0>=b))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=b;this._pendingPullIntos=[];var g=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){g._started=!0;F(!1===g._pulling);F(!1===g._pullAgain);P(g)},function(a){"readable"===c._state&&D(g,a)}).catch(ba)}ga(a,[{key:"close",value:function(){if(!1===L(this))throw ia("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(this,a),a;c(a)}}},{key:"enqueue",value:function(a){if(!1===L(this))throw ia("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");c=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===c._state);var e=a.byteOffset,b=a.byteLength,a=ja(a.buffer);!0===o(c)?0===c._reader._readRequests.length?V(this,a,e,b):(F(0===
this._queue.length),a=new Uint8Array(a,e,b),k(c,a,!1)):!0===w(c)?(V(this,a,e,b),U(this)):(F(!1===v(c),"stream must not be locked"),V(this,a,e,b))}},{key:"error",value:function(a){if(!1===L(this))throw ia("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");D(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ha(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;F(!0===o(a));if(0<this._queueTotalSize){F(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;$(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(da(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var b=void 0;try{b=new ArrayBuffer(c)}catch(g){return Promise.reject(g)}this._pendingPullIntos.push({buffer:b,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=h(a);P(this);return a}},{key:"byobRequest",get:function(){if(!1===L(this))throw ia("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===L(this))throw ia("desiredSize");
return S(this)}}]);return a}()},function(a,b,d){var a=d(6),n=d(4),d=d(2);b.TransformStream=a.TransformStream;b.ReadableStream=n.ReadableStream;b.IsReadableStreamDisturbed=n.IsReadableStreamDisturbed;b.ReadableStreamDefaultControllerClose=n.ReadableStreamDefaultControllerClose;b.ReadableStreamDefaultControllerEnqueue=n.ReadableStreamDefaultControllerEnqueue;b.ReadableStreamDefaultControllerError=n.ReadableStreamDefaultControllerError;b.ReadableStreamDefaultControllerGetDesiredSize=n.ReadableStreamDefaultControllerGetDesiredSize;
b.AcquireWritableStreamDefaultWriter=d.AcquireWritableStreamDefaultWriter;b.IsWritableStream=d.IsWritableStream;b.IsWritableStreamLocked=d.IsWritableStreamLocked;b.WritableStream=d.WritableStream;b.WritableStreamAbort=d.WritableStreamAbort;b.WritableStreamDefaultControllerError=d.WritableStreamDefaultControllerError;b.WritableStreamDefaultWriterCloseWithErrorPropagation=d.WritableStreamDefaultWriterCloseWithErrorPropagation;b.WritableStreamDefaultWriterRelease=d.WritableStreamDefaultWriterRelease;
b.WritableStreamDefaultWriterWrite=d.WritableStreamDefaultWriterWrite},function(a,b,d){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function t(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var e=a._readableController;try{G(e,c)}catch(b){throw a._readableClosed=!0,q(a,b),a._storedError;}!0===0>=B(e)&&!1===a._backpressure&&u(a,!0)}function v(a){o(!1===
a._errored);o(!1===a._readableClosed);try{J(a._readableController)}catch(c){o(!1)}a._readableClosed=!0}function q(a,c){!1===a._errored&&j(a,c)}function j(a,c){o(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&E(a._writableController,c);!1===a._readableClosed&&H(a._readableController,c)}function x(a){o(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();o(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function u(a,c){o(a._backpressure!==c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){o(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function s(a,
c){t(c._controlledTransformStream,a);return Promise.resolve()}function h(a,c){o(!1===a._errored);o(!1===a._transforming);o(!1===a._backpressure);a._transforming=!0;var e=a._transformStreamController;return p(a._transformer,"transform",[c,e],s,[c,e]).then(function(){a._transforming=!1;return x(a)},function(c){q(a,c);return Promise.reject(c)})}function g(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function c(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function e(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function k(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var w=function(){function a(c,e){for(var b=0;b<e.length;b++){var g=e[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,e,b){e&&a(c.prototype,
e);b&&a(c,b);return c}}(),o=d(1).assert,b=d(0),m=b.InvokeOrNoop,p=b.PromiseInvokeOrPerformFallback,r=b.PromiseInvokeOrNoop,z=b.typeIsObject,b=d(4),C=b.ReadableStream,J=b.ReadableStreamDefaultControllerClose,G=b.ReadableStreamDefaultControllerEnqueue,H=b.ReadableStreamDefaultControllerError,B=b.ReadableStreamDefaultControllerGetDesiredSize,d=d(2),y=d.WritableStream,E=d.WritableStreamDefaultControllerError,I=function(){function a(c,e){n(this,a);this._transformStream=c;this._startPromise=e}w(a,[{key:"start",
value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return x(c)})}},{key:"write",value:function(a){return h(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;j(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;o(!1===a._transforming);a._writableDone=!0;return r(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&v(a);return Promise.resolve()}).catch(function(c){q(a,c);return Promise.reject(a._storedError)})}}]);return a}(),A=function(){function a(c,e){n(this,a);this._transformStream=c;this._startPromise=e}w(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){o(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===
c._backpressure)return Promise.resolve();o(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;o(!0===a._backpressure,"pull() should be never called while _backpressure is false");o(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");u(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=
!0;j(a,new TypeError("Readable side canceled"))}}]);return a}(),M=function(){function a(e){n(this,a);if(!1===c(e))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==e._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=e}w(a,[{key:"enqueue",value:function(a){if(!1===g(this))throw e("enqueue");t(this._controlledTransformStream,
a)}},{key:"close",value:function(){if(!1===g(this))throw e("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");v(a)}},{key:"error",value:function(a){if(!1===g(this))throw e("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");j(c,a)}},{key:"desiredSize",get:function(){if(!1===
g(this))throw e("desiredSize");return B(this._controlledTransformStream._readableController)}}]);return a}(),d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n(this,a);this._transformer=c;var e=c.readableStrategy,b=c.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new M(this);var g=void 0,d=new Promise(function(a){g=a}),k=new A(this,d);this._readable=new C(k,e);e=new I(this,d);this._writable=new y(e,b);o(void 0!==this._writableController);o(void 0!==this._readableController);b=B(this._readableController);u(this,0>=b);var h=this,c=m(c,"start",[h._transformStreamController]);g(c);d.catch(function(a){!1===h._errored&&(h._errored=!0,h._storedError=a)})}w(a,[{key:"readable",
get:function(){if(!1===c(this))throw k("readable");return this._readable}},{key:"writable",get:function(){if(!1===c(this))throw k("writable");return this._writable}}]);return a}();a.exports={TransformStream:d}},function(a,b,d){a.exports=d(5)}]))},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}d=!1;
try{if("function"===typeof URL&&"object"===i(URL.prototype)&&"origin"in URL.prototype){var l=new URL("b","http://a");l.pathname="c%20d";d="http://a/c%20d"===l.href}}catch(f){}if(d)b.URL=URL;else{var l=a(145).URL,n=a(3).URL;n&&(l.createObjectURL=function(a){return n.createObjectURL.apply(n,arguments)},l.revokeObjectURL=function(a){n.revokeObjectURL(a)});b.URL=l}},function(d,b){(function(){function a(a){""===a&&(n.call(this),this._isInvalid=!0);return a.toLowerCase()}function d(a){var b=a.charCodeAt(0);
return 32<b&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function l(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function f(b,h,g){function c(a){p.push(a)}var e=h||"scheme start",k=0,f="",o=!1,m=!1,p=[];a:for(;(b[k-1]!==j||0===k)&&!this._isInvalid;){var r=b[k];switch(e){case "scheme start":if(r&&x.test(r))f+=r.toLowerCase(),e="scheme";else if(h){c("Invalid scheme.");break a}else{f="";e="no scheme";continue}break;case "scheme":if(r&&
u.test(r))f+=r.toLowerCase();else if(":"===r){this._scheme=f;f="";if(h)break a;void 0!==v[this._scheme]&&(this._isRelative=!0);e="file"===this._scheme?"relative":this._isRelative&&g&&g._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(h){r!==j&&c("Code point not allowed in scheme: "+r);break a}else{f="";k=0;e="no scheme";continue}break;case "scheme data":"?"===r?(this._query="?",e="query"):"#"===r?(this._fragment="#",e="fragment"):r!==j&&
("\t"!==r&&"\n"!==r&&"\r"!==r)&&(this._schemeData+=d(r));break;case "no scheme":if(!g||void 0===v[g._scheme])c("Missing scheme."),n.call(this),this._isInvalid=!0;else{e="relative";continue}break;case "relative or authority":if("/"===r&&"/"===b[k+1])e="authority ignore slashes";else{c("Expected /, got: "+r);e="relative";continue}break;case "relative":this._isRelative=!0;"file"!==this._scheme&&(this._scheme=g._scheme);if(r===j){this._host=g._host;this._port=g._port;this._path=g._path.slice();this._query=
g._query;this._username=g._username;this._password=g._password;break a}else if("/"===r||"\\"===r)"\\"===r&&c("\\ is an invalid code point."),e="relative slash";else if("?"===r)this._host=g._host,this._port=g._port,this._path=g._path.slice(),this._query="?",this._username=g._username,this._password=g._password,e="query";else if("#"===r)this._host=g._host,this._port=g._port,this._path=g._path.slice(),this._query=g._query,this._fragment="#",this._username=g._username,this._password=g._password,e="fragment";
else{var e=b[k+1],z=b[k+2];if("file"!==this._scheme||!x.test(r)||":"!==e&&"|"!==e||z!==j&&"/"!==z&&"\\"!==z&&"?"!==z&&"#"!==z)this._host=g._host,this._port=g._port,this._username=g._username,this._password=g._password,this._path=g._path.slice(),this._path.pop();e="relative path";continue}break;case "relative slash":if("/"===r||"\\"===r)"\\"===r&&c("\\ is an invalid code point."),e="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=g._host,this._port=
g._port,this._username=g._username,this._password=g._password);e="relative path";continue}break;case "authority first slash":if("/"===r)e="authority second slash";else{c("Expected '/', got: "+r);e="authority ignore slashes";continue}break;case "authority second slash":e="authority ignore slashes";if("/"!==r){c("Expected '/', got: "+r);continue}break;case "authority ignore slashes":if("/"!==r&&"\\"!==r){e="authority";continue}else c("Expected authority, got: "+r);break;case "authority":if("@"===r){o&&
(c("@ already seen."),f+="%40");o=!0;for(r=0;r<f.length;r++)z=f[r],"\t"===z||"\n"===z||"\r"===z?c("Invalid whitespace in authority."):":"===z&&null===this._password?this._password="":(z=d(z),null!==this._password?this._password+=z:this._username+=z);f=""}else if(r===j||"/"===r||"\\"===r||"?"===r||"#"===r){k-=f.length;f="";e="host";continue}else f+=r;break;case "file host":if(r===j||"/"===r||"\\"===r||"?"===r||"#"===r){2===f.length&&x.test(f[0])&&(":"===f[1]||"|"===f[1])?e="relative path":(0!==f.length&&
(this._host=a.call(this,f),f=""),e="relative path start");continue}else"\t"===r||"\n"===r||"\r"===r?c("Invalid whitespace in file host."):f+=r;break;case "host":case "hostname":if(":"===r&&!m){if(this._host=a.call(this,f),f="",e="port","hostname"===h)break a}else if(r===j||"/"===r||"\\"===r||"?"===r||"#"===r){this._host=a.call(this,f);f="";e="relative path start";if(h)break a;continue}else"\t"!==r&&"\n"!==r&&"\r"!==r?("["===r?m=!0:"]"===r&&(m=!1),f+=r):c("Invalid code point in host/hostname: "+r);
break;case "port":if(/[0-9]/.test(r))f+=r;else if(r===j||"/"===r||"\\"===r||"?"===r||"#"===r||h){""!==f&&(f=parseInt(f,10),f!==v[this._scheme]&&(this._port=f+""),f="");if(h)break a;e="relative path start";continue}else"\t"===r||"\n"===r||"\r"===r?c("Invalid code point in port: "+r):(n.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===r&&c("'\\' not allowed in path.");e="relative path";if("/"!==r&&"\\"!==r)continue;break;case "relative path":if(r===j||"/"===r||"\\"===r||!h&&("?"===
r||"#"===r)){"\\"===r&&c("\\ not allowed in relative path.");if(z=q[f.toLowerCase()])f=z;".."===f?(this._path.pop(),"/"!==r&&"\\"!==r&&this._path.push("")):"."===f&&"/"!==r&&"\\"!==r?this._path.push(""):"."!==f&&("file"===this._scheme&&(0===this._path.length&&2===f.length&&x.test(f[0])&&"|"===f[1])&&(f=f[0]+":"),this._path.push(f));f="";"?"===r?(this._query="?",e="query"):"#"===r&&(this._fragment="#",e="fragment")}else"\t"!==r&&("\n"!==r&&"\r"!==r)&&(f+=d(r));break;case "query":!h&&"#"===r?(this._fragment=
"#",e="fragment"):r!==j&&("\t"!==r&&"\n"!==r&&"\r"!==r)&&(this._query+=l(r));break;case "fragment":r!==j&&("\t"!==r&&"\n"!==r&&"\r"!==r)&&(this._fragment+=r)}k++}}function n(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function t(a,b){void 0!==b&&!(b instanceof t)&&(b=new t(""+b));this._url=a;n.call(this);var g=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");f.call(this,g,
null,b)}var v=Object.create(null);v.ftp=21;v.file=0;v.gopher=70;v.http=80;v.https=443;v.ws=80;v.wss=443;var q=Object.create(null);q["%2e"]=".";q[".%2e"]="..";q["%2e."]="..";q["%2e%2e"]="..";var j,x=/[a-zA-Z]/,u=/[a-zA-Z0-9\+\-\.]/;t.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:
"")+this.pathname+this._query+this._fragment},set href(a){n.call(this);f.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||f.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&f.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&f.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&
this._isRelative&&f.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],f.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),f.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||
"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),f.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new t(this._schemeData)).origin||"null"}catch(b){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};b.URL=t})()},function(d,b,a){function i(a){return a&&a.__esModule?a:{"default":a}}
function l(a,c,e,b,g,d,k){try{var h=a[d](k),f=h.value}catch(m){e(m);return}h.done?c(f):Promise.resolve(f).then(b,g)}function f(a){return function(){var c=this,e=arguments;return new Promise(function(b,g){function d(a){l(h,b,g,d,k,"next",a)}function k(a){l(h,b,g,d,k,"throw",a)}var h=a.apply(c,e);d(void 0)})}}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function t(a,c){var e=[],b=!0,g=!1,d=void 0;try{for(var k=a[Symbol.iterator](),h;!(b=(h=k.next()).done)&&
!(e.push(h.value),c&&e.length===c);b=!0);}catch(f){g=!0,d=f}finally{try{if(!b&&null!=k["return"])k["return"]()}finally{if(g)throw d;}}return e}function v(a){if(Array.isArray(a))return a}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function j(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function x(a){if(Array.isArray(a)){for(var c=0,e=Array(a.length);c<a.length;c++)e[c]=a[c];return e}}function u(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function s(a,c){for(var e=0;e<c.length;e++){var b=c[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}function h(a,c,e){c&&s(a.prototype,c);e&&s(a,e);return a}function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return g(a)}function c(a,c,e,b){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));e&&(c.length=e.length,c.initialData=e.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:b,apiVersion:"2.1.243",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,disableCreateObjectURL:c.disableCreateObjectURL,
postMessageTransfers:a.postMessageTransfers,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported}).then(function(c){if(a.destroyed)throw Error("Worker was destroyed");return c})}Object.defineProperty(b,"__esModule",{value:!0});b.getDocument=function(a){var e=new M;if("string"===typeof a)a={url:a};else if((0,k.isArrayBuffer)(a))a={data:a};else if(a instanceof L)a={range:a};else{if("object"!==g(a))throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var b=Object.create(null),d=null,h=null,f;for(f in a)if("url"===f&&"undefined"!==typeof window)b[f]=(new k.URL(a[f],window.location)).href;else if("range"===f)d=a[f];else if("worker"===f)h=a[f];else if("data"===f&&!(a[f]instanceof Uint8Array)){var j=a[f];if("string"===typeof j)b[f]=(0,k.stringToBytes)(j);else if("object"===g(j)&&null!==j&&!isNaN(j.length))b[f]=new Uint8Array(j);else if((0,k.isArrayBuffer)(j))b[f]=
new Uint8Array(j);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else b[f]=a[f];b.rangeChunkSize=b.rangeChunkSize||B;b.CMapReaderFactory=b.CMapReaderFactory||w.DOMCMapReaderFactory;b.ignoreErrors=!0!==b.stopAtErrors;b.pdfBug=!0===b.pdfBug;f=Object.values(k.NativeImageDecoding);if(void 0===b.nativeImageDecoderSupport||!f.includes(b.nativeImageDecoderSupport))b.nativeImageDecoderSupport=m.apiCompatibilityParams.nativeImageDecoderSupport||
k.NativeImageDecoding.DECODE;Number.isInteger(b.maxImageSize)||(b.maxImageSize=-1);"boolean"!==typeof b.isEvalSupported&&(b.isEvalSupported=!0);"boolean"!==typeof b.disableFontFace&&(b.disableFontFace=m.apiCompatibilityParams.disableFontFace||!1);"boolean"!==typeof b.disableRange&&(b.disableRange=!1);"boolean"!==typeof b.disableStream&&(b.disableStream=!1);"boolean"!==typeof b.disableAutoFetch&&(b.disableAutoFetch=!1);"boolean"!==typeof b.disableCreateObjectURL&&(b.disableCreateObjectURL=m.apiCompatibilityParams.disableCreateObjectURL||
!1);(0,k.setVerbosityLevel)(b.verbosity);h||(f={postMessageTransfers:b.postMessageTransfers,verbosity:b.verbosity,port:z.GlobalWorkerOptions.workerPort},h=f.port?R.fromPort(f):new R(f),e._worker=h);var o=e.docId;h.promise.then(function(){if(e.destroyed)throw Error("Loading aborted");return c(h,b,d,o).then(function(a){if(e.destroyed)throw Error("Loading aborted");var c;d?c=new G.PDFDataTransportStream({length:b.length,initialData:b.initialData,disableRange:b.disableRange,disableStream:b.disableStream},
d):b.data||(c=A({url:b.url,length:b.length,httpHeaders:b.httpHeaders,withCredentials:b.withCredentials,rangeChunkSize:b.rangeChunkSize,disableRange:b.disableRange,disableStream:b.disableStream}));a=new C.MessageHandler(o,a,h.port);a.postMessageTransfers=h.postMessageTransfers;c=new V(a,e,c,b);e._transport=c;a.send("Ready",null)})}).catch(e._capability.reject);return e};b.setPDFNetworkStreamFactory=function(a){A=a};b.build=b.version=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=
b.LoopbackPort=void 0;var e=i(a(147)),k=a(1),w=a(151),o=a(152),m=a(153),p=a(154),r=i(a(3)),z=a(156),C=a(157),J=a(158),G=a(160),H=a(161),B=65536,y=!1,E,I=null,d=!1;"undefined"===typeof window?(y=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),d=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(d=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(E=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));a="undefined"!==typeof requirejs&&requirejs.load;
I=d?function(){return new Promise(function(a,c){require.ensure([],function(){try{var e;e=require("./pdf.worker.js");a(e.WorkerMessageHandler)}catch(b){c(b)}},c,"pdfjsWorker")})}:a?function(){return new Promise(function(a,c){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){try{a(e.WorkerMessageHandler)}catch(b){c(b)}},c)})}:null;if(!E&&"object"===("undefined"===typeof document?"undefined":g(document))&&"currentScript"in document)(d=document.currentScript&&document.currentScript.src)&&(E=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,
".worker$1$2"));var A,M=function(){var a=0;return function(){function c(){u(this,c);this._capability=(0,k.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}h(c,[{key:"destroy",value:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();a._worker=null}})}},{key:"then",
value:function(a,c){(0,k.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]);return c}()}(),L=function(){function a(c,e){u(this,a);this.length=c;this.initialData=e;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,k.createPromiseCapability)()}h(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},
{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"onDataRange",value:function(a,c){var e=true,b=false,g=void 0;try{for(var d=this._rangeListeners[Symbol.iterator](),k;!(e=(k=d.next()).done);e=true){var h=k.value;h(a,c)}}catch(f){b=true;g=f}finally{try{!e&&d.return!=null&&d.return()}finally{if(b)throw g;}}}},{key:"onDataProgress",value:function(a){var c=this;this._readyCapability.promise.then(function(){var e=
true,b=false,g=void 0;try{for(var d=c._progressListeners[Symbol.iterator](),k;!(e=(k=d.next()).done);e=true){var h=k.value;h(a)}}catch(f){b=true;g=f}finally{try{!e&&d.return!=null&&d.return()}finally{if(b)throw g;}}})}},{key:"onDataProgressiveRead",value:function(a){var c=this;this._readyCapability.promise.then(function(){var e=true,b=false,g=void 0;try{for(var d=c._progressiveReadListeners[Symbol.iterator](),k;!(e=(k=d.next()).done);e=true){var h=k.value;h(a)}}catch(f){b=true;g=f}finally{try{!e&&
d.return!=null&&d.return()}finally{if(b)throw g;}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,k.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]);return a}();b.PDFDataRangeTransport=L;var O=function(){function a(c,e,b){u(this,a);this.loadingTask=b;this._pdfInfo=c;this._transport=e}h(a,[{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",
value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",
value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},
{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}}]);return a}();b.PDFDocumentProxy=O;var P=function(){function a(c,e,b){var g=arguments.length>
3&&arguments[3]!==void 0?arguments[3]:false;u(this,a);this.pageIndex=c;this._pageInfo=e;this._transport=b;this._stats=g?new w.StatTimer:w.DummyStatTimer;this._pdfBug=g;this.commonObjs=b.commonObjs;this.objs=new K;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}h(a,[{key:"getViewport",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.scale,e=a.rotation,e=e===void 0?this.rotate:e,a=a.dontFlip,a=a===void 0?
false:a;if(arguments.length>1||typeof arguments[0]==="number"){(0,k.deprecated)("getViewport is called with obsolete arguments.");c=arguments[0];e=typeof arguments[1]==="number"?arguments[1]:this.rotate;a=typeof arguments[2]==="boolean"?arguments[2]:false}return new w.PageViewport({viewBox:this.view,scale:c,rotation:e,dontFlip:a})}},{key:"getAnnotations",value:function(){var a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).intent,a=a===void 0?null:a;if(!this.annotationsPromise||this.annotationsIntent!==
a){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise}},{key:"render",value:function(a){var c=this,e=a.canvasContext,b=a.viewport,g=a.intent,d=g===void 0?"display":g,g=a.enableWebGL,g=g===void 0?false:g,h=a.renderInteractiveForms,h=h===void 0?false:h,f=a.transform,f=f===void 0?null:f,m=a.imageLayer,m=m===void 0?null:m,j=a.canvasFactory,j=j===void 0?null:j,a=a.background,a=a===void 0?null:a,z=this._stats;z.time("Overall");
this.pendingCleanup=false;d=d==="print"?"print":"display";j=j||new w.DOMCanvasFactory;g=new H.WebGLContext({enable:g});this.intentStates[d]||(this.intentStates[d]=Object.create(null));var o=this.intentStates[d];if(!o.displayReadyCapability){o.receivingOperatorList=true;o.displayReadyCapability=(0,k.createPromiseCapability)();o.operatorList={fnArray:[],argsArray:[],lastChunk:false};z.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,
renderInteractiveForms:h===true})}var C=function(a){var e=o.renderTasks.indexOf(s);e>=0&&o.renderTasks.splice(e,1);if(c.cleanupAfterRender)c.pendingCleanup=true;c._tryCleanup();a?s.capability.reject(a):s.capability.resolve();z.timeEnd("Rendering");z.timeEnd("Overall")},s=new $({callback:C,params:{canvasContext:e,viewport:b,transform:f,imageLayer:m,background:a},objs:this.objs,commonObjs:this.commonObjs,operatorList:o.operatorList,pageNumber:this.pageNumber,canvasFactory:j,webGLContext:g,useRequestAnimationFrame:d!==
"print",pdfBug:this._pdfBug});if(!o.renderTasks)o.renderTasks=[];o.renderTasks.push(s);e=s.task;o.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)C();else{z.time("Rendering");s.initializeGraphics(a);s.operatorListChanged()}}).catch(C);return e}},{key:"getOperatorList",value:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var b=c.renderTasks.indexOf(e);b>=0&&c.renderTasks.splice(b,1)}}this.intentStates.oplist||(this.intentStates.oplist=
Object.create(null));var c=this.intentStates.oplist,e;if(!c.opListReadCapability){e={};e.operatorListChanged=a;c.receivingOperatorList=true;c.opListReadCapability=(0,k.createPromiseCapability)();c.renderTasks=[];c.renderTasks.push(e);c.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return c.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.normalizeWhitespace,a=a.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:(c===void 0?false:c)===true,combineTextItems:(a===void 0?false:a)!==true},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=this.streamTextContent(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{});return new Promise(function(c,
e){function b(){g.read().then(function(a){var e,g=a.value;if(a.done)c(d);else{Object.assign(d.styles,g.styles);(e=d.items).push.apply(e,x(g.items)||j(g.items)||q());b()}},e)}var g=a.getReader(),d={items:[],styles:Object.create(null)};b()})}},{key:"_destroy",value:function(){this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(c){c!=="oplist"&&this.intentStates[c].renderTasks.forEach(function(c){var e=c.capability.promise.catch(function(){});
a.push(e);c.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)}},{key:"cleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==
0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;if(a&&this._stats instanceof w.StatTimer)this._stats=new w.StatTimer;this.pendingCleanup=false}}},{key:"_startRenderPage",value:function(a,c){var e=this.intentStates[c];e.displayReadyCapability&&e.displayReadyCapability.resolve(a)}},{key:"_renderPageChunk",value:function(a,c){for(var e=this.intentStates[c],b=0,g=a.length;b<g;b++){e.operatorList.fnArray.push(a.fnArray[b]);
e.operatorList.argsArray.push(a.argsArray[b])}e.operatorList.lastChunk=a.lastChunk;for(b=0;b<e.renderTasks.length;b++)e.renderTasks[b].operatorListChanged();if(a.lastChunk){e.receivingOperatorList=false;this._tryCleanup()}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},
{key:"stats",get:function(){return this._stats instanceof w.StatTimer?this._stats:null}}]);return a}();b.PDFPageProxy=P;var N=function(){function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;u(this,a);this._listeners=[];this._defer=c;this._deferred=Promise.resolve(void 0)}h(a,[{key:"postMessage",value:function(a,c){function e(a){if(g(a)!=="object"||a===null)return a;if(d.has(a))return d.get(a);var b;if((b=a.buffer)&&(0,k.isArrayBuffer)(b)){var h=c&&c.includes(b);b=a===b?a:
h?new a.constructor(b,a.byteOffset,a.byteLength):new a.constructor(a);d.set(a,b);return b}b=Array.isArray(a)?[]:{};d.set(a,b);for(h in a){for(var f=void 0,m=a;!(f=Object.getOwnPropertyDescriptor(m,h));)m=Object.getPrototypeOf(m);typeof f.value==="undefined"||typeof f.value==="function"||(b[h]=e(f.value))}return b}var b=this;if(this._defer){var d=new WeakMap,h={data:e(a)};this._deferred.then(function(){b._listeners.forEach(function(a){a.call(this,h)},b)})}else this._listeners.forEach(function(c){c.call(this,
{data:a})},this)}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},{key:"removeEventListener",value:function(a,c){this._listeners.splice(this._listeners.indexOf(c),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}();b.LoopbackPort=N;var R=function(){function a(){if(z.GlobalWorkerOptions.workerSrc)return z.GlobalWorkerOptions.workerSrc;if(typeof E!=="undefined")return E;throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function c(){try{if(typeof window!==
"undefined")return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(a){}return null}function e(){if(f)return f.promise;f=(0,k.createPromiseCapability)();var b=c();if(b){f.resolve(b);return f.promise}(I||function(){return(0,w.loadScript)(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(f.resolve,f.reject);return f.promise}function b(a){return k.URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}var g=new WeakMap,d=0,f;return function(){function f(){var a=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.name,c=c===void 0?null:c,e=a.port,e=e===void 0?null:e,b=a.postMessageTransfers,b=b===void 0?true:b,a=a.verbosity,a=a===void 0?(0,k.getVerbosityLevel)():a;u(this,f);if(e&&g.has(e))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=b!==false;this.verbosity=a;this._readyCapability=(0,k.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(e){g.set(e,
this);this._initializeFromPort(e)}else this._initialize()}h(f,[{key:"_initializeFromPort",value:function(a){this._port=a;this._messageHandler=new C.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(typeof Worker!=="undefined"&&!y&&!c()){var g=a();try{if(!(0,k.isSameOrigin)(window.location.href,g))g=b((new k.URL(g,window.location)).href);var d=new Worker(g),h=new C.MessageHandler("main",
"worker",d),f=function(){d.removeEventListener("error",m);h.destroy();d.terminate();e.destroyed?e._readyCapability.reject(Error("Worker was destroyed")):e._setupFakeWorker()},m=function(){e._webWorker||f()};d.addEventListener("error",m);h.on("test",function(a){d.removeEventListener("error",m);if(e.destroyed)f();else if(a&&a.supportTypedArray){e._messageHandler=h;e._port=d;e._webWorker=d;if(!a.supportTransfers)e.postMessageTransfers=false;e._readyCapability.resolve();h.send("configure",{verbosity:e.verbosity})}else{e._setupFakeWorker();
h.destroy();d.terminate()}});h.on("ready",function(){d.removeEventListener("error",m);if(e.destroyed)f();else try{j()}catch(a){e._setupFakeWorker()}});var j=function(){var a=new Uint8Array([e.postMessageTransfers?255:0]);try{h.send("test",a,[a.buffer])}catch(c){(0,k.info)("Cannot use postMessage transfers");a[0]=0;h.send("test",a)}};j();return}catch(z){(0,k.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;if(!y){(0,k.warn)("Setting up fake worker.");
y=true}e().then(function(c){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var e=new N;a._port=e;var b="fake"+d++,g=new C.MessageHandler(b+"_worker",b,e);c.setup(g,e);c=new C.MessageHandler(b,b+"_worker",e);a._messageHandler=c;a._readyCapability.resolve()}}).catch(function(c){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(c.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();
this._webWorker=null}g.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");return g.has(a.port)?g.get(a.port):new f(a)}},{key:"getWorkerSrc",
value:function(){return a()}}]);return f}()}();b.PDFWorker=R;var V=function(){function a(c,e,b,g){u(this,a);this.messageHandler=c;this.loadingTask=e;this.commonObjs=new K;this.fontLoader=new o.FontLoader(e.docId);this._params=g;this.CMapReaderFactory=new g.CMapReaderFactory({baseUrl:g.cMapUrl,isCompressed:g.cMapPacked});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=b;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=
(0,k.createPromiseCapability)();this.setupMessageHandler()}h(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,k.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())});this.pageCache=[];this.pagePromises=[];var e=this.messageHandler.sendWithPromise("Terminate",
null);c.push(e);Promise.all(c).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this.messageHandler,c=this.loadingTask;a.on("GetReader",function(a,c){var e=this;(0,k.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();
this._fullReader.onProgress=function(a){e._lastProgress={loaded:a.loaded,total:a.total}};c.onPull=function(){e._fullReader.read().then(function(a){var e=a.value;if(a.done)c.close();else{(0,k.assert)((0,k.isArrayBuffer)(e));c.enqueue(new Uint8Array(e),1,[e])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){e._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",function(){var a=this,e=(0,k.createPromiseCapability)(),b=this._fullReader;b.headersReady.then(function(){if(!b.isStreamingSupported||
!b.isRangeSupported){if(a._lastProgress&&c.onProgress)c.onProgress(a._lastProgress);b.onProgress=function(a){if(c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})}}e.resolve({isStreamingSupported:b.isStreamingSupported,isRangeSupported:b.isRangeSupported,contentLength:b.contentLength})},e.reject);return e.promise},this);a.on("GetRangeReader",function(a,c){(0,k.assert)(this._networkStream);var e=this._networkStream.getRangeReader(a.begin,a.end);c.onPull=function(){e.read().then(function(a){var e=
a.value;if(a.done)c.close();else{(0,k.assert)((0,k.isArrayBuffer)(e));c.enqueue(new Uint8Array(e),1,[e])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){e.cancel(a)}},this);a.on("GetDoc",function(a){a=a.pdfInfo;this.numPages=a.numPages;this.pdfDocument=new O(a,this,c);c._capability.resolve(this.pdfDocument)},this);a.on("PasswordRequest",function(a){var e=this;this._passwordCapability=(0,k.createPromiseCapability)();if(c.onPassword){var b=function(a){e._passwordCapability.resolve({password:a})};
try{c.onPassword(b,a.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new k.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){c._capability.reject(new k.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){c._capability.reject(new k.InvalidPDFException(a.message))},this);a.on("MissingPDF",function(a){c._capability.reject(new k.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",
function(a){c._capability.reject(new k.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){c._capability.reject(new k.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){if(c.onProgress)c.onProgress({loaded:a.length,total:a.length});this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var c=this.pageCache[a.pageIndex];c._stats.timeEnd("Page Request");c._startRenderPage(a.transparency,a.intent)}},
this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var c=this;if(!this.destroyed){var a=v(a)||t(a,3)||n(),e=a[0],b=a[1],a=a[2];if(!this.commonObjs.has(e))switch(b){case "Font":b=this._params;if("error"in a){a=a.error;(0,k.warn)("Error during font loading: ".concat(a));this.commonObjs.resolve(e,a);break}var g=null;b.pdfBug&&(r.default.FontInspector&&r.default.FontInspector.enabled)&&(g={registerFont:function(a,
c){r.default.FontInspector.fontAdded(a,c)}});var d=new o.FontFaceObject(a,{isEvalSupported:b.isEvalSupported,disableFontFace:b.disableFontFace,ignoreErrors:b.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:g});this.fontLoader.bind([d],function(){c.commonObjs.resolve(e,d)});break;case "FontPath":this.commonObjs.resolve(e,a);break;default:throw Error("Got unknown common object type ".concat(b));}}},this);a.on("obj",function(a){if(!this.destroyed){var a=v(a)||t(a,
4)||n(),c=a[0],e=a[2],b=a[3],g=this.pageCache[a[1]];if(!g.objs.has(c))switch(e){case "JpegStream":return(new Promise(function(a,c){var e=new Image;e.onload=function(){a(e)};e.onerror=function(){c(Error("Error during JPEG image loading"))};e.src=b})).then(function(a){g.objs.resolve(c,a)});case "Image":g.objs.resolve(c,b);if(b&&"data"in b&&b.data.length>8E6)g.cleanupAfterRender=true;break;default:throw Error("Got unknown object type ".concat(e));}}},this);a.on("DocProgress",function(a){if(!this.destroyed&&
c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){if(!this.destroyed){var c=this.pageCache[a.pageNum-1].intentStates[a.intent];if(c.displayReadyCapability)c.displayReadyCapability.reject(a.error);else throw Error(a.error);if(c.operatorList){c.operatorList.lastChunk=true;for(a=0;a<c.renderTasks.length;a++)c.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",this._onUnsupportedFeature,this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));
if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var a=v(a)||t(a,2)||n(),c=a[0],e=a[1];return e!==3&&e!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,b){var g=new Image;g.onload=function(){var c=g.width,b=g.height,d=c*b,k=d*4,d=new Uint8ClampedArray(d*e),h=document.createElement("canvas");h.width=c;h.height=b;h=h.getContext("2d");h.drawImage(g,0,0);h=h.getImageData(0,0,c,b).data;if(e===3)for(var f=0,m=
0;f<k;f=f+4,m=m+3){d[m]=h[f];d[m+1]=h[f+1];d[m+2]=h[f+2]}else if(e===1)for(m=f=0;f<k;f=f+4,m++)d[m]=h[f];a({data:d,width:c,height:b})};g.onerror=function(){b(Error("JpegDecode failed to load image"))};g.src=c})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},
{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var c=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));var e=a-1;if(e in this.pagePromises)return this.pagePromises[e];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(function(a){if(c.destroyed)throw Error("Transport destroyed");a=new P(e,a,c,c._params.pdfBug);return c.pageCache[e]=a});return this.pagePromises[e]=
a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})}},{key:"getAnnotations",value:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return typeof a!=="string"?Promise.reject(Error("Invalid destination request.")):
this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("getOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},
{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(c){return{info:c[0],metadata:c[1]?new J.Metadata(c[1]):null,contentDispositionFilename:a._fullReader?
a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var c=0,e=a.pageCache.length;c<e;c++){var b=a.pageCache[c];b&&b.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,k.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,
disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),K=function(){function a(){u(this,a);this._objs=Object.create(null)}h(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,k.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(c){this._ensureObj(a).capability.promise.then(c);return null}c=this._objs[a];
if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return c.data}},{key:"has",value:function(a){return(a=this._objs[a])?a.resolved:false}},{key:"resolve",value:function(a,c){var e=this._ensureObj(a);e.resolved=true;e.data=c;e.capability.resolve(c)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]);return a}(),Z=function(){function a(c){u(this,a);this._internalRenderTask=c;this.onContinue=null}h(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},
{key:"then",value:function(a,c){(0,k.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]);return a}(),$=function(){var a=new WeakSet;return function(){function c(a){var e=a.callback,b=a.params,g=a.objs,d=a.commonObjs,h=a.operatorList,f=a.pageNumber,m=a.canvasFactory,j=a.webGLContext,z=a.useRequestAnimationFrame,z=z===void 0?false:z,a=a.pdfBug,
a=a===void 0?false:a;u(this,c);this.callback=e;this.params=b;this.objs=g;this.commonObjs=d;this.operatorListIdx=null;this.operatorList=h;this.pageNumber=f;this.canvasFactory=m;this.webGLContext=j;this._pdfBug=a;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=z===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,k.createPromiseCapability)();this.task=new Z(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=
this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=b.canvasContext.canvas}h(c,[{key:"initializeGraphics",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.add(this._canvas)}if(this._pdfBug&&r.default.StepperManager&&
r.default.StepperManager.enabled){this.stepper=r.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var e=this.params,b=e.viewport,g=e.transform,d=e.background;this.gfx=new p.CanvasGraphics(e.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,e.imageLayer);this.gfx.beginDrawing({transform:g,viewport:b,transparency:c,background:d});this.operatorListIdx=0;this.graphicsReady=true;
this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=false;this.cancelled=true;this.gfx&&this.gfx.endDrawing();this._canvas&&a.delete(this._canvas);this.callback(c||new w.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);
this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound}},{key:"_continue",value:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()}},{key:"_scheduleNext",value:function(){var a=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){a._nextBound().catch(a.cancel.bind(a))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},
{key:"_next",value:function(){var c=f(e.default.mark(function Q(){return e.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.cancelled){c.next=2;break}return c.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&a.delete(this._canvas);this.callback()}}case 4:case "end":return c.stop()}},
Q,this)}));return function(){return c.apply(this,arguments)}}()}]);return c}()}();b.version="2.1.243";b.build="c0d6e46e"},function(d,b,a){d.exports=a(148)},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var b=function(){return this||"object"===("undefined"===typeof self?"undefined":i(self))&&self}()||
Function("return this")(),l=b.regeneratorRuntime&&0<=Object.getOwnPropertyNames(b).indexOf("regeneratorRuntime"),f=l&&b.regeneratorRuntime;b.regeneratorRuntime=void 0;d.exports=a(149);if(l)b.regeneratorRuntime=f;else try{delete b.regeneratorRuntime}catch(n){b.regeneratorRuntime=void 0}},function(d,b,a){(function(a){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==
Symbol.prototype?"symbol":typeof a};return b(a)}!function(d){function n(a,c,b,g){c=Object.create((c&&c.prototype instanceof v?c:v).prototype);g=new e(g||[]);c._invoke=s(a,b,g);return c}function t(a,c,e){try{return{type:"normal",arg:a.call(c,e)}}catch(b){return{type:"throw",arg:b}}}function v(){}function q(){}function j(){}function x(a){["next","throw","return"].forEach(function(c){a[c]=function(a){return this._invoke(c,a)}})}function u(a){function c(e,g,d,k){e=t(a[e],a,g);if("throw"===e.type)k(e.arg);
else{var h=e.arg;return(e=h.value)&&"object"===b(e)&&m.call(e,"__await")?Promise.resolve(e.__await).then(function(a){c("next",a,d,k)},function(a){c("throw",a,d,k)}):Promise.resolve(e).then(function(a){h.value=a;d(h)},function(a){return c("throw",a,d,k)})}}var e;this._invoke=function(a,b){function g(){return new Promise(function(e,g){c(a,b,e,g)})}return e=e?e.then(g,g):g()}}function s(a,c,e){var b=H;return function(g,d){if(b===y)throw Error("Generator is already running");if(b===E){if("throw"===g)throw d;
return w()}e.method=g;for(e.arg=d;;){var k=e.delegate;if(k&&(k=h(k,e))){if(k===I)continue;return k}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(b===H)throw b=E,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);b=y;k=t(a,c,e);if("normal"===k.type){if(b=e.done?E:B,k.arg!==I)return{value:k.arg,done:e.done}}else"throw"===k.type&&(b=E,e.method="throw",e.arg=k.arg)}}}function h(a,c){var e=a.iterator[c.method];if(e===p){c.delegate=null;if("throw"===
c.method){if(a.iterator.return&&(c.method="return",c.arg=p,h(a,c),"throw"===c.method))return I;c.method="throw";c.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}e=t(e,a.iterator,c.arg);if("throw"===e.type)return c.method="throw",c.arg=e.arg,c.delegate=null,I;e=e.arg;if(!e)return c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,I;if(e.done)c[a.resultName]=e.value,c.next=a.nextLoc,"return"!==c.method&&(c.method="next",c.arg=p);else return e;
c.delegate=null;return I}function g(a){var c={tryLoc:a[0]};1 in a&&(c.catchLoc=a[1]);2 in a&&(c.finallyLoc=a[2],c.afterLoc=a[3]);this.tryEntries.push(c)}function c(a){var c=a.completion||{};c.type="normal";delete c.arg;a.completion=c}function e(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(g,this);this.reset(!0)}function k(a){if(a){var c=a[z];if(c)return c.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var e=-1,c=function N(){for(;++e<a.length;)if(m.call(a,e))return N.value=
a[e],N.done=!1,N;N.value=p;N.done=!0;return N};return c.next=c}}return{next:w}}function w(){return{value:p,done:!0}}var o=Object.prototype,m=o.hasOwnProperty,p,r="function"===typeof Symbol?Symbol:{},z=r.iterator||"@@iterator",C=r.asyncIterator||"@@asyncIterator",J=r.toStringTag||"@@toStringTag",r="object"===b(a),G=d.regeneratorRuntime;if(G)r&&(a.exports=G);else{G=d.regeneratorRuntime=r?a.exports:{};G.wrap=n;var H="suspendedStart",B="suspendedYield",y="executing",E="completed",I={},d={};d[z]=function(){return this};
(r=(r=Object.getPrototypeOf)&&r(r(k([]))))&&(r!==o&&m.call(r,z))&&(d=r);var A=j.prototype=v.prototype=Object.create(d);q.prototype=A.constructor=j;j.constructor=q;j[J]=q.displayName="GeneratorFunction";G.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===q||"GeneratorFunction"===(a.displayName||a.name):!1};G.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,j):(a.__proto__=j,J in a||(a[J]="GeneratorFunction"));a.prototype=Object.create(A);return a};G.awrap=
function(a){return{__await:a}};x(u.prototype);u.prototype[C]=function(){return this};G.AsyncIterator=u;G.async=function(a,c,e,b){var g=new u(n(a,c,e,b));return G.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})};x(A);A[J]="Generator";A[z]=function(){return this};A.toString=function(){return"[object Generator]"};G.keys=function(a){var c=[],e;for(e in a)c.push(e);c.reverse();return function N(){for(;c.length;){var e=c.pop();if(e in a)return N.value=e,N.done=!1,N}N.done=
!0;return N}};G.values=k;e.prototype={constructor:e,reset:function(a){this.next=this.prev=0;this.sent=this._sent=p;this.done=!1;this.delegate=null;this.method="next";this.arg=p;this.tryEntries.forEach(c);if(!a)for(var e in this)"t"===e.charAt(0)&&(m.call(this,e)&&!isNaN(+e.slice(1)))&&(this[e]=p)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function c(b,g){d.type="throw";d.arg=a;e.next=b;g&&(e.method=
"next",e.arg=p);return!!g}if(this.done)throw a;for(var e=this,b=this.tryEntries.length-1;0<=b;--b){var g=this.tryEntries[b],d=g.completion;if("root"===g.tryLoc)return c("end");if(g.tryLoc<=this.prev){var k=m.call(g,"catchLoc"),h=m.call(g,"finallyLoc");if(k&&h){if(this.prev<g.catchLoc)return c(g.catchLoc,!0);if(this.prev<g.finallyLoc)return c(g.finallyLoc)}else if(k){if(this.prev<g.catchLoc)return c(g.catchLoc,!0)}else if(h){if(this.prev<g.finallyLoc)return c(g.finallyLoc)}else throw Error("try statement without catch or finally");
}}},abrupt:function(a,c){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.tryLoc<=this.prev&&m.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var g=b;break}}if(g&&("break"===a||"continue"===a)&&g.tryLoc<=c&&c<=g.finallyLoc)g=null;e=g?g.completion:{};e.type=a;e.arg=c;return g?(this.method="next",this.next=g.finallyLoc,I):this.complete(e)},complete:function(a,c){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=
this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&c&&(this.next=c);return I},finish:function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),c(b),I}},"catch":function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.tryLoc===a){a=b.completion;if("throw"===a.type){var g=a.arg;c(b)}return g}}throw Error("illegal catch attempt");},delegateYield:function(a,c,e){this.delegate=
{iterator:k(a),resultName:c,nextLoc:e};"next"===this.method&&(this.arg=p);return I}}}}(function(){return this||"object"===("undefined"===typeof self?"undefined":b(self))&&self}()||Function("return this")())}).call(this,a(150)(d))},function(d){d.exports=function(b){b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),b.webpackPolyfill=
1);return b}},function(d,b,a){function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function l(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}function f(a,b,d){b&&l(a.prototype,b);d&&l(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.addLinkAttributes=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.url,
f=b.target,b=b.rel;a.href=a.title=d?(0,n.removeNullCharacters)(d):"";d&&(d=Object.values(v).includes(f)?f:v.NONE,a.target=q[d],a.rel="string"===typeof b?b:t)};b.getFilenameFromUrl=function(a){var b=a.indexOf("#"),d=a.indexOf("?"),b=Math.min(0<b?b:a.length,0<d?d:a.length);return a.substring(a.lastIndexOf("/",b)+1,b)};b.loadScript=function(a){return new Promise(function(b,d){var f=document.createElement("script");f.src=a;f.onload=b;f.onerror=function(){d(Error("Cannot load script at: ".concat(f.src)))};
(document.head||document.documentElement).appendChild(f)})};b.DummyStatTimer=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.RenderingCancelledException=b.PageViewport=void 0;var n=a(1),t="noopener noreferrer nofollow";b.DEFAULT_LINK_REL=t;d=function(){function a(){i(this,a)}f(a,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw Error("invalid canvas size");var d=document.createElement("canvas"),h=d.getContext("2d");d.width=a;d.height=b;
return{canvas:d,context:h}}},{key:"reset",value:function(a,b,d){if(!a.canvas)throw Error("canvas is not specified");if(0>=b||0>=d)throw Error("invalid canvas size");a.canvas.width=b;a.canvas.height=d}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}();b.DOMCanvasFactory=d;d=function(){function a(b){var d=b.baseUrl,d=void 0===d?null:d,b=b.isCompressed,b=void 0===b?!1:b;i(this,a);this.baseUrl=
d;this.isCompressed=b}f(a,[{key:"fetch",value:function(a){var b=this,d=a.name;return!this.baseUrl?Promise.reject(Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.')):!d?Promise.reject(Error("CMap name must be specified.")):new Promise(function(a,g){var c=b.baseUrl+d+(b.isCompressed?".bcmap":""),e=new XMLHttpRequest;e.open("GET",c,!0);b.isCompressed&&(e.responseType="arraybuffer");e.onreadystatechange=function(){if(e.readyState===
XMLHttpRequest.DONE){if(e.status===200||e.status===0){var d;b.isCompressed&&e.response?d=new Uint8Array(e.response):!b.isCompressed&&e.responseText&&(d=(0,n.stringToBytes)(e.responseText));if(d){a({cMapData:d,compressionType:b.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE});return}}g(Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+c))}};e.send(null)})}}]);return a}();b.DOMCMapReaderFactory=d;d=function(){function a(){i(this,a)}f(a,[{key:"create",value:function(a,
b){(0,n.assert)(0<a&&0<b,"Invalid SVG dimensions");var d=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");d.setAttribute("version","1.1");d.setAttribute("width",a+"px");d.setAttribute("height",b+"px");d.setAttribute("preserveAspectRatio","none");d.setAttribute("viewBox","0 0 "+a+" "+b);return d}},{key:"createElement",value:function(a){(0,n.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return a}();b.DOMSVGFactory=
d;d=function(){function a(b){var d=b.viewBox,f=b.scale,h=b.rotation,g=b.offsetX,c=void 0===g?0:g,g=b.offsetY,e=void 0===g?0:g,b=b.dontFlip,k=void 0===b?!1:b;i(this,a);this.viewBox=d;this.scale=f;this.rotation=h;this.offsetX=c;this.offsetY=e;var b=(d[2]+d[0])/2,g=(d[3]+d[1])/2,w,o,m,h=h%360;switch(0>h?h+360:h){case 180:h=-1;o=w=0;m=1;break;case 90:h=0;o=w=1;m=0;break;case 270:h=0;o=w=-1;m=0;break;default:h=1,o=w=0,m=-1}k&&(o=-o,m=-m);0===h?(c=Math.abs(g-d[1])*f+c,e=Math.abs(b-d[0])*f+e,k=Math.abs(d[3]-
d[1])*f,d=Math.abs(d[2]-d[0])*f):(c=Math.abs(b-d[0])*f+c,e=Math.abs(g-d[1])*f+e,k=Math.abs(d[2]-d[0])*f,d=Math.abs(d[3]-d[1])*f);this.transform=[h*f,w*f,o*f,m*f,c-h*f*b-o*f*g,e-w*f*b-m*f*g];this.width=k;this.height=d}f(a,[{key:"clone",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=b.scale,d=void 0===d?this.scale:d,f=b.rotation,f=void 0===f?this.rotation:f,b=b.dontFlip,b=void 0===b?!1:b;return new a({viewBox:this.viewBox.slice(),scale:d,rotation:f,offsetX:this.offsetX,
offsetY:this.offsetY,dontFlip:b})}},{key:"convertToViewportPoint",value:function(a,b){return n.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=n.Util.applyTransform([a[0],a[1]],this.transform),a=n.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,b){return n.Util.applyInverseTransform([a,b],this.transform)}}]);return a}();b.PageViewport=d;d=function(){function a(b,d){this.message=
b;this.type=d}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}();b.RenderingCancelledException=d;var v={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};b.LinkTarget=v;var q=["","_self","_blank","_parent","_top"],d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;i(this,a);this.enabled=!!b;this.started=Object.create(null);this.times=[]}f(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,n.warn)("Timer is already running for "+
a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,n.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){for(var a=this.times,b="",d=0,h=0,g=a.length;h<g;++h){var c=a[h].name;c.length>d&&(d=c.length)}h=0;for(g=a.length;h<g;++h)var c=a[h],e=c.end-c.start,b=b+"".concat(c.name.padEnd(d)," ").concat(e,"ms\n");return b}}]);return a}();b.StatTimer=
d;d=function(){function a(){i(this,a);(0,n.unreachable)("Cannot initialize DummyStatTimer.")}f(a,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);return a}();b.DummyStatTimer=d},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a){l=
Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return l(a)}function f(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&n(a,b)}function n(a,b){n=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return n(a,b)}function t(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function v(a,b){for(var g=0;g<b.length;g++){var c=b[g];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function q(a,b,g){b&&v(a.prototype,b);g&&v(a,g);return a}Object.defineProperty(b,"__esModule",{value:!0});b.FontLoader=b.FontFaceObject=void 0;var j=a(1),d=function(){function a(b){t(this,a);this.constructor===a&&(0,j.unreachable)("Cannot initialize BaseFontLoader.");this.docId=b;this.nativeFontFaces=[];this.styleElement=null;this.loadingContext=
{requests:[],nextRequestId:0}}q(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)}},{key:"insertRule",value:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)});
this.nativeFontFaces.length=0;this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(a,b){var c=[],e=[],d=[],f=function(a){return a.loaded.catch(function(c){(0,j.warn)('Failed to load font "'.concat(a.family,'": ').concat(c))})},o=!0,m=!1,p=void 0;try{for(var i=a[Symbol.iterator](),z;!(o=(z=i.next()).done);o=!0){var C=z.value;if(!C.attached&&!C.missingFile)if(C.attached=!0,this.isFontLoadingAPISupported){var J=C.createNativeFontFace();J&&(this.addNativeFontFace(J),
d.push(f(J)))}else{var G=C.createFontFaceRule();G&&(this.insertRule(G),c.push(G),e.push(C))}}}catch(s){m=!0,p=s}finally{try{!o&&null!=i.return&&i.return()}finally{if(m)throw p;}}f=this._queueLoadingCallback(b);this.isFontLoadingAPISupported?Promise.all(d).then(f.complete):0<c.length&&!this.isSyncFontLoadingSupported?this._prepareFontLoadEvent(c,e,f):f.complete()}},{key:"_queueLoadingCallback",value:function(a){var b=this.loadingContext,c={id:"pdfjs-font-loading-".concat(b.nextRequestId++),done:!1,
complete:function(){(0,j.assert)(!c.done,"completeRequest() cannot be called twice.");for(c.done=!0;0<b.requests.length&&b.requests[0].done;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a};b.requests.push(c);return c}},{key:"_prepareFontLoadEvent",value:function(){(0,j.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,j.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,
j.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,j.unreachable)("Abstract method `_loadTestFont`.")}}]);return a}(),x;b.FontLoader=x;b.FontLoader=x=function(a){function b(a){t(this,b);a=l(b).call(this,a);if(!a||!("object"===i(a)||"function"===typeof a)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a.loadTestFontId=0;return a}f(b,a);q(b,[{key:"_prepareFontLoadEvent",value:function(a,
c,e){function b(a,c){return a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3)&255}function d(a,c,e,b){var g=a.substring(0,c),a=a.substring(c+e);return g+b+a}function f(a,c){z++;30<z?((0,j.warn)("Load test font never loaded."),c()):(i.font="30px "+a,i.fillText(".",0,20),0<i.getImageData(0,0,1,1).data[3]?c():setTimeout(f.bind(null,a,c)))}var h,p,a=document.createElement("canvas");a.width=1;a.height=1;var i=a.getContext("2d"),z=0,a="lt".concat(Date.now()).concat(this.loadTestFontId++),
C=this._loadTestFont,C=d(C,976,a.length,a),J=b(C,16);h=0;for(p=a.length-3;h<p;h+=4)J=J-1482184792+b(a,h)|0;h<a.length&&(J=J-1482184792+b(a+"XXX",h)|0);C=d(C,16,4,(0,j.string32)(J));h="url(data:font/opentype;base64,".concat(btoa(C),");");this.insertRule('@font-face {font-family:"'.concat(a,'";src:').concat(h,"}"));C=[];h=0;for(p=c.length;h<p;h++)C.push(c[h].loadedName);C.push(a);var G=document.createElement("div");G.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
h=0;for(p=C.length;h<p;++h)c=document.createElement("span"),c.textContent="Hi",c.style.fontFamily=C[h],G.appendChild(c);document.body.appendChild(G);f(a,function(){document.body.removeChild(G);e.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!==typeof document&&!!document.fonts;if(a&&"undefined"!==typeof navigator){var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);c&&63>c[1]&&(a=!1)}return(0,j.shadow)(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",
get:function(){var a=!1;if("undefined"===typeof navigator)a=!0;else{var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);c&&14<=c[1]&&(a=!0)}return(0,j.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){return(0,j.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]);
return b}(d);var u={get value(){return(0,j.shadow)(this,"value",(0,j.isEvalSupported)())}};x=function(){function a(b,d){var c=d.isEvalSupported,c=void 0===c?!0:c,e=d.disableFontFace,e=void 0===e?!1:e,k=d.ignoreErrors,k=void 0===k?!1:k,f=d.onUnsupportedFeature,f=void 0===f?null:f,o=d.fontRegistry,o=void 0===o?null:o;t(this,a);this.compiledGlyphs=Object.create(null);for(var m in b)this[m]=b[m];this.isEvalSupported=!1!==c;this.disableFontFace=!0===e;this.ignoreErrors=!0===k;this._onUnsupportedFeature=
f;this.fontRegistry=o}q(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=(0,j.bytesToString)(new Uint8Array(this.data)),a="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");"),b='@font-face {font-family:"'.concat(this.loadedName,
'";src:').concat(a,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,a);return b}},{key:"getPathGenerator",value:function(a,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];var c,e;try{c=a.get(this.loadedName+"_path_"+b)}catch(d){if(!this.ignoreErrors)throw d;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:j.UNSUPPORTED_FEATURES.font});(0,j.warn)('getPathGenerator - ignoring character: "'.concat(d,'".'));return this.compiledGlyphs[b]=function(){}}if(this.isEvalSupported&&
u.value){for(var f,o="",m=0,p=c.length;m<p;m++)e=c[m],f=void 0!==e.args?e.args.join(","):"",o+="c."+e.cmd+"("+f+");\n";return this.compiledGlyphs[b]=new Function("c","size",o)}return this.compiledGlyphs[b]=function(a,b){for(var d=0,g=c.length;d<g;d++)e=c[d],"scale"===e.cmd&&(e.args=[b,-b]),a[e.cmd].apply(a,e.args)}}}]);return a}();b.FontFaceObject=x},function(d,b,a){var d=Object.create(null),a=a(4),i="undefined"!==typeof navigator&&navigator.userAgent||"",l=/Trident/.test(i),i=/CriOS/.test(i);if(l||
i)d.disableCreateObjectURL=!0;a()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none");b.apiCompatibilityParams=Object.freeze(d)},function(d,b,a){function i(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",
{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],d=a[1],g=a[2],c=a[3],e=a[4],a=a[5],k=b*c-d*g,f=d*g-b*c;return[c/k,d/f,g/f,b/k,(c*e-g*a)/f,(d*e-b*a)/k]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=
function(a,b){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*b+d[4];d[5]=d[1]*a+d[3]*b+d[5];this._originalTranslate(a,b)},a.scale=function(a,b){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=b;d[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,f,g,c,e){var k=this._transformMatrix;this._transformMatrix=[k[0]*b+k[2]*d,k[1]*b+k[3]*d,k[0]*f+k[2]*g,k[1]*f+k[3]*g,k[0]*c+k[2]*e+k[4],k[1]*c+k[3]*e+k[5]];a._originalTransform(b,d,f,g,c,e)},a.setTransform=function(b,d,f,g,c,e){this._transformMatrix=
[b,d,f,g,c,e];a._originalSetTransform(b,d,f,g,c,e)},a.rotate=function(a){var b=Math.cos(a),d=Math.sin(a),g=this._transformMatrix;this._transformMatrix=[g[0]*b+g[2]*d,g[1]*b+g[3]*d,g[0]*-d+g[2]*b,g[1]*-d+g[3]*b,g[4],g[5]];this._originalRotate(a)})}function l(a){var b=a.width,d=a.height,f,g,c=b+1,e=new Uint8Array(c*(d+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),j=b+7&-8,o=a.data,m=new Uint8Array(j*d),p=0,a=0;for(f=o.length;a<f;a++){g=128;for(var i=o[a];0<g;)m[p++]=i&g?0:255,g>>=1}p=o=0;
0!==m[p]&&(e[0]=1,++o);for(f=1;f<b;f++)m[p]!==m[p+1]&&(e[f]=m[p]?2:1,++o),p++;0!==m[p]&&(e[f]=2,++o);for(a=1;a<d;a++){p=a*j;g=a*c;m[p-j]!==m[p]&&(e[g]=m[p]?1:8,++o);i=(m[p]?4:0)+(m[p-j]?8:0);for(f=1;f<b;f++)i=(i>>2)+(m[p+1]?4:0)+(m[p-j+1]?8:0),k[i]&&(e[g+f]=k[i],++o),p++;m[p-j]!==m[p]&&(e[g+f]=m[p]?2:4,++o);if(1E3<o)return null}p=j*(d-1);g=a*c;0!==m[p]&&(e[g]=8,++o);for(f=1;f<b;f++)m[p]!==m[p+1]&&(e[g+f]=m[p]?4:8,++o),p++;0!==m[p]&&(e[g+f]=4,++o);if(1E3<o)return null;for(var k=new Int32Array([0,c,
-1,0,-c,0,0,0,1]),z=[],a=0;o&&a<=d;a++){j=a*c;for(m=j+b;j<m&&!e[j];)j++;if(j!==m){m=[j%c,a];p=e[j];f=j;do{g=k[p];do j+=g;while(!e[j]);g=e[j];5!==g&&10!==g?(p=g,e[j]=0):(p=g&51*p>>4,e[j]&=p>>2|p<<2);m.push(j%c);m.push(j/c|0);--o}while(f!==j);z.push(m);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,e=z.length;c<e;c++){var g=z[c];a.moveTo(g[0],g[1]);for(var k=2,f=g.length;k<f;k=k+2)a.lineTo(g[k],g[k+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(b,
"__esModule",{value:!0});b.CanvasGraphics=void 0;var f=a(1),n=a(155),t=16,v={get value(){return(0,f.shadow)(v,"value",(0,f.isLittleEndian)())}},q=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,d,g){var c;void 0!==this.cache[a]?(c=this.cache[a],this.canvasFactory.reset(c,b,d),c.context.setTransform(1,0,0,1,0,0)):(c=this.canvasFactory.create(b,d),this.cache[a]=c);g&&i(c.context);return c},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),
delete this.cache[a]}};return a}(),j=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=f.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=f.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=f.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),d=function(){function a(c,e,b,d,g,k){this.ctx=c;this.current=new j;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=e;this.objs=b;this.canvasFactory=d;this.webGLContext=g;this.imageLayer=k;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=
[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new q(this.canvasFactory);c&&i(c);this._cachedGetSinglePixelWidth=null}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var e=c.height,d=c.width,g=e%t,e=(e-g)/t,k=0===g?e:e+1,h=a.createImageData(d,t),m=0,j,o=c.data,w=h.data,p,i,r;if(c.kind===f.ImageKind.GRAYSCALE_1BPP){var l=o.byteLength,w=new Uint32Array(w.buffer,0,w.byteLength>>2),s=w.length,q=d+7>>3,K=v.value?4278190080:255;for(p=
0;p<k;p++){r=p<e?t:g;for(i=j=0;i<r;i++){for(var n=l-m,u=0,n=n>q?d:8*n-7,x=n&-8,U=0,T=0;u<x;u+=8)T=o[m++],w[j++]=T&128?4294967295:K,w[j++]=T&64?4294967295:K,w[j++]=T&32?4294967295:K,w[j++]=T&16?4294967295:K,w[j++]=T&8?4294967295:K,w[j++]=T&4?4294967295:K,w[j++]=T&2?4294967295:K,w[j++]=T&1?4294967295:K;for(;u<n;u++)0===U&&(T=o[m++],U=128),w[j++]=T&U?4294967295:K,U>>=1}for(;j<s;)w[j++]=0;a.putImageData(h,0,p*t)}}else if(c.kind===f.ImageKind.RGBA_32BPP){i=0;r=4*d*t;for(p=0;p<e;p++)w.set(o.subarray(m,
m+r)),m+=r,a.putImageData(h,0,i),i+=t;p<k&&(w.set(o.subarray(m,m+4*d*g)),a.putImageData(h,0,i))}else if(c.kind===f.ImageKind.RGB_24BPP){r=t;r*=d;for(p=0;p<k;p++){p>=e&&(r=g,r*=d);j=0;for(i=r;i--;)w[j++]=o[m++],w[j++]=o[m++],w[j++]=o[m++],w[j++]=255;a.putImageData(h,0,p*t)}}else throw Error("bad image kind: ".concat(c.kind));}}function d(a,c){for(var e=c.height,b=c.width,g=e%t,e=(e-g)/t,k=0===g?e:e+1,f=a.createImageData(b,t),h=0,m=c.data,j=f.data,o=0;o<k;o++){for(var w=o<e?t:g,p=3,i=0;i<w;i++)for(var r=
0,v=0;v<b;v++){if(!r)var l=m[h++],r=128;j[p]=l&r?0:255;p+=4;r>>=1}a.putImageData(f,0,o*t)}}function h(a,c){for(var e="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),b=0,d=e.length;b<d;b++){var g=e[b];void 0!==a[g]&&(c[g]=a[g])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function g(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=
1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function c(a,c,e){for(var b=a.length,d=1/255,g=3;g<b;g+=4)c[g]=c[g]*(e?e[a[g]]:a[g])*d|0}function e(a,c,e){for(var b=a.length,d=3;d<b;d+=4){var g=77*a[d-3]+152*a[d-2]+28*a[d-1];c[d]=e?c[d]*e[g>>8]>>8:c[d]*g>>16}}function k(a,b,d,g){var k=b.canvas,f=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var h=
b.backdrop||null;if(!b.transferMap&&g.isEnabled)d=g.composeSMask({layer:d.canvas,mask:k,properties:{subtype:b.subtype,backdrop:h}}),a.setTransform(1,0,0,1,0,0),a.drawImage(d,b.offsetX,b.offsetY);else{for(var g=k.width,m=k.height,j=b.transferMap,o=!!h,w=o?h[0]:0,p=o?h[1]:0,h=o?h[2]:0,b="Luminosity"===b.subtype?e:c,i=Math.min(m,Math.ceil(1048576/g)),r=0;r<m;r+=i){var v=Math.min(i,m-r),l=f.getImageData(0,r,g,v),v=d.getImageData(0,r,g,v);if(o)for(var t=l.data,K=w,s=p,q=h,n=t.length,u=3;u<n;u+=4){var x=
t[u];if(0===x)t[u-3]=K,t[u-2]=s,t[u-1]=q;else if(255>x){var X=255-x;t[u-3]=t[u-3]*x+K*X>>8;t[u-2]=t[u-2]*x+s*X>>8;t[u-1]=t[u-1]*x+q*X>>8}}b(l.data,v.data,j);f.putImageData(v,0,r)}a.drawImage(k,0,0)}}var w=["butt","round","square"],o=["miter","round","bevel"],m={},p={};a.prototype={beginDrawing:function(a){var c=a.transform,e=a.viewport,b=a.transparency,b=void 0===b?!1:b,a=a.background,a=void 0===a?null:a,d=this.ctx.canvas.width,k=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";
this.ctx.fillRect(0,0,d,k);this.ctx.restore();b&&(b=this.cachedCanvases.getCanvas("transparent",d,k,!0),this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();g(this.ctx);c&&this.ctx.transform.apply(this.ctx,c);this.ctx.transform.apply(this.ctx,e.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,
c,b,e){var d=a.argsArray,a=a.fnArray,c=c||0,g=d.length;if(g===c)return c;for(var k=10<g-c&&"function"===typeof b,h=k?Date.now()+15:0,m=0,j=this.commonObjs,o=this.objs,w;;){if(void 0!==e&&c===e.nextBreakPoint)return e.breakIt(c,b),c;w=a[c];if(w!==f.OPS.dependency)this[w].apply(this,d[c]);else{w=d[c];for(var p=0,i=w.length;p<i;p++){var r=w[p],v="g"===r[0]&&"_"===r[1]?j:o;if(!v.has(r))return v.get(r,b),c}}c++;if(c===g)return c;if(k&&10<++m){if(Date.now()>h)return b(),c;m=0}}},endDrawing:function(){null!==
this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=w[a]},setLineJoin:function(a){this.ctx.lineJoin=
o[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var e=a[c],d=e[1];switch(e[0]){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "RI":this.setRenderingIntent(d);
break;case "FL":this.setFlatness(d);break;case "Font":this.setFont(d[0],d[1]);break;case "CA":this.current.strokeAlpha=e[1];break;case "ca":this.current.fillAlpha=e[1];this.ctx.globalAlpha=e[1];break;case "BM":this.ctx.globalCompositeOperation=d;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=d?this.tempSMask:null,this.current.activeSMask&&
this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),b=this.ctx,e=b.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/a.scaleX,1/a.scaleY);c.translate(-a.offsetX,-a.offsetY);c.transform.apply(c,e);a.startTransformInverse=c.mozCurrentTransformInverse;h(b,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);
this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();h(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,f.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=
this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();h(a,this.ctx);this.ctx.transform.apply(this.ctx,f.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=
null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this._cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,c,b,e,d,g){this.ctx.transform(a,c,b,e,d,g);this._cachedGetSinglePixelWidth=null},constructPath:function(a,
c){for(var b=this.ctx,e=this.current,d=e.x,g=e.y,k=0,h=0,m=a.length;k<m;k++)switch(a[k]|0){case f.OPS.rectangle:var d=c[h++],g=c[h++],j=c[h++],o=c[h++];0===j&&(j=this.getSinglePixelWidth());0===o&&(o=this.getSinglePixelWidth());j=d+j;o=g+o;this.ctx.moveTo(d,g);this.ctx.lineTo(j,g);this.ctx.lineTo(j,o);this.ctx.lineTo(d,o);this.ctx.lineTo(d,g);this.ctx.closePath();break;case f.OPS.moveTo:d=c[h++];g=c[h++];b.moveTo(d,g);break;case f.OPS.lineTo:d=c[h++];g=c[h++];b.lineTo(d,g);break;case f.OPS.curveTo:d=
c[h+4];g=c[h+5];b.bezierCurveTo(c[h],c[h+1],c[h+2],c[h+3],d,g);h+=6;break;case f.OPS.curveTo2:b.bezierCurveTo(d,g,c[h],c[h+1],c[h+2],c[h+3]);d=c[h+2];g=c[h+3];h+=4;break;case f.OPS.curveTo3:d=c[h+2];g=c[h+3];b.bezierCurveTo(c[h],c[h+1],d,g,d,g);h+=4;break;case f.OPS.closePath:b.closePath()}e.setCurrentPoint(d,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),
this.current.lineWidth);c.globalAlpha=this.current.strokeAlpha;b&&b.hasOwnProperty("type")&&"Pattern"===b.type?(c.save(),c.strokeStyle=b.getPattern(c,this),c.stroke(),c.restore()):c.stroke();a&&this.consumePath();c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,e=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=
b.getPattern(c,this),e=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();e&&c.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},
clip:function(){this.pendingClip=m},eoClip:function(){this.pendingClip=p},beginText:function(){this.current.textMatrix=f.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var e=a[b];c.setTransform.apply(c,e.transform);c.translate(e.x,e.y);e.addToPath(c,e.fontSize)}c.restore();c.clip();c.beginPath();
delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var b=this.commonObjs.get(a),e=this.current;if(!b)throw Error("Can't find font for ".concat(a));e.fontMatrix=b.fontMatrix?b.fontMatrix:f.FONT_IDENTITY_MATRIX;if(0===e.fontMatrix[0]||0===e.fontMatrix[3])(0,f.warn)("Invalid font matrix for font "+
a);0>c?(c=-c,e.fontDirection=-1):e.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var e=b.black?"900":b.bold?"bold":"normal",d=b.italic?"italic":"normal",b='"'.concat(b.loadedName||"sans-serif",'", ').concat(b.fallbackName),g=16>c?16:100<c?100:c;this.current.fontSizeScale=c/g;this.ctx.font="".concat(d," ").concat(e," ").concat(g,"px ").concat(b)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,
c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,c,b,e,d,g){this.current.textMatrix=[a,c,b,e,d,g];this.current.textMatrixScale=Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,e){var d=this.ctx,g=this.current,k=g.font,h=g.textRenderingMode,m=g.fontSize/
g.fontSizeScale,j=h&f.TextRenderingMode.FILL_STROKE_MASK,h=!!(h&f.TextRenderingMode.ADD_TO_PATH_FLAG),g=g.patternFill&&k.data,o;if(k.disableFontFace||h||g)o=k.getPathGenerator(this.commonObjs,a);k.disableFontFace||g?(d.save(),d.translate(c,b),d.beginPath(),o(d,m),e&&d.setTransform.apply(d,e),(j===f.TextRenderingMode.FILL||j===f.TextRenderingMode.FILL_STROKE)&&d.fill(),(j===f.TextRenderingMode.STROKE||j===f.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((j===f.TextRenderingMode.FILL||j===
f.TextRenderingMode.FILL_STROKE)&&d.fillText(a,c,b),(j===f.TextRenderingMode.STROKE||j===f.TextRenderingMode.FILL_STROKE)&&d.strokeText(a,c,b));h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:c,y:b,fontSize:m,addToPath:o})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=4)if(0<a[b]&&255>a[b]){c=!0;break}return(0,f.shadow)(this,
"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var e=c.fontSize;if(0!==e){var d=this.ctx,g=c.fontSizeScale,k=c.charSpacing,h=c.wordSpacing,m=c.fontDirection,j=c.textHScale*m,o=a.length,w=b.vertical,p=w?1:-1,i=b.defaultVMetrics,r=e*c.fontMatrix[0],v=c.textRenderingMode===f.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;d.save();var t;if(c.patternFill){d.save();var K=c.fillColor.getPattern(d,this);t=d.mozCurrentTransform;
d.restore();d.fillStyle=K}d.transform.apply(d,c.textMatrix);d.translate(c.x,c.y+c.textRise);0<m?d.scale(j,-1):d.scale(j,1);var K=c.lineWidth,l=c.textMatrixScale;if(0===l||0===K){if(l=c.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK,l===f.TextRenderingMode.STROKE||l===f.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=null,K=0.65*this.getSinglePixelWidth()}else K/=l;1!==g&&(d.scale(g,g),K/=g);d.lineWidth=K;for(l=K=0;l<o;++l){var s=a[l];if((0,f.isNum)(s))K+=p*s*e/1E3;else{var q=
!1,n=(s.isSpace?h:0)+k,u=s.fontChar,x=s.accent,Q,W,D=s.width;if(w){var S;Q=s.vmetric||i;S=s.vmetric?Q[1]:0.5*D;S=-S*r;W=Q[2]*r;D=Q?-Q[0]:D;Q=S/g;W=(K+W)/g}else Q=K/g,W=0;b.remeasure&&0<D&&(S=1E3*d.measureText(u).width/e*g,D<S&&this.isFontSubpixelAAEnabled?(S=D/S,q=!0,d.save(),d.scale(S,1),Q/=S):D!==S&&(Q+=(D-S)/2E3*e/g));if(s.isInFont||b.missingFile)v&&!x?d.fillText(u,Q,W):(this.paintChar(u,Q,W,t),x&&(s=Q+x.offset.x/g,u=W-x.offset.y/g,this.paintChar(x.fontChar,s,u,t)));K+=D*r+n*m;q&&d.restore()}}w?
c.y-=K*j:c.x+=K*j;d.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,e=b.font,d=b.fontSize,g=b.fontDirection,k=e.vertical?1:-1,h=b.charSpacing,m=b.wordSpacing,j=b.textHScale*g,o=b.fontMatrix||f.FONT_IDENTITY_MATRIX,w=a.length,p;if(!(b.textRenderingMode===f.TextRenderingMode.INVISIBLE||0===d)){this._cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(j,g);for(g=0;g<w;++g)if(p=a[g],(0,f.isNum)(p))p=k*p*d/1E3,this.ctx.translate(p,
0),b.x+=p*j;else{var i=(p.isSpace?m:0)+h,r=e.charProcOperatorList[p.operatorListId];r?(this.processingType3=p,this.save(),c.scale(d,d),c.transform.apply(c,o),this.executeOperatorList(r),this.restore(),p=f.Util.applyTransform([p.width,0],o)[0]*d+i,c.translate(p,0),b.x+=p*j):(0,f.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'))}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,e,d,g){this.ctx.rect(b,e,d-b,g-e);this.clip();
this.endPath()},getColorN_Pattern:function(c){var b=this;if("TilingPattern"===c[0])var e=c[1],d=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c=new n.TilingPattern(c,e,this.ctx,{createCanvasGraphics:function(c){return new a(c,b.commonObjs,b.objs,b.canvasFactory,b.webGLContext)}},d);else c=(0,n.getShadingPatternFromIR)(c);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);
this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=f.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=f.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,n.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,e=c.width,d=c.height,c=f.Util.applyTransform([0,
0],b),a=f.Util.applyTransform([0,d],b),g=f.Util.applyTransform([e,0],b),k=f.Util.applyTransform([e,d],b),b=Math.min(c[0],a[0],g[0],k[0]),e=Math.min(c[1],a[1],g[1],k[1]),d=Math.max(c[0],a[0],g[0],k[0]),c=Math.max(c[1],a[1],g[1],k[1]);this.ctx.fillRect(b,e,d-b,c-e)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,f.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,f.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,
c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;c&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||(0,f.info)("TODO: Support non-isolated groups.");a.knockout&&(0,f.warn)("Knockout groups not supported.");
var b=c.mozCurrentTransform;a.matrix&&c.transform.apply(c,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var e=f.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),e=f.Util.intersect(e,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],d=Math.floor(e[0]),g=Math.floor(e[1]),k=Math.max(Math.ceil(e[2])-d,1),m=Math.max(Math.ceil(e[3])-g,1),j=e=1;4096<k&&(e=k/4096,k=4096);4096<m&&(j=m/4096,m=4096);var o="groupAt"+this.groupLevel;a.smask&&(o+="_smask_"+this.smaskCounter++%2);k=this.cachedCanvases.getCanvas(o,
k,m,!0);m=k.context;m.scale(1/e,1/j);m.translate(-d,-g);m.transform.apply(m,b);a.smask?this.smaskStack.push({canvas:k.canvas,context:m,offsetX:d,offsetY:g,scaleX:e,scaleY:j,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(d,g),c.scale(e,j));h(c,m);this.ctx=m;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;
var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,c,b){this.save();g(this.ctx);this.current=new j;Array.isArray(a)&&
4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,b)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,c,b){var e=this.objs.get(a);if(e){this.save();var d=this.ctx;d.scale(1/c,-1/b);d.drawImage(e,0,0,e.width,e.height,0,-b,c,b);this.imageLayer&&(e=d.mozCurrentTransformInverse,d=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:d[0],top:d[1],width:c/e[0],height:b/e[3]}));
this.restore()}else(0,f.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,e=a.height,g=this.current.fillColor,k=this.current.patternFill,f=this.processingType3;f&&void 0===f.compiled&&(f.compiled=1E3>=b&&1E3>=e?l({data:a.data,width:b,height:e}):null);f&&f.compiled?f.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,e),f=c.context,f.save(),d(f,a),f.globalCompositeOperation="source-in",f.fillStyle=k?g.getPattern(f,this):g,f.fillRect(0,0,b,
e),f.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,e){var g=a.width,k=a.height,f=this.current.fillColor,h=this.current.patternFill,m=this.cachedCanvases.getCanvas("maskCanvas",g,k),j=m.context;j.save();d(j,a);j.globalCompositeOperation="source-in";j.fillStyle=h?f.getPattern(j,this):f;j.fillRect(0,0,g,k);j.restore();a=this.ctx;f=0;for(h=e.length;f<h;f+=2)a.save(),a.transform(c,0,0,b,e[f],e[f+1]),a.scale(1,-1),a.drawImage(m.canvas,0,0,g,k,0,-1,1,1),a.restore()},
paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,e=this.current.patternFill,g=0,k=a.length;g<k;g++){var f=a[g],h=f.width,m=f.height,j=this.cachedCanvases.getCanvas("maskCanvas",h,m),o=j.context;o.save();d(o,f);o.globalCompositeOperation="source-in";o.fillStyle=e?b.getPattern(o,this):b;o.fillRect(0,0,h,m);o.restore();c.save();c.transform.apply(c,f.transform);c.scale(1,-1);c.drawImage(j.canvas,0,0,h,m,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?
this.paintInlineImageXObject(a):(0,f.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,e){if(a=this.objs.get(a)){for(var d=a.width,g=a.height,k=[],h=0,m=e.length;h<m;h+=2)k.push({transform:[c,0,0,b,e[h],e[h+1]],x:0,y:0,w:d,h:g});this.paintInlineImageXObjectGroup(a,k)}else(0,f.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,e=a.height,d=this.ctx;this.save();d.scale(1/c,-1/e);var g=d.mozCurrentTransformInverse,k=g[0],f=g[1],
k=Math.max(Math.sqrt(k*k+f*f),1),f=g[2],h=g[3],f=Math.max(Math.sqrt(f*f+h*h),1),m;if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)h=a;else{m=this.cachedCanvases.getCanvas("inlineImage",c,e);var j=m.context;b(j,a);h=m.canvas}for(var o=c,w=e,p="prescale1";2<k&&1<o||2<f&&1<w;){var i=o,r=w;2<k&&1<o&&(i=Math.ceil(o/2),k/=o/i);2<f&&1<w&&(r=Math.ceil(w/2),f/=w/r);m=this.cachedCanvases.getCanvas(p,i,r);j=m.context;j.clearRect(0,0,i,r);j.drawImage(h,0,0,o,w,0,0,i,r);h=m.canvas;o=i;w=
r;p="prescale1"===p?"prescale2":"prescale1"}d.drawImage(h,0,0,o,w,0,-e,c,e);this.imageLayer&&(d=this.getCanvasPosition(0,-e),this.imageLayer.appendImage({imgData:a,left:d[0],top:d[1],width:c/g[0],height:e/g[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var e=this.ctx,d=a.width,g=a.height,k=this.cachedCanvases.getCanvas("inlineImage",d,g);b(k.context,a);for(var f=0,h=c.length;f<h;f++){var m=c[f];e.save();e.transform.apply(e,m.transform);e.scale(1,-1);e.drawImage(k.canvas,m.x,m.y,
m.w,m.h,0,-1,1,1);this.imageLayer&&(m=this.getCanvasPosition(m.x,m.y),this.imageLayer.appendImage({imgData:a,left:m[0],top:m[1],width:d,height:g}));e.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,f.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=
this.ctx;this.pendingClip&&(this.pendingClip===p?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var r in f.OPS)a.prototype[f.OPS[r]]=
a.prototype[r];return a}();b.CanvasGraphics=d},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.getShadingPatternFromIR=function(a){var b=l[a[0]];if(!b)throw Error("Unknown IR type: ".concat(a[0]));return b.fromIR(a)};b.TilingPattern=void 0;var i=a(1),l={RadialAxial:{fromIR:function(a){var b=a[1],d=a[2],f=a[3],j=a[4],i=a[5],l=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(f[0],f[1],j[0],j[1]):"radial"===b&&(h=a.createRadialGradient(f[0],
f[1],i,j[0],j[1],l));for(var a=0,g=d.length;a<g;++a){var c=d[a];h.addColorStop(c[0],c[1])}return h}}}}},f=function(){function a(b,d,f,j,i,l,s,h){var g=d.coords,c=d.colors,e=b.data,b=4*b.width,k;g[f+1]>g[j+1]&&(k=f,f=j,j=k,k=l,l=s,s=k);g[j+1]>g[i+1]&&(k=j,j=i,i=k,k=s,s=h,h=k);g[f+1]>g[j+1]&&(k=f,f=j,j=k,k=l,l=s,s=k);k=(g[f]+d.offsetX)*d.scaleX;var f=(g[f+1]+d.offsetY)*d.scaleY,w=(g[j]+d.offsetX)*d.scaleX,j=(g[j+1]+d.offsetY)*d.scaleY,o=(g[i]+d.offsetX)*d.scaleX,d=(g[i+1]+d.offsetY)*d.scaleY;if(!(f>=
d))for(var i=c[l],g=c[l+1],l=c[l+2],m=c[s],p=c[s+1],s=c[s+2],r=c[h],n=c[h+1],h=c[h+2],C=Math.round(f),c=Math.round(d),J,G,H,B,y,E,I,A,M=C;M<=c;M++){M<j?(A=M<f?0:f===j?1:(f-M)/(f-j),C=k-(k-w)*A,J=i-(i-m)*A,G=g-(g-p)*A,H=l-(l-s)*A):(A=M>d?1:j===d?0:(j-M)/(j-d),C=w-(w-o)*A,J=m-(m-r)*A,G=p-(p-n)*A,H=s-(s-h)*A);A=M<f?0:M>d?1:(f-M)/(f-d);B=k-(k-o)*A;y=i-(i-r)*A;E=g-(g-n)*A;I=l-(l-h)*A;A=Math.round(Math.min(C,B));for(var L=Math.round(Math.max(C,B)),O=b*M+4*A,P=A;P<=L;P++)A=(C-P)/(C-B),A=0>A?0:1<A?1:A,e[O++]=
J-(J-y)*A|0,e[O++]=G-(G-E)*A|0,e[O++]=H-(H-I)*A|0,e[O++]=255}}return function(b,d,f,j,i,l,s,h){var g=Math.floor(b[0]),c=Math.floor(b[1]),e=Math.ceil(b[2])-g,b=Math.ceil(b[3])-c,k=Math.min(Math.ceil(Math.abs(1.1*e*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*b*d[1])),3E3),e=e/k,b=b/d,f={coords:f,colors:j,offsetX:-g,offsetY:-c,scaleX:1/e,scaleY:1/b},j=k+4,w=d+4;if(h.isEnabled)i=h.drawFigures({width:k,height:d,backgroundColor:l,figures:i,context:f}),s=s.getCanvas("mesh",j,w,!1),s.context.drawImage(i,
2,2);else{s=s.getCanvas("mesh",j,w,!1);h=s.context;d=h.createImageData(k,d);if(l){w=d.data;k=0;for(j=w.length;k<j;k+=4)w[k]=l[0],w[k+1]=l[1],w[k+2]=l[2],w[k+3]=255}for(k=0;k<i.length;k++){var l=d,o=i[k],j=f,w=o.coords,m=o.colors,p=void 0,r=void 0;switch(o.type){case "lattice":for(var o=o.verticesPerRow,r=Math.floor(w.length/o)-1,z=o-1,p=0;p<r;p++)for(var C=p*o,J=0;J<z;J++,C++)a(l,j,w[C],w[C+1],w[C+o],m[C],m[C+1],m[C+o]),a(l,j,w[C+o+1],w[C+1],w[C+o],m[C+o+1],m[C+1],m[C+o]);break;case "triangles":p=
0;for(r=w.length;p<r;p+=3)a(l,j,w[p],w[p+1],w[p+2],m[p],m[p+1],m[p+2]);break;default:throw Error("illegal figure");}}h.putImageData(d,2,2)}i=s.canvas;return{canvas:i,offsetX:g-2*e,offsetY:c-2*b,scaleX:e,scaleY:b}}}();l.Mesh={fromIR:function(a){var b=a[2],d=a[3],l=a[4],j=a[5],x=a[6],u=a[8];return{type:"Pattern",getPattern:function(a,h,g){var c;if(g)c=i.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(c=i.Util.singularValueDecompose2dScale(h.baseTransform),x){var e=i.Util.singularValueDecompose2dScale(x);
c=[c[0]*e[0],c[1]*e[1]]}c=f(j,c,b,d,l,g?null:u,h.cachedCanvases,h.webGLContext);g||(a.setTransform.apply(a,h.baseTransform),x&&a.transform.apply(a,x));a.translate(c.offsetX,c.offsetY);a.scale(c.scaleX,c.scaleY);return a.createPattern(c.canvas,"no-repeat")}}}};l.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};d=function(){function a(b,d,f,j,i){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=
b[7];this.tilingType=b[8];this.color=d;this.canvasGraphicsFactory=j;this.baseTransform=i;this.type="Pattern";this.ctx=f}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,f=this.xstep,l=this.ystep,n=this.paintType,s=this.tilingType,h=this.color,g=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+s);var s=d[0],c=d[1],e=d[2],k=d[3],w=[s,c],o=[s+f,c+l],m=o[0]-w[0],o=o[1]-w[1],p=i.Util.singularValueDecompose2dScale(this.matrix),r=i.Util.singularValueDecompose2dScale(this.baseTransform),
p=[p[0]*r[0],p[1]*r[1]],m=Math.min(Math.ceil(Math.abs(m*p[0])),3E3),o=Math.min(Math.ceil(Math.abs(o*p[1])),3E3),p=a.cachedCanvases.getCanvas("pattern",m,o,!0),g=g.createCanvasGraphics(p.context);g.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(g,n,h);this.setScale(m,o,f,l);this.transformToScale(g);g.transform.apply(g,[1,0,0,1,-w[0],-w[1]]);this.clipBbox(g,d,s,c,e,k);g.executeOperatorList(b);return p.canvas},setScale:function(a,b,d,f){this.scale=[a/d,b/f]},transformToScale:function(a){var b=
this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,d,f,i,l){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,f,i-d,l-f),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var f=a.ctx,a=a.current;switch(b){case 1:b=this.ctx;f.fillStyle=b.fillStyle;f.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=i.Util.makeCssRgb(d[0],d[1],d[2]);f.fillStyle=
b;f.strokeStyle=b;a.fillColor=b;a.strokeColor=b;break;default:throw new i.FormatError("Unsupported paint type: ".concat(b));}},getPattern:function(a,b){var d=this.createPatternCanvas(b),a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(d,"repeat")}};return a}();b.TilingPattern=d},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GlobalWorkerOptions=void 0;var a=Object.create(null);b.GlobalWorkerOptions=
a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b,c,e,d,f,j){try{var m=a[f](j),p=m.value}catch(i){c(i);return}m.done?b(p):Promise.resolve(p).then(e,d)}function f(a){return function(){var b=
this,c=arguments;return new Promise(function(e,d){function f(a){l(m,e,d,f,j,"next",a)}function j(a){l(m,e,d,f,j,"throw",a)}var m=a.apply(b,c);f(void 0)})}}function n(a,b){return t.apply(this,arguments)}function t(){t=f(u.default.mark(function g(a,b){var d,f=arguments;return u.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:d=2<f.length&&void 0!==f[2]?f[2]:null;if(a){g.next=3;break}return g.abrupt("return");case 3:return g.abrupt("return",a.apply(d,b));case 4:case "end":return g.stop()}},
g,this)}));return t.apply(this,arguments)}function v(a){if("object"!==i(a))return a;switch(a.name){case "AbortException":return new s.AbortException(a.message);case "MissingPDFException":return new s.MissingPDFException(a.message);case "UnexpectedResponseException":return new s.UnexpectedResponseException(a.message,a.status);default:return new s.UnknownErrorException(a.message,a.details)}}function q(a,b,c){b?a.resolve():a.reject(c)}function j(a){return Promise.resolve(a).catch(function(){})}function x(a,
b,c){var e=this;this.sourceName=a;this.targetName=b;this.comObj=c;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var d=this.callbacksCapabilities=Object.create(null),f=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===e.sourceName)if(b.stream)e._processStreamMessage(b);else if(b.isReply)if(a=b.callbackId,b.callbackId in d){var g=d[a];delete d[a];"error"in
b?g.reject(v(b.error)):g.resolve(b.data)}else throw Error("Cannot resolve callback ".concat(a));else if(b.action in f){var h=f[b.action];if(b.callbackId){var j=e.sourceName,i=b.sourceName;Promise.resolve().then(function(){return h[0].call(h[1],b.data)}).then(function(a){c.postMessage({sourceName:j,targetName:i,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:j,targetName:i,isReply:!0,callbackId:b.callbackId,error:!(a instanceof Error)||a instanceof s.AbortException||
a instanceof s.MissingPDFException||a instanceof s.UnexpectedResponseException||a instanceof s.UnknownErrorException?a:new s.UnknownErrorException(a.message,a.toString())})})}else b.streamId?e._createStreamSink(b):h[0].call(h[1],b.data)}else throw Error("Unknown action from worker: ".concat(b.action));};c.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(b,"__esModule",{value:!0});b.MessageHandler=x;var u=function(a){return a&&a.__esModule?a:{"default":a}}(a(147)),s=a(1);x.prototype=
{on:function(a,b,c){var e=this.actionHandler;if(e[a])throw Error('There is already an actionName called "'.concat(a,'"'));e[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)},sendWithPromise:function(a,b,c){var e=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:e},b=(0,s.createPromiseCapability)();this.callbacksCapabilities[e]=b;try{this.postMessage(a,c)}catch(d){b.reject(d)}return b.promise},
sendWithStream:function(a,b,c){var e=this,d=this.streamId++,f=this.sourceName,j=this.targetName;return new s.ReadableStream({start:function(c){var i=(0,s.createPromiseCapability)();e.streamControllers[d]={controller:c,startCall:i,isClosed:!1};e.postMessage({sourceName:f,targetName:j,action:a,streamId:d,data:b,desiredSize:c.desiredSize});return i.promise},pull:function(a){var c=(0,s.createPromiseCapability)();e.streamControllers[d].pullCall=c;e.postMessage({sourceName:f,targetName:j,stream:"pull",
streamId:d,desiredSize:a.desiredSize});return c.promise},cancel:function(a){var c=(0,s.createPromiseCapability)();e.streamControllers[d].cancelCall=c;e.streamControllers[d].isClosed=!0;e.postMessage({sourceName:f,targetName:j,stream:"cancel",reason:a,streamId:d});return c.promise}},c)},_createStreamSink:function(a){var b=this,c=this,e=this.actionHandler[a.action],d=a.streamId,f=a.desiredSize,j=this.sourceName,m=a.sourceName,i=function(a){b.postMessage({sourceName:j,targetName:m,stream:a.stream,streamId:d,
chunk:a.chunk,success:a.success,reason:a.reason},a.transfers)},f={enqueue:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var e=this.desiredSize;this.desiredSize-=c;0<e&&0>=this.desiredSize&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise);i({stream:"enqueue",chunk:a,transfers:b})}},close:function(){this.isCancelled||(this.isCancelled=!0,i({stream:"close"}),delete c.streamSinks[d])},
error:function(a){this.isCancelled||(this.isCancelled=!0,i({stream:"error",reason:a}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f,ready:null};f.sinkCapability.resolve();f.ready=f.sinkCapability.promise;this.streamSinks[d]=f;n(e[0],[a.data,f],e[1]).then(function(){i({stream:"start_complete",success:!0})},function(a){i({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,e=a.sourceName,
d=a.streamId,f=function(a){b.comObj.postMessage({sourceName:c,targetName:e,stream:a.stream,success:a.success,streamId:d,reason:a.reason})},o=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&j(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":q(this.streamControllers[a.streamId].startCall,a.success,v(a.reason));
break;case "pull_complete":q(this.streamControllers[a.streamId].pullCall,a.success,v(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){f({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;n(this.streamSinks[a.streamId].onPull).then(function(){f({stream:"pull_complete",success:!0})},function(a){f({stream:"pull_complete",success:!1,
reason:a})});break;case "enqueue":(0,s.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":(0,s.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();o();break;
case "error":(0,s.assert)(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(v(a.reason));o();break;case "cancel_complete":q(this.streamControllers[a.streamId].cancelCall,a.success,v(a.reason));o();break;case "cancel":if(!this.streamSinks[a.streamId])break;n(this.streamSinks[a.streamId].onCancel,[v(a.reason)]).then(function(){f({stream:"cancel_complete",success:!0})},function(a){f({stream:"cancel_complete",success:!1,reason:a})});
this.streamSinks[a.streamId].sinkCapability.reject(v(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(d,b,a){function i(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;
f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}function l(a,b,d){b&&i(a.prototype,b);d&&i(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.Metadata=void 0;var f=a(1),n=a(159),d=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,f.assert)("string"===typeof b,"Metadata: input is not a string");b=this._repair(b);b=(new n.SimpleXMLParser).parseFromString(b);this._metadata=Object.create(null);b&&
this._parse(b)}l(a,[{key:"_repair",value:function(a){return a.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,d,g){return String.fromCharCode(64*b+8*d+1*g)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: ".concat(b," isn't defined."));}),f="",i=0,h=d.length;i<h;i+=2)var g=256*d.charCodeAt(i)+
d.charCodeAt(i+1),f=32<=g&&127>g&&60!==g&&62!==g&&38!==g?f+String.fromCharCode(g):f+("&#x"+(65536+g).toString(16).substring(1)+";");return">"+f})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var f=a[b];if("rdf:description"===f.nodeName.toLowerCase())for(var i=
0,l=f.childNodes.length;i<l;i++)if("#text"!==f.childNodes[i].nodeName.toLowerCase()){var h=f.childNodes[i];this._metadata[h.nodeName.toLowerCase()]=h.textContent.trim()}}}},{key:"get",value:function(a){a=this._metadata[a];return"undefined"!==typeof a?a:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();b.Metadata=d},function(d,b){var a;function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b,c){l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,c,b){for(;!Object.prototype.hasOwnProperty.call(a,c)&&!(a=f(a),null===a););if(a)return c=Object.getOwnPropertyDescriptor(a,c),c.get?c.get.call(b):c.value};return l(a,b,c||a)}function f(a){f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||
Object.getPrototypeOf(a)};return f(a)}function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&t(a,b)}function t(a,b){t=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return t(a,b)}function v(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function q(a,b){for(var c=0;c<b.length;c++){var e=
b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function j(a,b,c){b&&q(a.prototype,b);c&&q(a,c);return a}function x(a,b){var c=a[b];return" "===c||"\n"===c||"\r"===c||"\t"===c}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleXMLParser=void 0;a=0;var u=function(){function a(){v(this,a)}j(a,[{key:"_resolveEntities",value:function(a){var c=this;return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),
16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case "lt":return"<";case "gt":return">";case "amp":return"&";case "quot":return'"'}return c.onResolveEntity(b)})}},{key:"_parseContent",value:function(a,c){function b(){for(;d<a.length&&x(a,d);)++d}for(var d=c,f,h=[];d<a.length&&!x(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;f=a.substring(c,d);for(b();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){b();for(var m="",j="";d<a.length&&!x(a,d)&&"="!==a[d];)m+=a[d],
++d;b();if("="!==a[d])return null;++d;b();j=a[d];if('"'!==j&&"'"!==j)return null;var i=a.indexOf(j,++d);if(0>i)return null;j=a.substring(d,i);h.push({name:m,value:this._resolveEntities(j)});d=i+1;b()}return{name:f,attributes:h,parsed:d-c}}},{key:"_parseProcessingInstruction",value:function(a,c){for(var b=c,d,f;b<a.length&&!x(a,b)&&">"!==a[b]&&"/"!==a[b];)++b;for(d=a.substring(c,b);b<a.length&&x(a,b);)++b;for(f=b;b<a.length&&("?"!==a[b]||">"!==a[b+1]);)++b;f=a.substring(f,b);return{name:d,value:f,
parsed:b-c}}},{key:"parseXml",value:function(a){for(var c=0;c<a.length;){var b=c;if("<"===a[c])switch(++b,c=void 0,a[b]){case "/":++b;c=a.indexOf(">",b);if(0>c){this.onError(-9);return}this.onEndElement(a.substring(b,c));b=c+1;break;case "?":++b;c=this._parseProcessingInstruction(a,b);if("?>"!==a.substring(b+c.parsed,b+c.parsed+2)){this.onError(-3);return}this.onPi(c.name,c.value);b+=c.parsed+2;break;case "!":if("--"===a.substring(b+1,b+3)){c=a.indexOf("--\>",b+3);if(0>c){this.onError(-5);return}this.onComment(a.substring(b+
3,c));b=c+3}else if("[CDATA["===a.substring(b+1,b+8)){c=a.indexOf("]]\>",b+8);if(0>c){this.onError(-2);return}this.onCdata(a.substring(b+8,c));b=c+3}else if("DOCTYPE"===a.substring(b+1,b+8)){var d=a.indexOf("[",b+8),f=!1,c=a.indexOf(">",b+8);if(0>c){this.onError(-4);return}if(0<d&&c>d){c=a.indexOf("]>",b+8);if(0>c){this.onError(-4);return}f=!0}this.onDoctype(a.substring(b+8,c+(f?1:0)));b=c+(f?2:1)}else{this.onError(-6);return}break;default:c=this._parseContent(a,b);if(null===c){this.onError(-6);return}d=
!1;if("/>"===a.substring(b+c.parsed,b+c.parsed+2))d=!0;else if(">"!==a.substring(b+c.parsed,b+c.parsed+1)){this.onError(-9);return}this.onBeginElement(c.name,c.attributes,d);b+=c.parsed+(d?2:1)}else{for(;b<a.length&&"<"!==a[b];)b++;this.onText(this._resolveEntities(a.substring(c,b)))}c=b}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",
value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]);return a}(),s=function(){function a(b,c){v(this,a);this.nodeName=b;this.nodeValue=c;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}j(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var a=
this.parentNode.childNodes;if(a){var c=a.indexOf(this);return-1===c?void 0:a[c+1]}}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);return a}(),u=function(b){function d(){var c;v(this,d);c=f(d).call(this);if(!c||!("object"===i(c)||"function"===typeof c)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}c._currentFragment=null;c._stack=null;c._errorCode=
a;return c}n(d,b);j(d,[{key:"parseFromString",value:function(c){this._currentFragment=[];this._stack=[];this._errorCode=a;this.parseXml(c);if(this._errorCode===a){var b;c=this._currentFragment;Array.isArray(c)&&(b=c);if(!b){b=[];var c=!0,d=!1,g=void 0;try{for(var f=this._currentFragment[Symbol.iterator](),h;!(c=(h=f.next()).done)&&!(b.push(h.value),1===b.length);c=!0);}catch(j){d=!0,g=j}finally{try{if(!c&&null!=f["return"])f["return"]()}finally{if(d)throw g;}}if(!b)throw new TypeError("Invalid attempt to destructure non-iterable instance");
}f=b[0];return!f?void 0:{documentElement:f}}}},{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return l(f(d.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){var b;a:{b=0;for(var d=a.length;b<d;b++)if(!x(a,b)){b=!1;break a}b=!0}b||this._currentFragment.push(new s("#text",a))}},{key:"onCdata",value:function(a){this._currentFragment.push(new s("#text",a))}},{key:"onBeginElement",value:function(a,b,d){a=new s(a);a.childNodes=[];this._currentFragment.push(a);
d||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop()||[];var a=this._currentFragment[this._currentFragment.length-1];if(a)for(var b=0,d=a.childNodes.length;b<d;b++)a.childNodes[b].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return d}(u);b.SimpleXMLParser=u},function(d,b,a){function i(a,b,d,f,i,l,s){try{var h=a[l](s),g=h.value}catch(c){d(c);return}h.done?b(g):Promise.resolve(g).then(f,
i)}function l(a){return function(){var b=this,d=arguments;return new Promise(function(f,l){function n(a){i(h,f,l,n,s,"next",a)}function s(a){i(h,f,l,n,s,"throw",a)}var h=a.apply(b,d);n(void 0)})}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFDataTransportStream=void 0;var f=function(a){return a&&a.__esModule?a:{"default":a}}(a(147)),n=a(1),d=function(){function a(b,d){var f=this;(0,n.assert)(d);this._queuedChunks=[];var i=b.initialData;i&&0<i.length&&this._queuedChunks.push((new Uint8Array(i)).buffer);
this._pdfDataRangeTransport=d;this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._contentLength=b.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){f._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a){f._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){f._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}
function b(a,d){this._stream=a;this._done=!1;this._filename=null;this._queuedChunks=d||[];this._requests=[];this._headersReady=Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function d(a,b,f){this._stream=a;this._begin=b;this._end=f;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}a.prototype={_onReceiveData:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);
else{var d=this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(b);return!0});(0,n.assert)(d)}},_onProgress:function(a){if(0<this._rangeReaders.length){var b=this._rangeReaders[0];if(b.onProgress)b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,n.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new b(this,a)},getRangeReader:function(a,
b){var f=new d(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(f);return f},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}};b.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get filename(){return this._filename},
get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var a=l(f.default.mark(function u(){var a,b;return f.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(0<this._queuedChunks.length)){d.next=3;break}a=this._queuedChunks.shift();return d.abrupt("return",{value:a,done:!1});case 3:if(!this._done){d.next=5;break}return d.abrupt("return",
{value:void 0,done:!0});case 5:return b=(0,n.createPromiseCapability)(),this._requests.push(b),d.abrupt("return",b.promise);case 8:case "end":return d.stop()}},u,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};d.prototype={_enqueue:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){var a=l(f.default.mark(function u(){var a,b;return f.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this._queuedChunk){d.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return d.abrupt("return",{value:a,done:!1});case 4:if(!this._done){d.next=6;break}return d.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,n.createPromiseCapability)(),
this._requests.push(b),d.abrupt("return",b.promise);case 9:case "end":return d.stop()}},u,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return a}();b.PDFDataTransportStream=d},function(d,b,a){function i(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);
Object.defineProperty(a,f.key,f)}}function l(a,b,d){b&&i(a.prototype,b);d&&i(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.WebGLContext=void 0;var f=a(1),d=function(){function a(b){b=b.enable;b=void 0===b?!1:b;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===b}l(a,[{key:"composeSMask",value:function(a){return n.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return n.drawFigures(a.width,a.height,
a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){n.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&(a=n.tryInitGL());return(0,f.shadow)(this,"isEnabled",a)}}]);return a}();b.WebGLContext=d;var n=function(){function a(b,c,e){e=b.createShader(e);b.shaderSource(e,c);b.compileShader(e);if(!b.getShaderParameter(e,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(e),Error("Error during shader compilation: "+b);return e}function b(a,c){for(var e=a.createProgram(),d=0,
f=c.length;d<f;++d)a.attachShader(e,c[d]);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))throw e=a.getProgramInfoLog(e),Error("Error during program linking: "+e);return e}function d(a,c,b){a.activeTexture(b);b=a.createTexture();a.bindTexture(a.TEXTURE_2D,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,
a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c);return b}function f(){i||(l=document.createElement("canvas"),i=l.getContext("webgl",{premultipliedalpha:!1}))}var i,l,s=null,h=null;return{tryInitGL:function(){try{return f(),!!i}catch(a){}return!1},composeSMask:function(g,c,e){var k=g.width,h=g.height;if(!s){var o,m;f();o=l;l=null;m=i;i=null;var p=a(m,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
m.VERTEX_SHADER),r=a(m,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
m.FRAGMENT_SHADER),n=b(m,[p,r]);m.useProgram(n);p={};p.gl=m;p.canvas=o;p.resolutionLocation=m.getUniformLocation(n,"u_resolution");p.positionLocation=m.getAttribLocation(n,"a_position");p.backdropLocation=m.getUniformLocation(n,"u_backdrop");p.subtypeLocation=m.getUniformLocation(n,"u_subtype");o=m.getAttribLocation(n,"a_texCoord");var r=m.getUniformLocation(n,"u_image"),n=m.getUniformLocation(n,"u_mask"),C=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,C);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);m.enableVertexAttribArray(o);m.vertexAttribPointer(o,2,m.FLOAT,!1,0,0);m.uniform1i(r,0);m.uniform1i(n,1);s=p}m=s;p=m.canvas;o=m.gl;p.width=k;p.height=h;o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight);o.uniform2f(m.resolutionLocation,k,h);e.backdrop?o.uniform4f(m.resolutionLocation,e.backdrop[0],e.backdrop[1],e.backdrop[2],1):o.uniform4f(m.resolutionLocation,0,0,0,0);o.uniform1i(m.subtypeLocation,"Luminosity"===e.subtype?1:0);g=d(o,g,o.TEXTURE0);c=
d(o,c,o.TEXTURE1);e=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,e);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,k,0,0,h,0,h,k,0,k,h]),o.STATIC_DRAW);o.enableVertexAttribArray(m.positionLocation);o.vertexAttribPointer(m.positionLocation,2,o.FLOAT,!1,0,0);o.clearColor(0,0,0,0);o.enable(o.BLEND);o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA);o.clear(o.COLOR_BUFFER_BIT);o.drawArrays(o.TRIANGLES,0,6);o.flush();o.deleteTexture(g);o.deleteTexture(c);o.deleteBuffer(e);return p},drawFigures:function(d,c,e,
k,w){if(!h){var o,m;f();o=l;l=null;m=i;i=null;var p=a(m,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
m.VERTEX_SHADER),r=a(m,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m.FRAGMENT_SHADER),p=b(m,[p,
r]);m.useProgram(p);r={};r.gl=m;r.canvas=o;r.resolutionLocation=m.getUniformLocation(p,"u_resolution");r.scaleLocation=m.getUniformLocation(p,"u_scale");r.offsetLocation=m.getUniformLocation(p,"u_offset");r.positionLocation=m.getAttribLocation(p,"a_position");r.colorLocation=m.getAttribLocation(p,"a_color");h=r}o=h;m=o.canvas;p=o.gl;m.width=d;m.height=c;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(o.resolutionLocation,d,c);var d=0,s,n,q;s=0;for(n=k.length;s<n;s++)switch(k[s].type){case "lattice":q=
k[s].coords.length/k[s].verticesPerRow|0;d+=6*(q-1)*(k[s].verticesPerRow-1);break;case "triangles":d+=k[s].coords.length}var r=new Float32Array(2*d),c=new Uint8Array(3*d),G=w.coords,H=w.colors,B=0,y=0;s=0;for(n=k.length;s<n;s++){q=k[s];var E=q.coords,I=q.colors;switch(q.type){case "lattice":var A=q.verticesPerRow;q=E.length/A|0;for(var M=1;M<q;M++)for(var L=M*A+1,O=1;O<A;O++,L++)r[B]=G[E[L-A-1]],r[B+1]=G[E[L-A-1]+1],r[B+2]=G[E[L-A]],r[B+3]=G[E[L-A]+1],r[B+4]=G[E[L-1]],r[B+5]=G[E[L-1]+1],c[y]=H[I[L-
A-1]],c[y+1]=H[I[L-A-1]+1],c[y+2]=H[I[L-A-1]+2],c[y+3]=H[I[L-A]],c[y+4]=H[I[L-A]+1],c[y+5]=H[I[L-A]+2],c[y+6]=H[I[L-1]],c[y+7]=H[I[L-1]+1],c[y+8]=H[I[L-1]+2],r[B+6]=r[B+2],r[B+7]=r[B+3],r[B+8]=r[B+4],r[B+9]=r[B+5],r[B+10]=G[E[L]],r[B+11]=G[E[L]+1],c[y+9]=c[y+3],c[y+10]=c[y+4],c[y+11]=c[y+5],c[y+12]=c[y+6],c[y+13]=c[y+7],c[y+14]=c[y+8],c[y+15]=H[I[L]],c[y+16]=H[I[L]+1],c[y+17]=H[I[L]+2],B+=12,y+=18;break;case "triangles":q=0;for(A=E.length;q<A;q++)r[B]=G[E[q]],r[B+1]=G[E[q]+1],c[y]=H[I[q]],c[y+1]=
H[I[q]+1],c[y+2]=H[I[q]+2],B+=2,y+=3}}e?p.clearColor(e[0]/255,e[1]/255,e[2]/255,1):p.clearColor(0,0,0,0);p.clear(p.COLOR_BUFFER_BIT);e=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,e);p.bufferData(p.ARRAY_BUFFER,r,p.STATIC_DRAW);p.enableVertexAttribArray(o.positionLocation);p.vertexAttribPointer(o.positionLocation,2,p.FLOAT,!1,0,0);k=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,k);p.bufferData(p.ARRAY_BUFFER,c,p.STATIC_DRAW);p.enableVertexAttribArray(o.colorLocation);p.vertexAttribPointer(o.colorLocation,
3,p.UNSIGNED_BYTE,!1,0,0);p.uniform2f(o.scaleLocation,w.scaleX,w.scaleY);p.uniform2f(o.offsetLocation,w.offsetX,w.offsetY);p.drawArrays(p.TRIANGLES,0,d);p.flush();p.deleteBuffer(e);p.deleteBuffer(k);return m},cleanup:function(){s&&s.canvas&&(s.canvas.width=0,s.canvas.height=0);h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);h=s=null}}}()},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.renderTextLayer=void 0;var i=a(1),l=function(a){return a&&a.__esModule?a:{"default":a}}(a(3)),
d=function(){function a(b){if(!b._canceled){var d=b._textDivs,f=b._capability,c=d.length;if(!(c>j)&&!b._textContentStream)for(var e=0;e<c;e++)b._layoutText(d[e]);b._renderingDone=!0;f.resolve()}}function b(a){for(var f=a._bounds,g=a._viewport,g=d(g.width,g.height,f),c=0;c<g.length;c++){var e=f[c].div,k=a._textDivProperties.get(e);if(0===k.angle)k.paddingLeft=f[c].left-g[c].left,k.paddingTop=f[c].top-g[c].top,k.paddingRight=g[c].right-f[c].right,k.paddingBottom=g[c].bottom-f[c].bottom;else{var j=g[c],
o=f[c],m=o.m,p=m[0],l=m[1],o=[[0,0],[0,o.size[1]],[o.size[0],0],o.size],n=new Float64Array(64);o.forEach(function(a,c){var b=i.Util.applyTransform(a,m);n[c+0]=p&&(j.left-b[0])/p;n[c+4]=l&&(j.top-b[1])/l;n[c+8]=p&&(j.right-b[0])/p;n[c+12]=l&&(j.bottom-b[1])/l;n[c+16]=l&&(j.left-b[0])/-l;n[c+20]=p&&(j.top-b[1])/p;n[c+24]=l&&(j.right-b[0])/-l;n[c+28]=p&&(j.bottom-b[1])/p;n[c+32]=p&&(j.left-b[0])/-p;n[c+36]=l&&(j.top-b[1])/-l;n[c+40]=p&&(j.right-b[0])/-p;n[c+44]=l&&(j.bottom-b[1])/-l;n[c+48]=l&&(j.left-
b[0])/l;n[c+52]=p&&(j.top-b[1])/-p;n[c+56]=l&&(j.right-b[0])/l;n[c+60]=p&&(j.bottom-b[1])/-p});var o=function(a,c,b){for(var e=0,d=0;d<b;d++){var f=a[c++];0<f&&(e=e?Math.min(f,e):f)}return e},q=1+Math.min(Math.abs(p),Math.abs(l));k.paddingLeft=o(n,32,16)/q;k.paddingTop=o(n,48,16)/q;k.paddingRight=o(n,0,16)/q;k.paddingBottom=o(n,16,16)/q}a._textDivProperties.set(e,k)}}function d(a,b,f){var c=f.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});v(a,
c);var e=Array(f.length);c.forEach(function(a){e[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});f.map(function(b,d){var f=e[d],g=c[d];g.x1=b.top;g.y1=a-f.right;g.x2=b.bottom;g.y2=a-f.left;g.index=d;g.x1New=void 0;g.x2New=void 0});v(b,c);c.forEach(function(a){var c=a.index;e[c].top=a.x1New;e[c].bottom=a.x2New});return e}function v(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var f=d.length-1;0<=f&&d[f].start>=a.y2;)f--;var h,j,m,i=-Infinity;for(m=b;m<=f;m++){h=d[m];j=h.boundary;var l;l=j.x2>a.x1?j.index>a.index?j.x1New:a.x1:void 0===j.x2New?(j.x2+a.x1)/2:j.x2New;l>i&&(i=l)}a.x1New=i;for(m=b;m<=f;m++)h=d[m],j=h.boundary,void 0===j.x2New?j.x2>a.x1?j.index>a.index&&(j.x2New=j.x2):j.x2New=i:j.x2New>i&&(j.x2New=Math.max(i,j.x2));l=[];var n=null;for(m=b;m<=f;m++)h=d[m],j=h.boundary,j=j.x2>
a.x2?j:a,n===j?l[l.length-1].end=h.end:(l.push({start:h.start,end:h.end,boundary:j}),n=j);d[b].start<a.y1&&(l[0].start=a.y1,l.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[f].end&&(l[l.length-1].end=a.y2,l.push({start:a.y2,end:d[f].end,boundary:d[f].boundary}));for(m=b;m<=f;m++)if(h=d[m],j=h.boundary,void 0===j.x2New){h=!1;for(a=b-1;!h&&0<=a&&d[a].start>=j.y1;a--)h=d[a].boundary===j;for(a=f+1;!h&&a<d.length&&d[a].end<=j.y2;a++)h=d[a].boundary===j;for(a=0;!h&&a<l.length;a++)h=
l[a].boundary===j;h||(j.x2New=i)}Array.prototype.splice.apply(d,[b,f-b+1].concat(l))});d.forEach(function(c){c=c.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function q(a){var b=a.textContentStream,d=a.container,c=a.viewport,e=a.textDivs,f=a.textContentItemsStr,j=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=b;this._container=d;this._viewport=c;this._textDivs=e||[];this._textContentItemsStr=f||[];this._enhanceTextSelection=!!j;this._fontInspectorEnabled=
!(!l.default.FontInspector||!l.default.FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,i.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var j=1E5,x=/\S/,u=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];q.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&
(this._reader.cancel(new i.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(a,b){for(var d=0,c=a.length;d<c;d++){this._textContentItemsStr.push(a[d].str);var e=a[d],f=b,j=document.createElement("span"),o={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,
scale:1};this._textDivs.push(j);if(x.test(e.str)){var m=i.Util.transform(this._viewport.transform,e.transform),l=Math.atan2(m[1],m[0]),r=f[e.fontName];r.vertical&&(l+=Math.PI/2);var n=Math.sqrt(m[2]*m[2]+m[3]*m[3]),q=n;r.ascent?q*=r.ascent:r.descent&&(q*=1+r.descent);var t=f=void 0;0===l?(f=m[4],t=m[5]-q):(f=m[4]+q*Math.sin(l),t=m[5]-q*Math.cos(l));u[1]=f;u[3]=t;u[5]=n;u[7]=r.fontFamily;o.style=u.join("");j.setAttribute("style",o.style);j.textContent=e.str;this._fontInspectorEnabled&&(j.dataset.fontName=
e.fontName);0!==l&&(o.angle=l*(180/Math.PI));1<e.str.length&&(o.canvasWidth=r.vertical?e.height*this._viewport.scale:e.width*this._viewport.scale);this._textDivProperties.set(j,o);this._textContentStream&&this._layoutText(j);this._enhanceTextSelection&&(o=1,m=0,0!==l&&(o=Math.cos(l),m=Math.sin(l)),e=(r.vertical?e.height:e.width)*this._viewport.scale,q=r=void 0,0!==l?(r=[o,m,-m,o,f,t],q=i.Util.getAxialAlignedBoundingBox([0,0,e,n],r)):q=[f,t,f+e,t+n],this._bounds.push({left:q[0],top:q[1],right:q[2],
bottom:q[3],div:j,size:[e,n],m:r}))}else o.isWhitespace=!0,this._textDivProperties.set(j,o)}},_layoutText:function(a){var b=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var c=a.style.fontSize,e=a.style.fontFamily;if(c!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=c+" "+e,this._layoutTextLastFontSize=c,this._layoutTextLastFontFamily=e;c=this._layoutTextCtx.measureText(a.textContent).width;e="";0!==d.canvasWidth&&0<c&&(d.scale=d.canvasWidth/
c,e="scaleX(".concat(d.scale,")"));0!==d.angle&&(e="rotate(".concat(d.angle,"deg) ").concat(e));0<e.length&&(d.originalTransform=e,a.style.transform=e);this._textDivProperties.set(a,d);b.appendChild(a)}},_render:function(b){var d=this,g=(0,i.createPromiseCapability)(),c=Object.create(null),e=document.createElement("canvas");e.mozOpaque=!0;this._layoutTextCtx=e.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else if(this._textContentStream)this._reader=
this._textContentStream.getReader(),function w(){d._reader.read().then(function(a){var b=a.value;a.done?g.resolve():(Object.assign(c,b.styles),d._processItems(b.items,c),w())},g.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');g.promise.then(function(){c=null;b?d._renderTimer=setTimeout(function(){a(d);d._renderTimer=null},b):a(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&
(b(this),this._bounds=null);for(var d=0,f=this._textDivs.length;d<f;d++){var c=this._textDivs[d],e=this._textDivProperties.get(c);if(!e.isWhitespace)if(a){var k="",j="";1!==e.scale&&(k="scaleX("+e.scale+")");0!==e.angle&&(k="rotate("+e.angle+"deg) "+k);0!==e.paddingLeft&&(j+=" padding-left: "+e.paddingLeft/e.scale+"px;",k+=" translateX("+-e.paddingLeft/e.scale+"px)");0!==e.paddingTop&&(j+=" padding-top: "+e.paddingTop+"px;",k+=" translateY("+-e.paddingTop+"px)");0!==e.paddingRight&&(j+=" padding-right: "+
e.paddingRight/e.scale+"px;");0!==e.paddingBottom&&(j+=" padding-bottom: "+e.paddingBottom+"px;");""!==j&&c.setAttribute("style",e.style+j);""!==k&&(c.style.transform=k)}else c.style.padding=0,c.style.transform=e.originalTransform||""}}}};return function(a){var b=new q({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);
return b}}();b.renderTextLayer=d},function(d,b,a){function i(a,c,b){i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,c,b){for(;!Object.prototype.hasOwnProperty.call(a,c)&&!(a=t(a),null===a););if(a)return c=Object.getOwnPropertyDescriptor(a,c),c.get?c.get.call(b):c.value};return i(a,c,b||a)}function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return l(a)}function f(a,c){return c&&("object"===l(c)||"function"===typeof c)?c:n(a)}function n(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function t(a){t=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return t(a)}function v(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&
c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&q(a,c)}function q(a,c){q=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return q(a,c)}function j(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function x(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function u(a,c,b){c&&x(a.prototype,c);b&&x(a,b);return a}Object.defineProperty(b,
"__esModule",{value:!0});b.AnnotationLayer=void 0;var s=a(151),h=a(1),g=function(){function a(){j(this,a)}u(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case h.AnnotationType.LINK:return new e(a);case h.AnnotationType.TEXT:return new k(a);case h.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new o(a);case "Btn":return a.data.radioButton?new p(a):a.data.checkBox?new m(a):new r(a);case "Ch":return new z(a)}return new w(a);case h.AnnotationType.POPUP:return new C(a);
case h.AnnotationType.LINE:return new G(a);case h.AnnotationType.SQUARE:return new H(a);case h.AnnotationType.CIRCLE:return new B(a);case h.AnnotationType.POLYLINE:return new y(a);case h.AnnotationType.INK:return new I(a);case h.AnnotationType.POLYGON:return new E(a);case h.AnnotationType.HIGHLIGHT:return new A(a);case h.AnnotationType.UNDERLINE:return new M(a);case h.AnnotationType.SQUIGGLY:return new L(a);case h.AnnotationType.STRIKEOUT:return new O(a);case h.AnnotationType.STAMP:return new P(a);
case h.AnnotationType.FILEATTACHMENT:return new N(a);default:return new c(a)}}}]);return a}(),c=function(){function a(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;j(this,a);this.isRenderable=b;this.data=c.data;this.layer=c.layer;this.page=c.page;this.viewport=c.viewport;this.linkService=c.linkService;this.downloadManager=c.downloadManager;this.imageResourcesPath=c.imageResourcesPath;this.renderInteractiveForms=c.renderInteractiveForms;
this.svgFactory=c.svgFactory;b&&(this.container=this._createContainer(e))}u(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c=this.data,b=this.page,e=this.viewport,d=document.createElement("section"),f=c.rect[2]-c.rect[0],g=c.rect[3]-c.rect[1];d.setAttribute("data-annotation-id",c.id);b=h.Util.normalizeRect([c.rect[0],b.view[3]-c.rect[1]+b.view[1],c.rect[2],b.view[3]-c.rect[3]+b.view[1]]);d.style.transform="matrix("+e.transform.join(",")+
")";d.style.transformOrigin=-b[0]+"px "+-b[1]+"px";if(!a&&0<c.borderStyle.width){d.style.borderWidth=c.borderStyle.width+"px";c.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(f-=2*c.borderStyle.width,g-=2*c.borderStyle.width);a=c.borderStyle.horizontalCornerRadius;e=c.borderStyle.verticalCornerRadius;if(0<a||0<e)d.style.borderRadius=a+"px / "+e+"px";switch(c.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:d.style.borderStyle=
"dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}c.color?d.style.borderColor=h.Util.makeCssRgb(c.color[0]|0,c.color[1]|0,c.color[2]|0):d.style.borderWidth=0}d.style.left=b[0]+"px";d.style.top=b[1]+"px";d.style.width=f+"px";d.style.height=g+"px";return d}},{key:"_createPopup",
value:function(a,c,b){c||(c=document.createElement("div"),c.style.height=a.style.height,c.style.width=a.style.width,a.appendChild(c));c=(new J({container:a,trigger:c,color:b.color,title:b.title,contents:b.contents,hideWrapper:!0})).render();c.style.left=a.style.width;a.appendChild(c)}},{key:"render",value:function(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),e=function(a){function c(a){j(this,c);var b=!(!a.data.url&&!a.data.dest&&!a.data.action);return f(this,
t(c).call(this,a,b))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,c=this.linkService,b=document.createElement("a");(0,s.addLinkAttributes)(b,{url:a.url,target:a.newWindow?s.LinkTarget.BLANK:c.externalLinkTarget,rel:c.externalLinkRel});a.url||(a.action?this._bindNamedAction(b,a.action):this._bindLink(b,a.dest));this.container.appendChild(b);return this.container}},{key:"_bindLink",value:function(a,c){var b=this;a.href=this.linkService.getDestinationHash(c);
a.onclick=function(){c&&b.linkService.navigateTo(c);return!1};c&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,c){var b=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){b.linkService.executeNamedAction(c);return!1};a.className="internalLink"}}]);return c}(c),k=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b))}v(c,a);u(c,[{key:"render",value:function(){this.container.className=
"textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return c}(c),w=function(a){function c(){j(this,
c);return f(this,t(c).apply(this,arguments))}v(c,a);u(c,[{key:"render",value:function(){return this.container}}]);return c}(c),o=function(a){function c(a){j(this,c);var b=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return f(this,t(c).call(this,a,b))}v(c,a);u(c,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var c=null;if(this.renderInteractiveForms){if(this.data.multiLine?(c=document.createElement("textarea"),
c.textContent=this.data.fieldValue):(c=document.createElement("input"),c.type="text",c.setAttribute("value",this.data.fieldValue)),c.disabled=this.data.readOnly,null!==this.data.maxLen&&(c.maxLength=this.data.maxLen),this.data.comb){var b=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;c.classList.add("comb");c.style.letterSpacing="calc("+b+"px - 1ch)"}}else c=document.createElement("div"),c.textContent=this.data.fieldValue,c.style.verticalAlign="middle",c.style.display="table-cell",b=null,
this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(b=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(c,b);null!==this.data.textAlignment&&(c.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(c);return this.container}},{key:"_setTextStyle",value:function(a,c){var b=a.style;b.fontSize=this.data.fontSize+"px";b.direction=0>this.data.fontDirection?"rtl":"ltr";c&&(b.fontWeight=c.black?c.bold?"900":"bold":c.bold?"bold":"normal",b.fontStyle=
c.italic?"italic":"normal",b.fontFamily=(c.loadedName?'"'+c.loadedName+'", ':"")+(c.fallbackName||"Helvetica, sans-serif"))}}]);return c}(w),m=function(a){function c(a){j(this,c);return f(this,t(c).call(this,a,a.renderInteractiveForms))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",
!0);this.container.appendChild(a);return this.container}}]);return c}(w),p=function(a){function c(a){j(this,c);return f(this,t(c).call(this,a,a.renderInteractiveForms))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);
return c}(w),r=function(a){function c(){j(this,c);return f(this,t(c).apply(this,arguments))}v(c,a);u(c,[{key:"render",value:function(){var a=i(t(c.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return c}(e),z=function(a){function c(a){j(this,c);return f(this,t(c).call(this,a,a.renderInteractiveForms))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;
this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var c=0,b=this.data.options.length;c<b;c++){var e=this.data.options[c],d=document.createElement("option");d.textContent=e.displayValue;d.value=e.exportValue;this.data.fieldValue.includes(e.displayValue)&&d.setAttribute("selected",!0);a.appendChild(d)}this.container.appendChild(a);return this.container}}]);return c}(w),C=function(a){function c(a){j(this,c);var b=!(!a.data.title&&!a.data.contents);return f(this,
t(c).call(this,a,b))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="popupAnnotation";if("Line Square Circle PolyLine Polygon Ink".split(" ").includes(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var c=new J({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),b=parseFloat(a.style.left),e=parseFloat(a.style.width);
this.container.style.transformOrigin=-(b+e)+"px -"+a.style.top;this.container.style.left=b+e+"px";this.container.appendChild(c.render());return this.container}}]);return c}(c),J=function(){function a(c){j(this,a);this.container=c.container;this.trigger=c.trigger;this.color=c.color;this.title=c.title;this.contents=c.contents;this.hideWrapper=c.hideWrapper||!1;this.pinned=!1}u(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?
a:this.container;this.hideElement.setAttribute("hidden",!0);var c=document.createElement("div");c.className="popup";var b=this.color;b&&(c.style.backgroundColor=h.Util.makeCssRgb(0.7*(255-b[0])+b[0]|0,0.7*(255-b[1])+b[1]|0,0.7*(255-b[2])+b[2]|0));var b=this._formatContents(this.contents),e=document.createElement("h1");e.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",
this._hide.bind(this,!1));c.addEventListener("click",this._hide.bind(this,!0));c.appendChild(e);c.appendChild(b);a.appendChild(c);return a}},{key:"_formatContents",value:function(a){for(var c=document.createElement("p"),a=a.split(/(?:\r\n?|\n)/),b=0,e=a.length;b<e;++b)c.appendChild(document.createTextNode(a[b])),b<e-1&&c.appendChild(document.createElement("br"));return c}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&
void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),G=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&
!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,c=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),b=this.svgFactory.createElement("svg:line");b.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);b.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);b.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);b.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);b.setAttribute("stroke-width",
a.borderStyle.width);b.setAttribute("stroke","transparent");c.appendChild(b);this.container.append(c);this._createPopup(this.container,b,a);return this.container}}]);return c}(c),H=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],b=a.rect[3]-a.rect[1],e=this.svgFactory.create(c,b),d=a.borderStyle.width,
f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",d/2);f.setAttribute("y",d/2);f.setAttribute("width",c-d);f.setAttribute("height",b-d);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);this._createPopup(this.container,f,a);return this.container}}]);return c}(c),B=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}
v(c,a);u(c,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],b=a.rect[3]-a.rect[1],e=this.svgFactory.create(c,b),d=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",c/2);f.setAttribute("cy",b/2);f.setAttribute("rx",c/2-d/2);f.setAttribute("ry",b/2-d/2);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);this._createPopup(this.container,
f,a);return this.container}}]);return c}(c),y=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=f(this,t(c).call(this,a,b,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}v(c,a);u(c,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,c=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),b=a.vertices,e=[],d=0,f=b.length;d<f;d++)e.push(b[d].x-a.rect[0]+","+
(a.rect[3]-b[d].y));e=e.join(" ");b=a.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",e);d.setAttribute("stroke-width",b);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");c.appendChild(d);this.container.append(c);this._createPopup(this.container,d,a);return this.container}}]);return c}(c),E=function(a){function c(a){j(this,c);a=f(this,t(c).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}
v(c,a);return c}(y),I=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=f(this,t(c).call(this,a,b,!0));a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}v(c,a);u(c,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,c=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),b=a.inkLists,e=0,d=b.length;e<d;e++){for(var f=b[e],g=[],k=0,h=f.length;k<h;k++)g.push(f[k].x-a.rect[0]+
","+(a.rect[3]-f[k].y));g=g.join(" ");f=a.borderStyle.width;k=this.svgFactory.createElement(this.svgElementName);k.setAttribute("points",g);k.setAttribute("stroke-width",f);k.setAttribute("stroke","transparent");k.setAttribute("fill","none");this._createPopup(this.container,k,a);c.appendChild(k)}this.container.append(c);return this.container}}]);return c}(c),A=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);
u(c,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(c),M=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);
return c}(c),L=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(c),O=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",
value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(c),P=function(a){function c(a){j(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return f(this,t(c).call(this,a,b,!0))}v(c,a);u(c,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(c),
N=function(a){function c(a){j(this,c);var a=f(this,t(c).call(this,a,!0)),b=a.data.file,e=b.filename,b=b.content;a.filename=(0,s.getFilenameFromUrl)(e);a.content=b;a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:n(n(a)),id:(0,h.stringToPDFString)(e),filename:e,content:b});return a}v(c,a);u(c,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=
this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}]);return c}(c),d=function(){function a(){j(this,a)}u(a,null,
[{key:"render",value:function(a){for(var c=0,b=a.annotations.length;c<b;c++){var e=a.annotations[c];e&&(e=g.create({data:e,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new s.DOMSVGFactory}),e.isRenderable&&a.div.appendChild(e.render()))}}},{key:"update",value:function(a){for(var c=0,b=a.annotations.length;c<b;c++){var e=a.div.querySelector('[data-annotation-id="'+
a.annotations[c].id+'"]');e&&(e.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();b.AnnotationLayer=d},function(d,b,a){var i,l;Object.defineProperty(b,"__esModule",{value:!0});b.SVGGraphics=void 0;var f=a(1),n=a(151),t=function(a){return a&&a.__esModule?a:{"default":a}}(a(4));b.SVGGraphics=function(){throw Error("Not implemented: SVGGraphics");};i="normal";l="#000000";var v=function(){function a(c,b,f,g){var h=g,j=b.length;f[h]=j>>24&255;
f[h+1]=j>>16&255;f[h+2]=j>>8&255;f[h+3]=j&255;h+=4;f[h]=c.charCodeAt(0)&255;f[h+1]=c.charCodeAt(1)&255;f[h+2]=c.charCodeAt(2)&255;f[h+3]=c.charCodeAt(3)&255;h+=4;f.set(b,h);h+=b.length;c=-1;for(g+=4;g<h;g++)c=c>>>8^d[(c^f[g])&255];g=c^-1;f[h]=g>>24&255;f[h+1]=g>>16&255;f[h+2]=g>>8&255;f[h+3]=g&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),i=0;256>i;i++){for(var h=i,g=0;8>g;g++)h=h&1?3988292384^h>>1&2147483647:h>>1&2147483647;d[i]=h}return function(c,e,d){var g=void 0===
c.kind?f.ImageKind.GRAYSCALE_1BPP:c.kind,h=c.width,m=c.height,i,l,n,q=c.data;switch(g){case f.ImageKind.GRAYSCALE_1BPP:l=0;i=1;n=h+7>>3;break;case f.ImageKind.RGB_24BPP:l=2;i=8;n=3*h;break;case f.ImageKind.RGBA_32BPP:l=6;i=8;n=4*h;break;default:throw Error("invalid format");}var c=new Uint8Array((1+n)*m),s=0,u=0,v;for(v=0;v<m;++v)c[s++]=0,c.set(q.subarray(u,u+n),s),u+=n,s+=n;if(g===f.ImageKind.GRAYSCALE_1BPP&&d)for(v=s=0;v<m;v++){s++;for(d=0;d<n;d++)c[s++]^=255}var h=new Uint8Array([h>>24&255,h>>
16&255,h>>8&255,h&255,m>>24&255,m>>16&255,m>>8&255,m&255,i,l,0,0,0]),B;a:{if((0,t.default)())try{var y;y=8<=parseInt(process.versions.node)?c:new Buffer(c);var E=require("zlib").deflateSync(y,{level:9});B=E instanceof Uint8Array?E:new Uint8Array(E);break a}catch(I){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}E=c.length;B=Math.ceil(E/65535);B=new Uint8Array(2+E+5*B+4);y=0;B[y++]=120;B[y++]=156;for(m=0;65535<E;)B[y++]=0,B[y++]=255,B[y++]=255,B[y++]=0,B[y++]=0,B.set(c.subarray(m,
m+65535),y),y+=65535,m+=65535,E-=65535;B[y++]=1;B[y++]=E&255;B[y++]=E>>8&255;B[y++]=~E&255;B[y++]=(~E&65535)>>8&255;B.set(c.subarray(m),y);y+=c.length-m;E=1;for(d=m=0;d<c.length;++d)E=(E+(c[d]&255))%65521,m=(m+E)%65521;c=m<<16|E;B[y++]=c>>24&255;B[y++]=c>>16&255;B[y++]=c>>8&255;B[y++]=c&255}c=new Uint8Array(b.length+36+h.length+B.length);y=0;c.set(b,y);y+=b.length;a("IHDR",h,c,y);y+=12+h.length;a("IDATA",B,c,y);y+=12+B.length;a("IEND",new Uint8Array(0),c,y);return(0,f.createObjectURL)(c,"image/png",
e)}}(),q=function(){function a(){this.fontSizeScale=1;this.fontWeight=i;this.fontSize=0;this.textMatrix=f.IDENTITY_MATRIX;this.fontMatrix=f.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=f.TextRenderingMode.FILL;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.fillColor=l;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=
0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();b.SVGGraphics=function(){function a(c){if(Number.isInteger(c))return c.toString();var c=c.toFixed(10),b=c.length-1;if("0"!==c[b])return c;do b--;while("0"===c[b]);return c.substring(0,"."===c[b]?b:b+1)}function b(c){if(0===c[4]&&0===c[5]){if(0===c[1]&&0===c[2])return 1===c[0]&&1===c[3]?"":"scale("+a(c[0])+
" "+a(c[3])+")";if(c[0]===c[3]&&c[1]===-c[2])return c=180*Math.acos(c[0])/Math.PI,"rotate("+a(c)+")"}else if(1===c[0]&&0===c[1]&&0===c[2]&&1===c[3])return"translate("+a(c[4])+" "+a(c[5])+")";return"matrix("+a(c[0])+" "+a(c[1])+" "+a(c[2])+" "+a(c[3])+" "+a(c[4])+" "+a(c[5])+")"}function d(a,c,b){this.svgFactory=new n.DOMSVGFactory;this.current=new q;this.transformMatrix=f.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=c;this.pendingClip=null;this.embedFonts=
this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!b}var s=["butt","round","square"],h=["miter","round","bevel"],g=0,c=0;d.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();this.executeOpTree(a);
this.restore()},loadDependencies:function(a){for(var c=this,b=a.fnArray,d=b.length,a=a.argsArray,g=0;g<d;g++)if(f.OPS.dependency===b[g])for(var h=a[g],j=0,i=h.length;j<i;j++){var l=h[j];this.current.dependencies.push("g_"===l.substring(0,2)?new Promise(function(a){c.commonObjs.get(l,a)}):new Promise(function(a){c.objs.get(l,a)}))}return Promise.all(this.current.dependencies)},transform:function(a,c,b,d,g,h){this.transformMatrix=f.Util.transform(this.transformMatrix,[a,c,b,d,g,h]);this.tgrp=null},
getSVG:function(a,c){var b=this;this.viewport=c;var d=this._initialize(c);return this.loadDependencies(a).then(function(){b.transformMatrix=f.IDENTITY_MATRIX;var c=b.convertOpList(a);b.executeOpTree(c);return d})},convertOpList:function(a){var c=a.argsArray,b=a.fnArray,d=b.length,g=[],a=[],h;for(h in f.OPS)g[f.OPS[h]]=h;for(h=0;h<d;h++){var j=b[h];a.push({fnId:j,fn:g[j],args:c[h]})}c=[];b=[];d=a.length;for(g=0;g<d;g++)"save"===a[g].fn?(c.push({fnId:92,fn:"group",items:[]}),b.push(c),c=c[c.length-
1].items):"restore"===a[g].fn?c=b.pop():c.push(a[g]);return c},executeOpTree:function(a){for(var c=a.length,b=0;b<c;b++){var d=a[b].fn,g=a[b].args;switch(a[b].fnId|0){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(g);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case f.OPS.setFont:this.setFont(g);break;case f.OPS.showText:this.showText(g[0]);break;case f.OPS.showSpacedText:this.showText(g[0]);break;case f.OPS.endText:this.endText();
break;case f.OPS.moveText:this.moveText(g[0],g[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case f.OPS.setHScale:this.setHScale(g[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case f.OPS.setTextRise:this.setTextRise(g[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(g[0]);break;case f.OPS.setLineWidth:this.setLineWidth(g[0]);break;case f.OPS.setLineJoin:this.setLineJoin(g[0]);
break;case f.OPS.setLineCap:this.setLineCap(g[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case f.OPS.setDash:this.setDash(g[0],g[1]);break;case f.OPS.setGState:this.setGState(g[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();
break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintJpegXObject:this.paintJpegXObject(g[0],g[1],g[2]);break;case f.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;
case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case f.OPS.constructPath:this.constructPath(g[0],
g[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(a[b].items);break;default:(0,f.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(c,b,d,f,g,h){var i=this.current;this.current.textMatrix=this.current.lineMatrix=[c,b,d,f,g,h];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;i.xcoords=
[];i.tspan=this.svgFactory.createElement("svg:tspan");i.tspan.setAttributeNS(null,"font-family",i.fontFamily);i.tspan.setAttributeNS(null,"font-size",a(i.fontSize)+"px");i.tspan.setAttributeNS(null,"y",a(-i.y));i.txtElement=this.svgFactory.createElement("svg:text");i.txtElement.appendChild(i.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=f.IDENTITY_MATRIX;this.current.lineMatrix=f.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");
this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(c,b){var d=this.current;this.current.x=this.current.lineX+=c;this.current.y=this.current.lineY+=b;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",a(-d.y))},showText:function(c){var d=
this.current,g=d.font,h=d.fontSize;if(0!==h){var m=d.charSpacing,p=d.wordSpacing,n=d.fontDirection,q=d.textHScale*n,s=c.length,t=g.vertical,v=h*d.fontMatrix[0],u=0,B;for(B=0;B<s;++B){var y=c[B];if(null===y)u+=n*p;else if((0,f.isNum)(y))u+=0.001*-y*h;else{var E=y.fontChar,I=y.width*v+((y.isSpace?p:0)+m)*n;if(y.isInFont||g.missingFile)d.xcoords.push(d.x+u*q),d.tspan.textContent+=E;u+=I}}t?d.y-=u*q:d.x+=u*q;d.tspan.setAttributeNS(null,"x",d.xcoords.map(a).join(" "));d.tspan.setAttributeNS(null,"y",a(-d.y));
d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle);d.fontWeight!==i&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);c=d.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;c===f.TextRenderingMode.FILL||c===f.TextRenderingMode.FILL_STROKE?(d.fillColor!==l&&d.tspan.setAttributeNS(null,"fill",d.fillColor),1>d.fillAlpha&&d.tspan.setAttributeNS(null,
"fill-opacity",d.fillAlpha)):d.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?d.tspan.setAttributeNS(null,"fill","transparent"):d.tspan.setAttributeNS(null,"fill","none");(c===f.TextRenderingMode.STROKE||c===f.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(d.tspan);c=d.textMatrix;0!==d.textRise&&(c=c.slice(),c[5]+=d.textRise);d.txtElement.setAttributeNS(null,"transform",b(c)+" scale(1, -1)");d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");
d.txtElement.appendChild(d.tspan);d.txtgrp.appendChild(d.txtElement);this._ensureTransformGroup().appendChild(d.txtElement)}},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var c=(0,f.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+
a.loadedName+'"; src: url('+c+"); }\n"},setFont:function(c){var b=this.current,d=this.commonObjs.get(c[0]),c=c[1];this.current.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);b.fontMatrix=d.fontMatrix?d.fontMatrix:f.FONT_IDENTITY_MATRIX;var g=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",h=d.italic?"italic":"normal";0>c?(c=-c,b.fontDirection=-1):b.fontDirection=1;b.fontSize=c;b.fontFamily=d.loadedName;b.fontWeight=
g;b.fontStyle=h;b.tspan=this.svgFactory.createElement("svg:tspan");b.tspan.setAttributeNS(null,"y",a(-b.y));b.xcoords=[]},endText:function(){var a=this.current;a.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&(a.txtElement&&a.txtElement.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function(a){0<a&&(this.current.lineWidth=a)},setLineCap:function(a){this.current.lineCap=s[a]},setLineJoin:function(a){this.current.lineJoin=h[a]},setMiterLimit:function(a){this.current.miterLimit=
a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,c,b){this.current.strokeColor=f.Util.makeCssRgb(a,c,b)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,c,b){this.current.fillColor=f.Util.makeCssRgb(a,c,b);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(a,c){this.current.dashArray=a;this.current.dashPhase=c},constructPath:function(c,b){var d=this.current,g=d.x,h=d.y;d.path=this.svgFactory.createElement("svg:path");
for(var i=[],l=c.length,n=0,q=0;n<l;n++)switch(c[n]|0){case f.OPS.rectangle:var g=b[q++],h=b[q++],s=b[q++],t=b[q++],s=g+s,t=h+t;i.push("M",a(g),a(h),"L",a(s),a(h),"L",a(s),a(t),"L",a(g),a(t),"Z");break;case f.OPS.moveTo:g=b[q++];h=b[q++];i.push("M",a(g),a(h));break;case f.OPS.lineTo:g=b[q++];h=b[q++];i.push("L",a(g),a(h));break;case f.OPS.curveTo:g=b[q+4];h=b[q+5];i.push("C",a(b[q]),a(b[q+1]),a(b[q+2]),a(b[q+3]),a(g),a(h));q+=6;break;case f.OPS.curveTo2:g=b[q+2];h=b[q+3];i.push("C",a(g),a(h),a(b[q]),
a(b[q+1]),a(b[q+2]),a(b[q+3]));q+=4;break;case f.OPS.curveTo3:g=b[q+2];h=b[q+3];i.push("C",a(b[q]),a(b[q+1]),a(g),a(h),a(g),a(h));q+=4;break;case f.OPS.closePath:i.push("Z")}d.path.setAttributeNS(null,"d",i.join(" "));d.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(d.path);d.element=d.path;d.setCurrentPoint(g,h)},endPath:function(){if(this.pendingClip){var a=this.current,c="clippath"+g;g++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,
"id",c);d.setAttributeNS(null,"transform",b(this.transformMatrix));var f=a.element.cloneNode(!0);"evenodd"===this.pendingClip?f.setAttributeNS(null,"clip-rule","evenodd"):f.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;d.appendChild(f);this.defs.appendChild(d);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),d.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#"+c+")";this.tgrp=null}},clip:function(a){this.pendingClip=
a},closePath:function(){var a=this.current;if(a.path){var c=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",c+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var d=a[c],g=d[0],d=d[1];switch(g){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);
break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "Font":this.setFont(d);break;case "CA":this.setStrokeAlpha(d);break;case "ca":this.setFillAlpha(d);break;default:(0,f.warn)("Unimplemented graphic state "+g)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())},stroke:function(){var a=this.current;a.element&&
(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(c){var b=this.current;c.setAttributeNS(null,"stroke",b.strokeColor);c.setAttributeNS(null,"stroke-opacity",b.strokeAlpha);c.setAttributeNS(null,"stroke-miterlimit",a(b.miterLimit));c.setAttributeNS(null,"stroke-linecap",b.lineCap);c.setAttributeNS(null,"stroke-linejoin",b.lineJoin);c.setAttributeNS(null,"stroke-width",a(b.lineWidth)+"px");c.setAttributeNS(null,"stroke-dasharray",
b.dashArray.map(a).join(" "));c.setAttributeNS(null,"stroke-dashoffset",a(b.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},
closeEOFillStroke:function(){this.closePath();this.eoFillStroke()},paintSolidColorImageMask:function(){var a=this.current,c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y","0");c.setAttributeNS(null,"width","1px");c.setAttributeNS(null,"height","1px");c.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(c)},paintJpegXObject:function(c,b,d){var c=this.objs.get(c),f=this.svgFactory.createElement("svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:href",c.src);f.setAttributeNS(null,"width",a(b));f.setAttributeNS(null,"height",a(d));f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",a(-d));f.setAttributeNS(null,"transform","scale("+a(1/b)+" "+a(-1/d)+")");this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,f.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(c,b){var d=c.width,f=c.height,g=v(c,this.forceDataSchema,!!b),h=this.svgFactory.createElement("svg:rect");
h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",a(d));h.setAttributeNS(null,"height",a(f));this.current.element=h;this.clip("nonzero");h=this.svgFactory.createElement("svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",a(-f));h.setAttributeNS(null,"width",a(d)+"px");h.setAttributeNS(null,"height",a(f)+"px");h.setAttributeNS(null,"transform","scale("+a(1/d)+" "+a(-1/f)+")");
b?b.appendChild(h):this._ensureTransformGroup().appendChild(h)},paintImageMaskXObject:function(b){var d=this.current,f=b.width,g=b.height,h=d.fillColor;d.maskId="mask"+c++;var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",d.maskId);var l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0");l.setAttributeNS(null,"y","0");l.setAttributeNS(null,"width",a(f));l.setAttributeNS(null,"height",a(g));l.setAttributeNS(null,"fill",h);l.setAttributeNS(null,"mask",
"url(#"+d.maskId+")");this.defs.appendChild(i);this._ensureTransformGroup().appendChild(l);this.paintInlineImageXObject(b,i)},paintFormXObjectBegin:function(c,b){Array.isArray(c)&&6===c.length&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]);if(b){var d=b[2]-b[0],f=b[3]-b[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",b[0]);g.setAttributeNS(null,"y",b[1]);g.setAttributeNS(null,"width",a(d));g.setAttributeNS(null,"height",a(f));this.current.element=g;this.clip("nonzero");this.endPath()}},
paintFormXObjectEnd:function(){},_initialize:function(a){var c=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");c.appendChild(d);this.defs=d;d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"transform",b(a.transform));c.appendChild(d);this.svg=d;return c},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=
a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return d}()},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,c){if(c&&("object"===i(c)||"function"===typeof c))return c;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function f(a){f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return f(a)}function n(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");
a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&t(a,c)}function t(a,c){t=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return t(a,c)}function v(a,c,b,d,e,f,g){try{var h=a[f](g),k=h.value}catch(i){b(i);return}h.done?c(k):Promise.resolve(k).then(d,e)}function q(a){return function(){var c=this,b=arguments;return new Promise(function(d,e){function f(a){v(h,d,e,f,g,"next",a)}function g(a){v(h,d,e,f,g,"throw",a)}var h=a.apply(c,b);f(void 0)})}}
function j(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function x(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function u(a,c,b){c&&x(a.prototype,c);b&&x(a,b);return a}function s(a,c){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:c}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNodeStream=
void 0;var h=function(a){return a&&a.__esModule?a:{"default":a}}(a(147)),g=a(1),c=a(166),e=require("fs"),k=require("http"),w=require("https"),o=require("url"),m=/^file:\/\/\/[a-zA-Z]:\//,d=function(){function a(c){j(this,a);this.source=c;var b;b=c.url;var d=o.parse(b);"file:"===d.protocol||d.host?b=d:/^[a-z]:[/\\]/i.test(b)?b=o.parse("file:///".concat(b)):(d.host||(d.protocol="file:"),b=d);this.url=b;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;
this.httpHeaders=this.isHttp&&c.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}u(a,[{key:"getFullReader",value:function(){(0,g.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new z(this):new p(this)}},{key:"getRangeReader",value:function(a,c){var b=this.isFsUrl?new C(this,a,c):new r(this,a,c);this._rangeRequestReaders.push(b);return b}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(a)})}}]);
return a}();b.PDFNodeStream=d;var b=function(){function a(c){j(this,a);this._url=c.url;this._done=!1;this.onProgress=this._storedError=null;c=c.source;this._contentLength=c.length;this._loaded=0;this._filename=null;this._disableRange=c.disableRange||!1;this._rangeChunkSize=c.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=!c.disableStream;this._isRangeSupported=!c.disableRange;this._readableStream=null;this._readCapability=(0,g.createPromiseCapability)();
this._headersCapability=(0,g.createPromiseCapability)()}u(a,[{key:"read",value:function(){var a=q(h.default.mark(function B(){var a,c;return h.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._readCapability.promise;case 2:if(!this._done){b.next=4;break}return b.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){b.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){b.next=10;break}this._readCapability=(0,g.createPromiseCapability)();
return b.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});c=(new Uint8Array(a)).buffer;return b.abrupt("return",{value:c,done:!1});case 14:case "end":return b.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},
{key:"_setReadableStream",value:function(a){var c=this;this._readableStream=a;a.on("readable",function(){c._readCapability.resolve()});a.on("end",function(){a.destroy();c._done=!0;c._readCapability.resolve()});a.on("error",function(a){c._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new g.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},
{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),d=function(){function a(c){j(this,a);this._url=c.url;this._done=!1;this.onProgress=this._storedError=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,g.createPromiseCapability)();this._isStreamingSupported=
!c.source.disableStream}u(a,[{key:"read",value:function(){var a=q(h.default.mark(function B(){var a,c;return h.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._readCapability.promise;case 2:if(!this._done){b.next=4;break}return b.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){b.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){b.next=10;break}this._readCapability=(0,g.createPromiseCapability)();return b.abrupt("return",
this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded});c=(new Uint8Array(a)).buffer;return b.abrupt("return",{value:c,done:!1});case 14:case "end":return b.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var c=
this;this._readableStream=a;a.on("readable",function(){c._readCapability.resolve()});a.on("end",function(){a.destroy();c._done=!0;c._readCapability.resolve()});a.on("error",function(a){c._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),p=function(a){function b(a){var d;j(this,b);d=l(this,f(b).call(this,a));var e=function(b){if(404===b.statusCode)b=new g.MissingPDFException('Missing PDF "'.concat(d._url,
'".')),d._storedError=b,d._headersCapability.reject(b);else{d._headersCapability.resolve();d._setReadableStream(b);var b=function(a){return d._readableStream.headers[a.toLowerCase()]},e=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),f=e.suggestedLength;d._isRangeSupported=e.allowRangeRequests;d._contentLength=f||d._contentLength;d._filename=(0,c.extractFilenameFromHeader)(b)}};d._request=null;d._request="http:"===
d._url.protocol?k.request(s(d._url,a.httpHeaders),e):w.request(s(d._url,a.httpHeaders),e);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}n(b,a);return b}(b),r=function(a){function c(a,b,d){var e;j(this,c);e=l(this,f(c).call(this,a));e._httpHeaders={};for(var h in a.httpHeaders){var i=a.httpHeaders[h];"undefined"!==typeof i&&(e._httpHeaders[h]=i)}e._httpHeaders.Range="bytes=".concat(b,"-").concat(d-1);a=function(a){404===a.statusCode?(a=
new g.MissingPDFException('Missing PDF "'.concat(e._url,'".')),e._storedError=a):e._setReadableStream(a)};e._request=null;e._request="http:"===e._url.protocol?k.request(s(e._url,e._httpHeaders),a):w.request(s(e._url,e._httpHeaders),a);e._request.on("error",function(a){e._storedError=a});e._request.end();return e}n(c,a);return c}(d),z=function(a){function c(a){var b;j(this,c);b=l(this,f(c).call(this,a));var d=decodeURIComponent(b._url.path);m.test(b._url.href)&&(d=d.replace(/^\//,""));e.lstat(d,function(a,
c){a?("ENOENT"===a.code&&(a=new g.MissingPDFException('Missing PDF "'.concat(d,'".'))),b._storedError=a,b._headersCapability.reject(a)):(b._contentLength=c.size,b._setReadableStream(e.createReadStream(d)),b._headersCapability.resolve())});return b}n(c,a);return c}(b),C=function(a){function c(a,b,d){j(this,c);var a=l(this,f(c).call(this,a)),g=decodeURIComponent(a._url.path);m.test(a._url.href)&&(g=g.replace(/^\//,""));a._setReadableStream(e.createReadStream(g,{start:b,end:d-1}));return a}n(c,a);return c}(d)},
function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.createResponseStatusError=function(a,b){return 404===a||0===a&&/^file:/.test(b)?new i.MissingPDFException('Missing PDF "'+b+'".'):new i.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)};b.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition"))if(a=(0,l.getFilenameFromContentDispositionHeader)(a),/\.pdf$/i.test(a))return a;return null};b.validateRangeRequestCapabilities=
function(a){var b=a.getResponseHeader,d=a.isHttp,l=a.rangeChunkSize,a=a.disableRange;(0,i.assert)(0<l,"Range chunk size must be larger than zero");var q={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(b("Content-Length"),10);if(!Number.isInteger(j))return q;q.suggestedLength=j;if(j<=2*l||(a||!d)||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity"))return q;q.allowRangeRequests=!0;return q};b.validateResponseStatus=function(a){return 200===a||206===a};var i=a(1),
l=a(167)},function(d,b){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function i(a,b){var d=[],i=!0,l=!1,j=void 0;try{for(var x=a[Symbol.iterator](),u;!(i=(u=x.next()).done)&&!(d.push(u.value),b&&d.length===b);i=!0);}catch(s){l=!0,j=s}finally{try{if(!i&&null!=x["return"])x["return"]()}finally{if(l)throw j;}}return d}function l(a){if(Array.isArray(a))return a}Object.defineProperty(b,"__esModule",{value:!0});b.getFilenameFromContentDispositionHeader=function(b){function d(a,
b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function t(a,b){if(a){if(!/^[\x00-\xFF]+$/.test(b))return b;try{var c=new TextDecoder(a,{fatal:!0}),d=Array.from(b,function(a){return a.charCodeAt(0)&255}),b=c.decode(new Uint8Array(d));u=!1}catch(f){if(/^utf-?8$/i.test(a))try{b=decodeURIComponent(escape(b)),u=!1}catch(i){}}}return b}function v(a){u&&/[\x80-\xff]/.test(a)&&(a=t("utf-8",a),u&&(a=t("iso-8859-1",a)));return a}function q(a){if(a.startsWith('"')){for(var a=
a.slice(1).split('\\"'),b=0;b<a.length;++b){var c=a[b].indexOf('"');-1!==c&&(a[b]=a[b].slice(0,c),a.length=b+1);a[b]=a[b].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function j(a){var b=a.indexOf("'");if(-1===b)return a;var c=a.slice(0,b),a=a.slice(b+1).replace(/^[^']*'/,"");return t(c,a)}function x(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,c,b,d){if("q"===b||"Q"===b)return d=d.replace(/_/g," "),d=d.replace(/=([0-9a-fA-F]{2})/g,
function(a,c){return String.fromCharCode(parseInt(c,16))}),t(c,d);try{d=atob(d)}catch(f){}return t(c,d)})}var u=!0,s=d("filename\\*","i").exec(b);return s?(s=s[1],b=q(s),b=unescape(b),b=j(b),b=x(b),v(b)):(s=function(b){for(var f=[],c,e=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(c=e.exec(b));){var k=l(c)||i(c,4)||a();c=k[1];var s=k[2],k=k[3];c=parseInt(c,10);if(c in f){if(0===c)break}else f[c]=[s,k]}b=[];for(c=0;c<f.length&&c in f;++c)e=l(f[c])||i(f[c],2)||a(),s=e[0],k=e[1],k=q(k),s&&(k=unescape(k),
0===c&&(k=j(k))),b.push(k);return b.join("")}(b))?(b=x(s),v(b)):(s=d("filename","i").exec(b))?(s=s[1],b=q(s),b=x(b),v(b)):""}},function(d,b,a){function i(a,b,c,d,f,i,j){try{var l=a[i](j),p=l.value}catch(n){c(n);return}l.done?b(p):Promise.resolve(p).then(d,f)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,f){function j(a){i(m,d,f,j,l,"next",a)}function l(a){i(m,d,f,j,l,"throw",a)}var m=a.apply(b,c);j(void 0)})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function t(a,b,c){b&&n(a.prototype,b);c&&n(a,c);return a}function v(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFFetchStream=void 0;var q=function(a){return a&&a.__esModule?a:{"default":a}}(a(147)),j=
a(1),x=a(166),d=function(){function a(b){f(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}t(a,[{key:"getFullReader",value:function(){(0,j.assert)(!this._fullRequestReader);return this._fullRequestReader=new u(this)}},{key:"getRangeReader",value:function(a,c){var b=new s(this,a,c);this._rangeRequestReaders.push(b);return b}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&
this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(a)})}}]);return a}();b.PDFFetchStream=d;var u=function(){function a(b){var c=this;f(this,a);this._stream=b;this._reader=null;this._loaded=0;this._filename=null;b=b.source;this._withCredentials=b.withCredentials;this._contentLength=b.length;this._headersCapability=(0,j.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&
(this._disableRange=!0);"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._headers=new Headers;for(var d in this._stream.httpHeaders){var k=this._stream.httpHeaders[d];"undefined"!==typeof k&&this._headers.append(d,k)}var i=b.url;fetch(i,v(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,
i);c._reader=a.body.getReader();c._headersCapability.resolve();var b=function(c){return a.headers.get(c)},d=(0,x.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=d.suggestedLength;c._isRangeSupported=d.allowRangeRequests;c._contentLength=e||c._contentLength;c._filename=(0,x.extractFilenameFromHeader)(b);!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new j.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);
this.onProgress=null}t(a,[{key:"read",value:function(){var a=l(q.default.mark(function e(){var a,b,d,f;return q.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;d=a.done;if(!d){e.next=9;break}return e.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});f=(new Uint8Array(b)).buffer;
return e.abrupt("return",{value:f,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),s=function(){function a(b,c,d){var k=this;f(this,a);this._stream=b;this._reader=null;this._loaded=0;b=b.source;this._withCredentials=b.withCredentials;this._readCapability=(0,j.createPromiseCapability)();this._isStreamingSupported=!b.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var i in this._stream.httpHeaders){var l=this._stream.httpHeaders[i];
"undefined"!==typeof l&&this._headers.append(i,l)}this._headers.append("Range","bytes="+(c+"-"+(d-1)));var m=b.url;fetch(m,v(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,m);k._readCapability.resolve();k._reader=a.body.getReader()});this.onProgress=null}t(a,[{key:"read",value:function(){var a=l(q.default.mark(function e(){var a,b,d,f;return q.default.wrap(function(e){for(;;)switch(e.prev=
e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;d=a.done;if(!d){e.next=9;break}return e.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});f=(new Uint8Array(b)).buffer;return e.abrupt("return",{value:f,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&
this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}()},function(d,b,a){function i(a){return a&&a.__esModule?a:{"default":a}}function l(a,b,d,f,g,h,i){try{var j=a[h](i),l=j.value}catch(n){d(n);return}j.done?b(l):Promise.resolve(l).then(f,g)}function f(a){return function(){var b=this,d=arguments;return new Promise(function(f,g){function h(a){l(j,f,g,h,i,"next",a)}function i(a){l(j,f,
g,h,i,"throw",a)}var j=a.apply(b,d);h(void 0)})}}function n(a,b){this.url=a;b=b||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&b.httpHeaders||{};this.withCredentials=b.withCredentials||!1;this.getXhr=b.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function t(a){a=a.response;return"string"!==typeof a?a:(0,u.stringToBytes)(a).buffer}function v(a){this._source=a;this._manager=new n(a.url,{httpHeaders:a.httpHeaders,
withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}function q(a,b){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url;this._fullRequestId=a.requestFull(d);this._headersReceivedCapability=(0,u.createPromiseCapability)();
this._disableRange=b.disableRange||!1;this._contentLength=b.length;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}function j(a,b,d){this._manager=a;var f={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,d,f);this._requests=
[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNetworkStream=v;b.NetworkManager=n;var x=i(a(147)),u=a(1),s=a(166),h=i(a(3)),g=function(){try{var a=new XMLHttpRequest;a.open("GET",h.default.location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();n.prototype={requestRange:function(a,b,d){var a={begin:a,end:b},f;for(f in d)a[f]=d[f];return this.request(a)},
requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),d=this.currXhrId++,f=this.pendingRequests[d]={xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var h in this.httpHeaders){var i=this.httpHeaders[h];"undefined"!==typeof i&&b.setRequestHeader(h,i)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),f.expectedStatus=206):f.expectedStatus=200;g&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",
f.onProgressiveData=a.onProgressiveData,f.mozChunked=!0):b.responseType="arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});b.onreadystatechange=this.onStateChange.bind(this,d);b.onprogress=this.onProgress.bind(this,d);f.onHeadersReceived=a.onHeadersReceived;f.onDone=a.onDone;f.onError=a.onError;f.onProgress=a.onProgress;b.send(null);return d},onProgress:function(a,b){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var f=t(d.xhr);d.onProgressiveData(f)}(d=d.onProgress)&&d(b)}},
onStateChange:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else{var f=d.status||200;if(!(200===f&&206===b.expectedStatus)&&f!==b.expectedStatus){if(b.onError)b.onError(d.status)}else if(this.loadedRequests[a]=!0,a=t(d),206===f)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),
d=parseInt(d[1],10),b.onDone({begin:d,chunk:a});else if(b.onProgressiveData)b.onDone(null);else if(a)b.onDone({begin:0,chunk:a});else if(b.onError)b.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},
abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}};v.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,u.assert)(!this._fullRequestReader);return this._fullRequestReader=new q(this._manager,this._source)},getRangeReader:function(a,b){var d=new j(this._manager,
a,b);d.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(d);return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}};q.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),d=function(a){return b.getResponseHeader(a)},f=(0,s.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,
rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=f.suggestedLength;f.allowRangeRequests&&(this._isRangeSupported=!0);this._contentLength=g||this._contentLength;this._filename=(0,s.extractFilenameFromHeader)(d);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},
_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,d=(0,s.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?
a.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var a=f(x.default.mark(function k(){var a,b;return x.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<
this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=7;break}return c.abrupt("return",{value:void 0,done:!0});case 7:return b=(0,u.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 10:case "end":return c.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};j.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&
this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){var a=f(x.default.mark(function k(){var a,b;return x.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,u.createPromiseCapability)(),this._requests.push(b),
c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}}}])});
