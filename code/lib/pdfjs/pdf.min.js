(function(d,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=b():d["pdfjs-dist/build/pdf"]=d.pdfjsLib=b()})(this,function(){return function(d){function b(i){if(a[i])return a[i].exports;var l=a[i]={i:i,l:!1,exports:{}};d[i].call(l.exports,l,l.exports,b);l.l=!0;return l.exports}var a={};b.m=d;b.c=a;b.d=function(a,l,g){b.o(a,l)||Object.defineProperty(a,
l,{enumerable:!0,get:g})};b.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,l){l&1&&(a=b(a));if(l&8||l&4&&"object"===typeof a&&a&&a.__esModule)return a;var g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:a});if(l&2&&"string"!=typeof a)for(var d in a)b.d(g,d,function(g){return a[g]}.bind(null,d));return g};b.n=function(a){var l=
a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(l,"a",l);return l};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=0)}([function(d,b,a){var d=a(1),i=a(147),l=a(162),g=a(163),o=a(151),r=a(164),w=a(156),s=a(153);if(a(4)()){var m=a(165).PDFNodeStream;i.setPDFNetworkStreamFactory(function(a){return new m(a)})}else{var x=a(168).PDFNetworkStream,v;o.isFetchSupported()&&(v=a(169).PDFFetchStream);i.setPDFNetworkStreamFactory(function(a){return v&&
o.isValidFetchUrl(a.url)?new v(a):new x(a)})}b.build=i.build;b.version=i.version;b.getDocument=i.getDocument;b.LoopbackPort=i.LoopbackPort;b.PDFDataRangeTransport=i.PDFDataRangeTransport;b.PDFWorker=i.PDFWorker;b.renderTextLayer=l.renderTextLayer;b.AnnotationLayer=g.AnnotationLayer;b.createPromiseCapability=d.createPromiseCapability;b.PasswordResponses=d.PasswordResponses;b.InvalidPDFException=d.InvalidPDFException;b.MissingPDFException=d.MissingPDFException;b.SVGGraphics=r.SVGGraphics;b.NativeImageDecoding=
d.NativeImageDecoding;b.CMapCompressionType=d.CMapCompressionType;b.PermissionFlag=d.PermissionFlag;b.UnexpectedResponseException=d.UnexpectedResponseException;b.OPS=d.OPS;b.VerbosityLevel=d.VerbosityLevel;b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES;b.createValidAbsoluteUrl=d.createValidAbsoluteUrl;b.createObjectURL=d.createObjectURL;b.removeNullCharacters=d.removeNullCharacters;b.shadow=d.shadow;b.Util=d.Util;b.ReadableStream=d.ReadableStream;b.URL=d.URL;b.RenderingCancelledException=o.RenderingCancelledException;
b.getFilenameFromUrl=o.getFilenameFromUrl;b.LinkTarget=o.LinkTarget;b.addLinkAttributes=o.addLinkAttributes;b.loadScript=o.loadScript;b.GlobalWorkerOptions=w.GlobalWorkerOptions;b.apiCompatibilityParams=s.apiCompatibilityParams},function(d,b,a){function i(f){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return i(f)}function l(f){v>=x.WARNINGS&&
console.log("Warning: "+f)}function g(f){throw Error(f);}function o(f,c){f||g(c)}function r(f){o("string"===typeof f,"Invalid argument for stringToBytes");for(var c=f.length,j=new Uint8Array(c),e=0;e<c;++e)j[e]=f.charCodeAt(e)&255;return j}function w(f){if(void 0!==f.length)return f.length;o(void 0!==f.byteLength);return f.byteLength}Object.defineProperty(b,"__esModule",{value:!0});b.arrayByteLength=w;b.arraysToBytes=function(f){if(1===f.length&&f[0]instanceof Uint8Array)return f[0];var c=0,j,e=f.length,
a,g;for(j=0;j<e;j++)a=f[j],g=w(a),c+=g;var h=0,c=new Uint8Array(c);for(j=0;j<e;j++)a=f[j],a instanceof Uint8Array||(a="string"===typeof a?r(a):new Uint8Array(a)),g=a.byteLength,c.set(a,h),h+=g;return c};b.assert=o;b.bytesToString=function(f){o(null!==f&&"object"===i(f)&&void 0!==f.length,"Invalid argument for bytesToString");var c=f.length;if(8192>c)return String.fromCharCode.apply(null,f);for(var j=[],e=0;e<c;e+=8192){var a=Math.min(e+8192,c),a=f.subarray(e,a);j.push(String.fromCharCode.apply(null,
a))}return j.join("")};b.createPromiseCapability=function(){var f=Object.create(null),c=!1;Object.defineProperty(f,"settled",{get:function(){return c}});f.promise=new Promise(function(j,e){f.resolve=function(e){c=!0;j(e)};f.reject=function(f){c=!0;e(f)}});return f};b.getVerbosityLevel=function(){return v};b.info=function(f){v>=x.INFOS&&console.log("Info: "+f)};b.isArrayBuffer=function(f){return"object"===i(f)&&null!==f&&void 0!==f.byteLength};b.isArrayEqual=function(f,c){return f.length!==c.length?
!1:f.every(function(f,e){return f===c[e]})};b.isBool=function(f){return"boolean"===typeof f};b.isEmptyObj=function(f){for(var c in f)return!1;return!0};b.isNum=function(f){return"number"===typeof f};b.isString=function(f){return"string"===typeof f};b.isSpace=function(f){return 32===f||9===f||13===f||10===f};b.isSameOrigin=function(f,c){try{var j=new m.URL(f);if(!j.origin||"null"===j.origin)return!1}catch(e){return!1}var a=new m.URL(c,j);return j.origin===a.origin};b.createValidAbsoluteUrl=function(f,
c){if(!f)return null;try{var j=c?new m.URL(f,c):new m.URL(f),e;a:if(j)switch(j.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":e=!0;break a;default:e=!1}else e=!1;if(e)return j}catch(a){}return null};b.isLittleEndian=function(){var f=new Uint8Array(4);f[0]=1;return 1===(new Uint32Array(f.buffer,0,1))[0]};b.isEvalSupported=function(){try{return new Function(""),!0}catch(f){return!1}};b.log2=function(f){return 0>=f?0:Math.ceil(Math.log2(f))};b.readInt8=function(f,c){return f[c]<<
24>>24};b.readUint16=function(f,c){return f[c]<<8|f[c+1]};b.readUint32=function(f,c){return(f[c]<<24|f[c+1]<<16|f[c+2]<<8|f[c+3])>>>0};b.removeNullCharacters=function(f){return"string"!==typeof f?(l("The argument for removeNullCharacters must be a string."),f):f.replace(t,"")};b.setVerbosityLevel=function(f){Number.isInteger(f)&&(v=f)};b.shadow=function(f,c,j){Object.defineProperty(f,c,{value:j,enumerable:!0,configurable:!0,writable:!1});return j};b.string32=function(f){return String.fromCharCode(f>>
24&255,f>>16&255,f>>8&255,f&255)};b.stringToBytes=r;b.stringToPDFString=function(f){var c,j=f.length,e=[];if("\u00fe"===f[0]&&"\u00ff"===f[1])for(c=2;c<j;c+=2)e.push(String.fromCharCode(f.charCodeAt(c)<<8|f.charCodeAt(c+1)));else for(c=0;c<j;++c){var a=h[f.charCodeAt(c)];e.push(a?String.fromCharCode(a):f.charAt(c))}return e.join("")};b.stringToUTF8String=function(f){return decodeURIComponent(escape(f))};b.utf8StringToString=function(f){return unescape(encodeURIComponent(f))};b.warn=l;b.unreachable=
g;Object.defineProperty(b,"ReadableStream",{enumerable:!0,get:function(){return s.ReadableStream}});Object.defineProperty(b,"URL",{enumerable:!0,get:function(){return m.URL}});b.createObjectURL=b.FormatError=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.NativeImageDecoding=b.MissingPDFException=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=
b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;a(2);var s=a(143),m=a(145);b.IDENTITY_MATRIX=[1,0,0,1,0,0];b.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];b.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};b.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};
b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,
THREED:25,REDACT:26};b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationBorderStyleType=
{SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};b.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var x={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=x;b.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,
save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,
nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,
endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",
shadingPattern:"shadingPattern",font:"font"};b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var v=x.WARNINGS,d=function(){function f(c,f){this.name="PasswordException";this.message=c;this.code=f}f.prototype=Error();return f.constructor=f}();b.PasswordException=d;d=function(){function f(c,f){this.name="UnknownErrorException";this.message=c;this.details=f}f.prototype=Error();return f.constructor=f}();b.UnknownErrorException=d;d=function(){function f(c){this.name="InvalidPDFException";this.message=
c}f.prototype=Error();return f.constructor=f}();b.InvalidPDFException=d;d=function(){function f(c){this.name="MissingPDFException";this.message=c}f.prototype=Error();return f.constructor=f}();b.MissingPDFException=d;d=function(){function f(c,f){this.name="UnexpectedResponseException";this.message=c;this.status=f}f.prototype=Error();return f.constructor=f}();b.UnexpectedResponseException=d;d=function(){function f(c){this.message=c}f.prototype=Error();f.prototype.name="FormatError";return f.constructor=
f}();b.FormatError=d;d=function(){function f(c){this.name="AbortException";this.message=c}f.prototype=Error();return f.constructor=f}();b.AbortException=d;var t=/\x00/g,d=function(){function f(){}var c=["rgb(",0,",",0,",",0,")"];f.makeCssRgb=function(f,e,a){c[1]=f;c[3]=e;c[5]=a;return c.join("")};f.transform=function(c,e){return[c[0]*e[0]+c[2]*e[1],c[1]*e[0]+c[3]*e[1],c[0]*e[2]+c[2]*e[3],c[1]*e[2]+c[3]*e[3],c[0]*e[4]+c[2]*e[5]+c[4],c[1]*e[4]+c[3]*e[5]+c[5]]};f.applyTransform=function(c,e){return[c[0]*
e[0]+c[1]*e[2]+e[4],c[0]*e[1]+c[1]*e[3]+e[5]]};f.applyInverseTransform=function(c,e){var f=e[0]*e[3]-e[1]*e[2];return[(c[0]*e[3]-c[1]*e[2]+e[2]*e[5]-e[4]*e[3])/f,(-c[0]*e[1]+c[1]*e[0]+e[4]*e[1]-e[5]*e[0])/f]};f.getAxialAlignedBoundingBox=function(c,e){var a=f.applyTransform(c,e),g=f.applyTransform(c.slice(2,4),e),h=f.applyTransform([c[0],c[3]],e),m=f.applyTransform([c[2],c[1]],e);return[Math.min(a[0],g[0],h[0],m[0]),Math.min(a[1],g[1],h[1],m[1]),Math.max(a[0],g[0],h[0],m[0]),Math.max(a[1],g[1],h[1],
m[1])]};f.inverseTransform=function(c){var e=c[0]*c[3]-c[1]*c[2];return[c[3]/e,-c[1]/e,-c[2]/e,c[0]/e,(c[2]*c[5]-c[4]*c[3])/e,(c[4]*c[1]-c[5]*c[0])/e]};f.apply3dTransform=function(c,e){return[c[0]*e[0]+c[1]*e[1]+c[2]*e[2],c[3]*e[0]+c[4]*e[1]+c[5]*e[2],c[6]*e[0]+c[7]*e[1]+c[8]*e[2]]};f.singularValueDecompose2dScale=function(c){var e=[c[0],c[2],c[1],c[3]],f=c[0]*e[0]+c[1]*e[2],a=c[2]*e[1]+c[3]*e[3],g=(f+a)/2,c=Math.sqrt((f+a)*(f+a)-4*(f*a-(c[2]*e[0]+c[3]*e[2])*(c[0]*e[1]+c[1]*e[3])))/2,e=g-c||1;return[Math.sqrt(g+
c||1),Math.sqrt(e)]};f.normalizeRect=function(c){var e=c.slice(0);c[0]>c[2]&&(e[0]=c[2],e[2]=c[0]);c[1]>c[3]&&(e[1]=c[3],e[3]=c[1]);return e};f.intersect=function(c,e){function a(e,c){return e-c}var g=[c[0],c[2],e[0],e[2]].sort(a),h=[c[1],c[3],e[1],e[3]].sort(a),m=[],c=f.normalizeRect(c),e=f.normalizeRect(e);if(g[0]===c[0]&&g[1]===e[0]||g[0]===e[0]&&g[1]===c[0])m[0]=g[1],m[2]=g[2];else return!1;if(h[0]===c[1]&&h[1]===e[1]||h[0]===e[1]&&h[1]===c[1])m[1]=h[1],m[3]=h[2];else return!1;return m};return f}();
b.Util=d;var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],d=function(){return function(f,c){if((!(2<arguments.length&&
void 0!==arguments[2])||!arguments[2])&&m.URL.createObjectURL){var a=new Blob([f],{type:c});return m.URL.createObjectURL(a)}for(var a="data:"+c+";base64,",e=0,k=f.length;e<k;e+=3)var g=f[e]&255,h=f[e+1]&255,b=f[e+2]&255,a=a+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(g&3)<<4|h>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[e+1<k?(h&15)<<2|b>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[e+
2<k?b&63:64]);return a}}();b.createObjectURL=d},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(3);if(!l._pdfjsCompatibilityChecked){l._pdfjsCompatibilityChecked=!0;var g=a(4),o="object"===("undefined"===typeof window?"undefined":i(window))&&"object"===("undefined"===typeof document?"undefined":
i(document));(function(){!l.btoa&&g()&&(l.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!l.atob&&g()&&(l.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){o&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();(function(){if(o&&!g()){var a=document.createElement("div");a.classList.add("testOne","testTwo");if(!(!0===a.classList.contains("testOne")&&
!0===a.classList.contains("testTwo"))){var b=DOMTokenList.prototype.add,l=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=arguments.length,g=Array(a),r=0;r<a;r++)g[r]=arguments[r];for(a=0;a<g.length;a++)b.call(this,g[a])};DOMTokenList.prototype.remove=function(){for(var a=arguments.length,g=Array(a),b=0;b<a;b++)g[b]=arguments[b];for(a=0;a<g.length;a++)l.call(this,g[a])}}}})();(function(){o&&!g()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=
function(a){var g=1<arguments.length?!!arguments[1]:!this.contains(a);return this[g?"add":"remove"](a),g})})();String.prototype.startsWith||a(5);String.prototype.endsWith||a(36);String.prototype.includes||a(38);Array.prototype.includes||a(40);Array.from||a(47);Object.assign||a(70);Math.log2||(Math.log2=a(75));Number.isNaN||(Number.isNaN=a(77));Number.isInteger||(Number.isInteger=a(79));if(!l.Promise||!l.Promise.prototype||!l.Promise.prototype["finally"])l.Promise=a(82);l.WeakMap||(l.WeakMap=a(102));
l.WeakSet||(l.WeakSet=a(119));String.codePointAt||(String.codePointAt=a(123));String.fromCodePoint||(String.fromCodePoint=a(125));l.Symbol||a(127);String.prototype.padStart||a(134);String.prototype.padEnd||a(138);Object.values||(Object.values=a(140))}},function(d){d.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(){return"object"===("undefined"===typeof process?"undefined":b(process))&&"[object process]"===process+""&&!process.versions.nw&&!process.versions.electron}},function(d,b,a){a(6);d.exports=a(9).String.startsWith},function(d,b,a){var d=a(7),i=a(28),l=a(30),g="".startsWith;d(d.P+d.F*a(35)("startsWith"),"String",
{startsWith:function(a){var b=l(this,a,"startsWith"),d=i(Math.min(1<arguments.length?arguments[1]:void 0,b.length)),s=""+a;return g?g.call(b,s,d):b.slice(d,d+s.length)===s}})},function(d,b,a){var i=a(8),l=a(9),g=a(10),o=a(20),r=a(26),b=function s(a,b,d){var t=a&s.F,h=a&s.G,f=a&s.S,c=a&s.P,j=a&s.B,f=h?i:f?i[b]||(i[b]={}):(i[b]||{}).prototype,e=h?l:l[b]||(l[b]={}),k=e.prototype||(e.prototype={}),p;h&&(d=b);for(p in d)h=!t&&f&&void 0!==f[p],b=(h?f:d)[p],h=j&&h?r(b,i):c&&"function"==typeof b?r(Function.call,
b):b,f&&o(f,p,b,a&s.U),e[p]!=b&&g(e,p,h),c&&k[p]!=b&&(k[p]=b)};i.core=l;b.F=1;b.G=2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=64;b.R=128;d.exports=b},function(d){d=d.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(d){d=d.exports={version:"2.6.5"};"number"==typeof __e&&(__e=d)},function(d,b,a){var i=a(11),l=a(19);d.exports=a(15)?function(a,b,r){return i.f(a,b,l(1,r))}:function(a,b,r){a[b]=
r;return a}},function(d,b,a){var i=a(12),l=a(14),g=a(18),o=Object.defineProperty;b.f=a(15)?Object.defineProperty:function(a,b,d){i(a);b=g(b,!0);i(d);if(l)try{return o(a,b,d)}catch(m){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[b]=d.value);return a}},function(d,b,a){var i=a(13);d.exports=function(a){if(!i(a))throw TypeError(a+" is not an object!");return a}},function(d){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}d.exports=function(a){return"object"===b(a)?null!==a:"function"===typeof a}},function(d,b,a){d.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(d,b,a){d.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d){d.exports=function(b){try{return!!b()}catch(a){return!0}}},
function(d,b,a){var b=a(13),i=a(8).document,l=b(i)&&b(i.createElement);d.exports=function(a){return l?i.createElement(a):{}}},function(d,b,a){var i=a(13);d.exports=function(a,g){if(!i(a))return a;var b,d;if(g&&"function"==typeof(b=a.toString)&&!i(d=b.call(a))||"function"==typeof(b=a.valueOf)&&!i(d=b.call(a))||!g&&"function"==typeof(b=a.toString)&&!i(d=b.call(a)))return d;throw TypeError("Can't convert object to primitive value");}},function(d){d.exports=function(b,a){return{enumerable:!(b&1),configurable:!(b&
2),writable:!(b&4),value:a}}},function(d,b,a){var i=a(8),l=a(10),g=a(21),o=a(22)("src"),r=a(23),w=(""+r).split("toString");a(9).inspectSource=function(a){return r.call(a)};(d.exports=function(a,b,d,r){var t="function"==typeof d;t&&(g(d,"name")||l(d,"name",b));a[b]!==d&&(t&&(g(d,o)||l(d,o,a[b]?""+a[b]:w.join(""+b))),a===i?a[b]=d:r?a[b]?a[b]=d:l(a,b,d):(delete a[b],l(a,b,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||r.call(this)})},function(d){var b={}.hasOwnProperty;
d.exports=function(a,d){return b.call(a,d)}},function(d){var b=0,a=Math.random();d.exports=function(d){return"Symbol(".concat(void 0===d?"":d,")_",(++b+a).toString(36))}},function(d,b,a){d.exports=a(24)("native-function-to-string",Function.toString)},function(d,b,a){var b=a(9),i=a(8),l=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(d.exports=function(a,b){return l[a]||(l[a]=void 0!==b?b:{})})("versions",[]).push({version:b.version,mode:a(25)?"pure":"global",copyright:"\u00a9 2019 Denis Pushkarev (zloirock.ru)"})},
function(d){d.exports=!1},function(d,b,a){var i=a(27);d.exports=function(a,g,b){i(a);if(void 0===g)return a;switch(b){case 1:return function(b){return a.call(g,b)};case 2:return function(b,d){return a.call(g,b,d)};case 3:return function(b,d,o){return a.call(g,b,d,o)}}return function(){return a.apply(g,arguments)}}},function(d){d.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(d,b,a){var i=a(29),l=Math.min;d.exports=function(a){return 0<a?l(i(a),
9007199254740991):0}},function(d){var b=Math.ceil,a=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?a:b)(d)}},function(d,b,a){var i=a(31),l=a(34);d.exports=function(a,b,d){if(i(b))throw TypeError("String#"+d+" doesn't accept regex!");return""+l(a)}},function(d,b,a){var i=a(13),l=a(32),g=a(33)("match");d.exports=function(a){var b;return i(a)&&(void 0!==(b=a[g])?!!b:"RegExp"==l(a))}},function(d){var b={}.toString;d.exports=function(a){return b.call(a).slice(8,-1)}},function(d,b,a){var i=
a(24)("wks"),l=a(22),g=a(8).Symbol,o="function"==typeof g;(d.exports=function(a){return i[a]||(i[a]=o&&g[a]||(o?g:l)("Symbol."+a))}).store=i},function(d){d.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(d,b,a){var i=a(33)("match");d.exports=function(a){var g=/./;try{"/./"[a](g)}catch(b){try{return g[i]=!1,!"/./"[a](g)}catch(d){}}return!0}},function(d,b,a){a(37);d.exports=a(9).String.endsWith},function(d,b,a){var d=a(7),i=a(28),l=a(30),g="".endsWith;
d(d.P+d.F*a(35)("endsWith"),"String",{endsWith:function(a){var b=l(this,a,"endsWith"),d=1<arguments.length?arguments[1]:void 0,s=i(b.length),d=void 0===d?s:Math.min(i(d),s),s=""+a;return g?g.call(b,s,d):b.slice(d-s.length,d)===s}})},function(d,b,a){a(39);d.exports=a(9).String.includes},function(d,b,a){var d=a(7),i=a(30);d(d.P+d.F*a(35)("includes"),"String",{includes:function(a){return!!~i(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(d,b,a){a(41);d.exports=a(9).Array.includes},
function(d,b,a){var d=a(7),i=a(42)(!0);d(d.P,"Array",{includes:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0)}});a(46)("includes")},function(d,b,a){var i=a(43),l=a(28),g=a(45);d.exports=function(a){return function(b,d,s){var b=i(b),m=l(b.length),s=g(s,m);if(a&&d!=d)for(;m>s;){if(d=b[s++],d!=d)return!0}else for(;m>s;s++)if((a||s in b)&&b[s]===d)return a||s||0;return!a&&-1}}},function(d,b,a){var i=a(44),l=a(34);d.exports=function(a){return i(l(a))}},function(d,b,a){var i=a(32);
d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==i(a)?a.split(""):Object(a)}},function(d,b,a){var i=a(29),l=Math.max,g=Math.min;d.exports=function(a,b){a=i(a);return 0>a?l(a+b,0):g(a,b)}},function(d,b,a){var i=a(33)("unscopables"),l=Array.prototype;void 0==l[i]&&a(10)(l,i,{});d.exports=function(a){l[i][a]=!0}},function(d,b,a){a(48);a(63);d.exports=a(9).Array.from},function(d,b,a){var i=a(49)(!0);a(50)(String,"String",function(a){this._t=""+a;this._i=0},function(){var a=
this._t,g=this._i;if(g>=a.length)return{value:void 0,done:!0};a=i(a,g);this._i+=a.length;return{value:a,done:!1}})},function(d,b,a){var i=a(29),l=a(34);d.exports=function(a){return function(b,d){var w=""+l(b),s=i(d),m=w.length,x,v;if(0>s||s>=m)return a?"":void 0;x=w.charCodeAt(s);return 55296>x||56319<x||s+1===m||56320>(v=w.charCodeAt(s+1))||57343<v?a?w.charAt(s):x:a?w.slice(s,s+2):(x-55296<<10)+(v-56320)+65536}}},function(d,b,a){var i=a(25),l=a(7),g=a(20),o=a(10),r=a(51),w=a(52),s=a(60),m=a(61),
x=a(33)("iterator"),v=!([].keys&&"next"in[].keys()),t=function(){return this};d.exports=function(a,f,c,j,e,k,b){w(c,f,j);var j=function(e){return!v&&e in y?y[e]:function(){return new c(this,e)}},d=f+" Iterator",n="values"==e,q=!1,y=a.prototype,E=y[x]||y["@@iterator"]||e&&y[e],J=E||j(e),I=e?!n?J:j("entries"):void 0,F="Array"==f?y.entries||E:E,B,z;F&&(a=m(F.call(new a)),a!==Object.prototype&&a.next&&(s(a,d,!0),!i&&"function"!=typeof a[x]&&o(a,x,t)));n&&(E&&"values"!==E.name)&&(q=!0,J=function(){return E.call(this)});
(!i||b)&&(v||q||!y[x])&&o(y,x,J);r[f]=J;r[d]=t;if(e)if(B={values:n?J:j("values"),keys:k?J:j("keys"),entries:I},b)for(z in B)z in y||g(y,z,B[z]);else l(l.P+l.F*(v||q),f,B);return B}},function(d){d.exports={}},function(d,b,a){var i=a(53),l=a(19),g=a(60),o={};a(10)(o,a(33)("iterator"),function(){return this});d.exports=function(a,b,d){a.prototype=i(o,{next:l(1,d)});g(a,b+" Iterator")}},function(d,b,a){var i=a(12),l=a(54),g=a(58),o=a(57)("IE_PROTO"),r=function(){},w=function(){var b=a(17)("iframe"),d=
g.length;b.style.display="none";a(59).appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object<\/script>");b.close();for(w=b.F;d--;)delete w.prototype[g[d]];return w()};d.exports=Object.create||function(a,b){var g;null!==a?(r.prototype=i(a),g=new r,r.prototype=null,g[o]=a):g=w();return void 0===b?g:l(g,b)}},function(d,b,a){var i=a(11),l=a(12),g=a(55);d.exports=a(15)?Object.defineProperties:function(a,b){l(a);for(var d=g(b),s=d.length,m=0,x;s>m;)i.f(a,
x=d[m++],b[x]);return a}},function(d,b,a){var i=a(56),l=a(58);d.exports=Object.keys||function(a){return i(a,l)}},function(d,b,a){var i=a(21),l=a(43),g=a(42)(!1),o=a(57)("IE_PROTO");d.exports=function(a,b){var d=l(a),m=0,x=[],v;for(v in d)v!=o&&i(d,v)&&x.push(v);for(;b.length>m;)if(i(d,v=b[m++]))~g(x,v)||x.push(v);return x}},function(d,b,a){var i=a(24)("keys"),l=a(22);d.exports=function(a){return i[a]||(i[a]=l(a))}},function(d){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
function(d,b,a){b=a(8).document;d.exports=b&&b.documentElement},function(d,b,a){var i=a(11).f,l=a(21),g=a(33)("toStringTag");d.exports=function(a,b,d){a&&!l(a=d?a:a.prototype,g)&&i(a,g,{configurable:!0,value:b})}},function(d,b,a){var i=a(21),l=a(62),g=a(57)("IE_PROTO"),o=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=l(a);return i(a,g)?a[g]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?o:null}},function(d,b,a){var i=a(34);
d.exports=function(a){return Object(i(a))}},function(d,b,a){var i=a(26),d=a(7),l=a(62),g=a(64),o=a(65),r=a(28),w=a(66),s=a(67);d(d.S+d.F*!a(69)(function(a){Array.from(a)}),"Array",{from:function(a){var b=l(a),d="function"==typeof this?this:Array,t=arguments.length,h=1<t?arguments[1]:void 0,f=void 0!==h,c=0,j=s(b);f&&(h=i(h,2<t?arguments[2]:void 0,2));if(void 0!=j&&!(d==Array&&o(j))){b=j.call(b);for(d=new d;!(t=b.next()).done;c++)w(d,c,f?g(b,h,[t.value,c],!0):t.value)}else{t=r(b.length);for(d=new d(t);t>
c;c++)w(d,c,f?h(b[c],c):b[c])}d.length=c;return d}})},function(d,b,a){var i=a(12);d.exports=function(a,b,d,r){try{return r?b(i(d)[0],d[1]):b(d)}catch(w){throw b=a["return"],void 0!==b&&i(b.call(a)),w;}}},function(d,b,a){var i=a(51),l=a(33)("iterator"),g=Array.prototype;d.exports=function(a){return void 0!==a&&(i.Array===a||g[l]===a)}},function(d,b,a){var i=a(11),l=a(19);d.exports=function(a,b,d){b in a?i.f(a,b,l(0,d)):a[b]=d}},function(d,b,a){var i=a(68),l=a(33)("iterator"),g=a(51);d.exports=a(9).getIteratorMethod=
function(a){if(void 0!=a)return a[l]||a["@@iterator"]||g[i(a)]}},function(d,b,a){var i=a(32),l=a(33)("toStringTag"),g="Arguments"==i(function(){return arguments}());d.exports=function(a){var b,d;if(void 0===a)b="Undefined";else{var s;if(null===a)s="Null";else{var m=a=Object(a);try{s=m[l]}catch(x){}s="string"==typeof(b=s)?b:g?i(a):"Object"==(d=i(a))&&"function"==typeof a.callee?"Arguments":d}b=s}return b}},function(d,b,a){var i=a(33)("iterator"),l=!1;try{var g=[7][i]();g["return"]=function(){l=!0};
Array.from(g,function(){throw 2;})}catch(o){}d.exports=function(a,b){if(!b&&!l)return!1;var g=!1;try{var d=[7],x=d[i]();x.next=function(){return{done:g=!0}};d[i]=function(){return x};a(d)}catch(o){}return g}},function(d,b,a){a(71);d.exports=a(9).Object.assign},function(d,b,a){d=a(7);d(d.S+d.F,"Object",{assign:a(72)})},function(d,b,a){var i=a(55),l=a(73),g=a(74),o=a(62),r=a(44),w=Object.assign;d.exports=!w||a(16)(function(){var a={},b={},g=Symbol();a[g]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=
a});return 7!=w({},a)[g]||"abcdefghijklmnopqrst"!=Object.keys(w({},b)).join("")})?function(a,b){for(var d=o(a),w=arguments.length,t=1,h=l.f,f=g.f;w>t;)for(var c=r(arguments[t++]),j=h?i(c).concat(h(c)):i(c),e=j.length,k=0,p;e>k;)if(f.call(c,p=j[k++]))d[p]=c[p];return d}:w},function(d,b){b.f=Object.getOwnPropertySymbols},function(d,b){b.f={}.propertyIsEnumerable},function(d,b,a){a(76);d.exports=a(9).Math.log2},function(d,b,a){d=a(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(d,
b,a){a(78);d.exports=a(9).Number.isNaN},function(d,b,a){d=a(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(d,b,a){a(80);d.exports=a(9).Number.isInteger},function(d,b,a){d=a(7);d(d.S,"Number",{isInteger:a(81)})},function(d,b,a){var i=a(13),l=Math.floor;d.exports=function(a){return!i(a)&&isFinite(a)&&l(a)===a}},function(d,b,a){a(83);a(48);a(84);a(87);a(100);a(101);d.exports=a(9).Promise},function(d,b,a){var i=a(68),d={};d[a(33)("toStringTag")]="z";"[object z]"!=d+""&&a(20)(Object.prototype,
"toString",function(){return"[object "+i(this)+"]"},!0)},function(d,b,a){for(var d=a(85),i=a(55),b=a(20),l=a(8),g=a(10),o=a(51),r=a(33),a=r("iterator"),r=r("toStringTag"),w=o.Array,s={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,
PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},i=i(s),m=0;m<i.length;m++){var x=i[m],v=s[x],t=l[x],t=t&&t.prototype,h;if(t&&(t[a]||g(t,a,w),t[r]||g(t,r,x),o[x]=w,v))for(h in d)t[h]||b(t,h,d[h],!0)}},function(d,b,a){var b=a(46),i=a(86),l=a(51),g=a(43);d.exports=a(50)(Array,"Array",function(a,b){this._t=g(a);this._i=0;this._k=b},function(){var a=
this._t,b=this._k,g=this._i++;return!a||g>=a.length?(this._t=void 0,i(1)):"keys"==b?i(0,g):"values"==b?i(0,a[g]):i(0,[g,a[g]])},"values");l.Arguments=l.Array;b("keys");b("values");b("entries")},function(d){d.exports=function(b,a){return{value:a,done:!!b}}},function(d,b,a){var i=a(25),l=a(8),g=a(26),o=a(68),d=a(7),r=a(13),w=a(27),s=a(88),m=a(89),x=a(90),v=a(91).set,t=a(93)(),b=a(94),h=a(95),f=a(96),c=a(97),j=l.TypeError,e=l.process,k=e&&e.versions,p=k&&k.v8||"",u=l.Promise,n="process"==o(e),q=function(){},
y,E,J,I,F=E=b.f,o=!!function(){try{var e=u.resolve(1),c=(e.constructor={})[a(33)("species")]=function(a){a(q,q)};return(n||"function"==typeof PromiseRejectionEvent)&&e.then(q)instanceof c&&0!==p.indexOf("6.6")&&-1===f.indexOf("Chrome/66")}catch(j){}}(),B=function(a){var e;return r(a)&&"function"==typeof(e=a.then)?e:!1},z=function(a,e){if(!a._n){a._n=!0;var c=a._c;t(function(){for(var f=a._v,k=1==a._s,b=0;c.length>b;){var g=c[b++],d=k?g.ok:g.fail,h=g.resolve,y=g.reject,p=g.domain,n=void 0,m=void 0,
u=void 0;try{d?(k||(2==a._h&&H(a),a._h=1),!0===d?n=f:(p&&p.enter(),n=d(f),p&&(p.exit(),u=!0)),n===g.promise?y(j("Promise-chain cycle")):(m=B(n))?m.call(n,h,y):h(n)):y(f)}catch(l){p&&!u&&p.exit(),y(l)}}a._c=[];a._n=!1;e&&!a._h&&D(a)})}},D=function(a){v.call(l,function(){var c=a._v,f=1!==a._h&&0===(a._a||a._c).length,j,k,b;f&&(j=h(function(){n?e.emit("unhandledRejection",c,a):(k=l.onunhandledrejection)?k({promise:a,reason:c}):(b=l.console)&&b.error&&b.error("Unhandled promise rejection",c)}),a._h=n||
1!==a._h&&0===(a._a||a._c).length?2:1);a._a=void 0;if(f&&j.e)throw j.v;})},H=function(a){v.call(l,function(){var c;n?e.emit("rejectionHandled",a):(c=l.onrejectionhandled)&&c({promise:a,reason:a._v})})},A=function(a){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=a,e._s=2,e._a||(e._a=e._c.slice()),z(e,!0))},K=function N(a){var e=this,c;if(!e._d){e._d=!0;e=e._w||e;try{if(e===a)throw j("Promise can't be resolved itself");(c=B(a))?t(function(){var f={_w:e,_d:!1};try{c.call(a,g(N,f,1),g(A,f,1))}catch(j){A.call(f,
j)}}):(e._v=a,e._s=1,z(e,!1))}catch(f){A.call({_w:e,_d:!1},f)}}};o||(u=function(a){s(this,u,"Promise","_h");w(a);y.call(this);try{a(g(K,this,1),g(A,this,1))}catch(e){A.call(this,e)}},y=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},y.prototype=a(98)(u.prototype,{then:function(a,c){var f=F(x(this,u));f.ok="function"==typeof a?a:!0;f.fail="function"==typeof c&&c;f.domain=n?e.domain:void 0;this._c.push(f);this._a&&this._a.push(f);this._s&&z(this,!1);return f.promise},
"catch":function(a){return this.then(void 0,a)}}),J=function(){var a=new y;this.promise=a;this.resolve=g(K,a,1);this.reject=g(A,a,1)},b.f=F=function(a){return a===u||a===I?new J(a):E(a)});d(d.G+d.W+d.F*!o,{Promise:u});a(60)(u,"Promise");a(99)("Promise");I=a(9).Promise;d(d.S+d.F*!o,"Promise",{reject:function(a){var e=F(this),c=e.reject;c(a);return e.promise}});d(d.S+d.F*(i||!o),"Promise",{resolve:function(a){return c(i&&this===I?u:this,a)}});d(d.S+d.F*!(o&&a(69)(function(a){u.all(a)["catch"](q)})),
"Promise",{all:function(a){var e=this,c=F(e),f=c.resolve,j=c.reject,k=h(function(){var c=[],k=0,b=1;m(a,false,function(a){var g=k++,d=false;c.push(void 0);b++;e.resolve(a).then(function(a){if(!d){d=true;c[g]=a;--b||f(c)}},j)});--b||f(c)});k.e&&j(k.v);return c.promise},race:function(a){var e=this,c=F(e),f=c.reject,j=h(function(){m(a,false,function(a){e.resolve(a).then(c.resolve,f)})});j.e&&f(j.v);return c.promise}})},function(d){d.exports=function(b,a,d,l){if(!(b instanceof a)||void 0!==l&&l in b)throw TypeError(d+
": incorrect invocation!");return b}},function(d,b,a){var i=a(26),l=a(64),g=a(65),o=a(12),r=a(28),w=a(67),s={},m={},d=d.exports=function(a,b,d,h,f){var f=f?function(){return a}:w(a),d=i(d,h,b?2:1),h=0,c,j;if("function"!=typeof f)throw TypeError(a+" is not iterable!");if(g(f))for(c=r(a.length);c>h;h++){if(f=b?d(o(j=a[h])[0],j[1]):d(a[h]),f===s||f===m)return f}else for(h=f.call(a);!(j=h.next()).done;)if(f=l(h,d,j.value,b),f===s||f===m)return f};d.BREAK=s;d.RETURN=m},function(d,b,a){var i=a(12),l=a(27),
g=a(33)("species");d.exports=function(a,b){var d=i(a).constructor,s;return void 0===d||void 0==(s=i(d)[g])?b:l(s)}},function(d,b,a){var i=a(26),l=a(92),g=a(59),o=a(17),r=a(8),w=r.process,b=r.setImmediate,s=r.clearImmediate,m=r.MessageChannel,x=r.Dispatch,v=0,t={},h,f=function(){var a=+this;if(t.hasOwnProperty(a)){var e=t[a];delete t[a];e()}},c=function(a){f.call(a.data)};if(!b||!s)b=function(a){for(var e=[],c=1;arguments.length>c;)e.push(arguments[c++]);t[++v]=function(){l("function"==typeof a?a:
Function(a),e)};h(v);return v},s=function(a){delete t[a]},"process"==a(32)(w)?h=function(a){w.nextTick(i(f,a,1))}:x&&x.now?h=function(a){x.now(i(f,a,1))}:m?(a=new m,m=a.port2,a.port1.onmessage=c,h=i(m.postMessage,m,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(h=function(a){r.postMessage(a+"","*")},r.addEventListener("message",c,!1)):h="onreadystatechange"in o("script")?function(a){g.appendChild(o("script")).onreadystatechange=function(){g.removeChild(this);f.call(a)}}:
function(a){setTimeout(i(f,a,1),0)};d.exports={set:b,clear:s}},function(d){d.exports=function(b,a,d){var l=void 0===d;switch(a.length){case 0:return l?b():b.call(d);case 1:return l?b(a[0]):b.call(d,a[0]);case 2:return l?b(a[0],a[1]):b.call(d,a[0],a[1]);case 3:return l?b(a[0],a[1],a[2]):b.call(d,a[0],a[1],a[2]);case 4:return l?b(a[0],a[1],a[2],a[3]):b.call(d,a[0],a[1],a[2],a[3])}return b.apply(d,a)}},function(d,b,a){var i=a(8),l=a(91).set,g=i.MutationObserver||i.WebKitMutationObserver,o=i.process,
r=i.Promise,w="process"==a(32)(o);d.exports=function(){var a,b,d,v=function(){var c,f;for(w&&(c=o.domain)&&c.exit();a;){f=a.fn;a=a.next;try{f()}catch(e){throw a?d():b=void 0,e;}}b=void 0;c&&c.enter()};if(w)d=function(){o.nextTick(v)};else if(g&&(!i.navigator||!i.navigator.standalone)){var t=!0,h=document.createTextNode("");(new g(v)).observe(h,{characterData:!0});d=function(){h.data=t=!t}}else if(r&&r.resolve){var f=r.resolve(void 0);d=function(){f.then(v)}}else d=function(){l.call(i,v)};return function(c){c=
{fn:c,next:void 0};b&&(b.next=c);a||(a=c,d());b=c}}},function(d,b,a){function i(a){var b,d;this.promise=new a(function(a,g){if(void 0!==b||void 0!==d)throw TypeError("Bad Promise constructor");b=a;d=g});this.resolve=l(b);this.reject=l(d)}var l=a(27);d.exports.f=function(a){return new i(a)}},function(d){d.exports=function(b){try{return{e:!1,v:b()}}catch(a){return{e:!0,v:a}}}},function(d,b,a){b=a(8).navigator;d.exports=b&&b.userAgent||""},function(d,b,a){var i=a(12),l=a(13),g=a(94);d.exports=function(a,
b){i(a);if(l(b)&&b.constructor===a)return b;var d=g.f(a),s=d.resolve;s(b);return d.promise}},function(d,b,a){var i=a(20);d.exports=function(a,b,d){for(var r in b)i(a,r,b[r],d);return a}},function(d,b,a){var i=a(8),l=a(11),g=a(15),o=a(33)("species");d.exports=function(a){a=i[a];g&&(a&&!a[o])&&l.f(a,o,{configurable:!0,get:function(){return this}})}},function(d,b,a){var d=a(7),i=a(9),l=a(8),g=a(90),o=a(97);d(d.P+d.R,"Promise",{"finally":function(a){var b=g(this,i.Promise||l.Promise),d="function"==typeof a;
return this.then(d?function(d){return o(b,a()).then(function(){return d})}:a,d?function(d){return o(b,a()).then(function(){throw d;})}:a)}})},function(d,b,a){var d=a(7),i=a(94),l=a(95);d(d.S,"Promise",{"try":function(a){var b=i.f(this),a=l(a);(a.e?b.reject:b.resolve)(a.v);return b.promise}})},function(d,b,a){a(83);a(84);a(103);a(115);a(117);d.exports=a(9).WeakMap},function(d,b,a){var i=a(8),b=a(104)(0),l=a(20),g=a(108),o=a(72),r=a(109),w=a(13),s=a(110),m=a(110),i=!i.ActiveXObject&&"ActiveXObject"in
i,x=g.getWeak,v=Object.isExtensible,t=r.ufstore,h,f=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},c={get:function(a){if(w(a)){var c=x(a);return!0===c?t(s(this,"WeakMap")).get(a):c?c[this._i]:void 0}},set:function(a,c){return r.def(s(this,"WeakMap"),a,c)}},j=d.exports=a(111)("WeakMap",f,c,r,!0,!0);m&&i&&(h=r.getConstructor(f,"WeakMap"),o(h.prototype,c),g.NEED=!0,b(["delete","has","get","set"],function(a){var c=j.prototype,f=c[a];l(c,a,function(c,j){if(w(c)&&
!v(c)){this._f||(this._f=new h);var b=this._f[a](c,j);return"set"==a?this:b}return f.call(this,c,j)})}))},function(d,b,a){var i=a(26),l=a(44),g=a(62),o=a(28),r=a(105);d.exports=function(a,b){var d=1==a,x=2==a,v=3==a,t=4==a,h=6==a,f=5==a||h,c=b||r;return function(j,e,b){for(var p=g(j),u=l(p),e=i(e,b,3),b=o(u.length),n=0,j=d?c(j,b):x?c(j,0):void 0,q,y;b>n;n++)if(f||n in u)if(q=u[n],y=e(q,n,p),a)if(d)j[n]=y;else if(y)switch(a){case 3:return!0;case 5:return q;case 6:return n;case 2:j.push(q)}else if(t)return!1;
return h?-1:v||t?t:j}}},function(d,b,a){var i=a(106);d.exports=function(a,b){return new (i(a))(b)}},function(d,b,a){var i=a(13),l=a(107),g=a(33)("species");d.exports=function(a){var b;if(l(a)){b=a.constructor;if("function"==typeof b&&(b===Array||l(b.prototype)))b=void 0;i(b)&&(b=b[g],null===b&&(b=void 0))}return void 0===b?Array:b}},function(d,b,a){var i=a(32);d.exports=Array.isArray||function(a){return"Array"==i(a)}},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(22)("meta"),g=a(13),o=a(21),r=a(11).f,w=0,s=Object.isExtensible||function(){return!0},m=!a(16)(function(){return s(Object.preventExtensions({}))}),x=function(a){r(a,l,{value:{i:"O"+ ++w,w:{}}})},v=d.exports={KEY:l,NEED:!1,fastKey:function(a,b){if(!g(a))return"symbol"==i(a)?a:("string"==typeof a?"S":"P")+a;if(!o(a,l)){if(!s(a))return"F";
if(!b)return"E";x(a)}return a[l].i},getWeak:function(a,b){if(!o(a,l)){if(!s(a))return!0;if(!b)return!1;x(a)}return a[l].w},onFreeze:function(a){m&&(v.NEED&&s(a)&&!o(a,l))&&x(a);return a}}},function(d,b,a){var i=a(98),l=a(108).getWeak,g=a(12),o=a(13),r=a(88),w=a(89),b=a(104),s=a(21),m=a(110),x=b(5),v=b(6),t=0,h=function(a){return a._l||(a._l=new f)},f=function(){this.a=[]},c=function(a,e){return x(a.a,function(a){return a[0]===e})};f.prototype={get:function(a){if(a=c(this,a))return a[1]},has:function(a){return!!c(this,
a)},set:function(a,e){var f=c(this,a);f?f[1]=e:this.a.push([a,e])},"delete":function(a){var e=v(this.a,function(e){return e[0]===a});~e&&this.a.splice(e,1);return!!~e}};d.exports={getConstructor:function(a,e,c,f){var b=a(function(a,j){r(a,b,e,"_i");a._t=e;a._i=t++;a._l=void 0;void 0!=j&&w(j,c,a[f],a)});i(b.prototype,{"delete":function(a){if(!o(a))return!1;var c=l(a);return!0===c?h(m(this,e))["delete"](a):c&&s(c,this._i)&&delete c[this._i]},has:function(a){if(!o(a))return!1;var c=l(a);return!0===c?
h(m(this,e)).has(a):c&&s(c,this._i)}});return b},def:function(a,c,f){var b=l(g(c),!0);!0===b?h(a).set(c,f):b[a._i]=f;return a},ufstore:h}},function(d,b,a){var i=a(13);d.exports=function(a,b){if(!i(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(d,b,a){var i=a(8),l=a(7),g=a(20),o=a(98),r=a(108),w=a(89),s=a(88),m=a(13),x=a(16),v=a(69),t=a(60),h=a(112);d.exports=function(a,c,b,e,k,d){var u=i[a],n=u,q=k?"set":"add",y=n&&n.prototype,E={},J=function(a){var c=y[a];
g(y,a,"delete"==a?function(a){return d&&!m(a)?!1:c.call(this,0===a?0:a)}:"has"==a?function(a){return d&&!m(a)?!1:c.call(this,0===a?0:a)}:"get"==a?function(a){return d&&!m(a)?void 0:c.call(this,0===a?0:a)}:"add"==a?function(a){c.call(this,0===a?0:a);return this}:function(a,e){c.call(this,0===a?0:a,e);return this})};if("function"!=typeof n||!(d||y.forEach&&!x(function(){(new n).entries().next()})))n=e.getConstructor(c,a,k,q),o(n.prototype,b),r.NEED=!0;else{var I=new n,b=I[q](d?{}:-0.0,1)!=I,F=x(function(){I.has(1)}),
B=v(function(a){new n(a)}),z=!d&&x(function(){for(var a=new n,c=5;c--;)a[q](c,c);return!a.has(-0.0)});B||(n=c(function(c,e){s(c,n,a);var b=h(new u,c,n);void 0!=e&&w(e,k,b[q],b);return b}),n.prototype=y,y.constructor=n);if(F||z)J("delete"),J("has"),k&&J("get");(z||b)&&J(q);d&&y.clear&&delete y.clear}t(n,a);E[a]=n;l(l.G+l.W+l.F*(n!=u),E);d||e.setStrong(n,a,k);return n}},function(d,b,a){var i=a(13),l=a(113).set;d.exports=function(a,b,d){var b=b.constructor,w;b!==d&&("function"==typeof b&&(w=b.prototype)!==
d.prototype&&i(w)&&l)&&l(a,w);return a}},function(d,b,a){var i=a(13),l=a(12),g=function(a,b){l(a);if(!i(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};d.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,d,l){try{l=a(26)(Function.call,a(114).f(Object.prototype,"__proto__").set,2),l(b,[]),d=!(b instanceof Array)}catch(i){d=!0}return function(a,b){g(a,b);d?a.__proto__=b:l(a,b);return a}}({},!1):void 0),check:g}},function(d,b,a){var i=a(74),l=a(19),g=a(43),o=a(18),r=a(21),
w=a(14),s=Object.getOwnPropertyDescriptor;b.f=a(15)?s:function(a,b){a=g(a);b=o(b,!0);if(w)try{return s(a,b)}catch(d){}if(r(a,b))return l(!i.f.call(a,b),a[b])}},function(d,b,a){a(116)("WeakMap")},function(d,b,a){var i=a(7);d.exports=function(a){i(i.S,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(d,b,a){a(118)("WeakMap")},function(d,b,a){var i=a(7),l=a(27),g=a(26),o=a(89);d.exports=function(a){i(i.S,a,{from:function(a,b,d){var i,r,t,h;
l(this);(i=void 0!==b)&&l(b);if(void 0==a)return new this;r=[];i?(t=0,h=g(b,d,2),o(a,!1,function(a){r.push(h(a,t++))})):o(a,!1,r.push,r);return new this(r)}})}},function(d,b,a){a(83);a(84);a(120);a(121);a(122);d.exports=a(9).WeakSet},function(d,b,a){var i=a(109),l=a(110);a(111)("WeakSet",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return i.def(l(this,"WeakSet"),a,!0)}},i,!1,!0)},function(d,b,a){a(116)("WeakSet")},function(d,b,a){a(118)("WeakSet")},
function(d,b,a){a(124);d.exports=a(9).String.codePointAt},function(d,b,a){var d=a(7),i=a(49)(!1);d(d.P,"String",{codePointAt:function(a){return i(this,a)}})},function(d,b,a){a(126);d.exports=a(9).String.fromCodePoint},function(d,b,a){var d=a(7),i=a(45),l=String.fromCharCode,a=String.fromCodePoint;d(d.S+d.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var b=[],d=arguments.length,w=0,s;d>w;){s=+arguments[w++];if(i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");b.push(65536>
s?l(s):l(((s-=65536)>>10)+55296,s%1024+56320))}return b.join("")}})},function(d,b,a){a(128);a(83);d.exports=a(9).Symbol},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var d=a(8),l=a(21),g=a(15),b=a(7),o=a(20),r=a(108).KEY,w=a(16),s=a(24),m=a(60),x=a(22),v=a(33),t=a(129),h=a(130),f=a(131),c=a(107),
j=a(12),e=a(13),k=a(43),p=a(18),u=a(19),n=a(53),q=a(132),y=a(114),E=a(11),J=a(55),I=y.f,F=E.f,B=q.f,z=d.Symbol,D=d.JSON,H=D&&D.stringify,A=v("_hidden"),K=v("toPrimitive"),L={}.propertyIsEnumerable,N=s("symbol-registry"),O=s("symbols"),V=s("op-symbols"),M=Object.prototype,s="function"==typeof z,T=d.QObject,Q=!T||!T.prototype||!T.prototype.findChild,Z=g&&w(function(){return 7!=n(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(a,c,e){var f=I(M,c);f&&delete M[c];F(a,c,e);f&&a!==
M&&F(M,c,f)}:F,$=function(a){var c=O[a]=n(z.prototype);c._k=a;return c},X=s&&"symbol"==i(z.iterator)?function(a){return"symbol"==i(a)}:function(a){return a instanceof z},Y=function(a,c,e){a===M&&Y(V,c,e);j(a);c=p(c,!0);j(e);return l(O,c)?(e.enumerable?(l(a,A)&&a[A][c]&&(a[A][c]=!1),e=n(e,{enumerable:u(0,!1)})):(l(a,A)||F(a,A,u(1,{})),a[A][c]=!0),Z(a,c,e)):F(a,c,e)},U=function(a,c){j(a);for(var e=f(c=k(c)),b=0,d=e.length,g;d>b;)Y(a,g=e[b++],c[g]);return a},R=function(a){var c=L.call(this,a=p(a,!0));
return this===M&&l(O,a)&&!l(V,a)?!1:c||!l(this,a)||!l(O,a)||l(this,A)&&this[A][a]?c:!0},T=function(a,c){a=k(a);c=p(c,!0);if(!(a===M&&l(O,c)&&!l(V,c))){var e=I(a,c);if(e&&l(O,c)&&(!l(a,A)||!a[A][c]))e.enumerable=!0;return e}},P=function(a){for(var a=B(k(a)),c=[],e=0,f;a.length>e;)!l(O,f=a[e++])&&(f!=A&&f!=r)&&c.push(f);return c},W=function(a){for(var c=a===M,a=B(c?V:k(a)),e=[],f=0,b;a.length>f;)l(O,b=a[f++])&&(c?l(M,b):1)&&e.push(O[b]);return e};s||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");
var a=x(0<arguments.length?arguments[0]:void 0),c=function aa(c){this===M&&aa.call(V,c);l(this,A)&&l(this[A],a)&&(this[A][a]=!1);Z(this,a,u(1,c))};g&&Q&&Z(M,a,{configurable:!0,set:c});return $(a)},o(z.prototype,"toString",function(){return this._k}),y.f=T,E.f=Y,a(133).f=q.f=P,a(74).f=R,a(73).f=W,g&&!a(25)&&o(M,"propertyIsEnumerable",R,!0),t.f=function(a){return $(v(a))});b(b.G+b.W+b.F*!s,{Symbol:z});o="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");
for(t=0;o.length>t;)v(o[t++]);J=J(v.store);for(o=0;J.length>o;)h(J[o++]);b(b.S+b.F*!s,"Symbol",{"for":function(a){return l(N,a=a+"")?N[a]:N[a]=z(a)},keyFor:function(a){if(!X(a))throw TypeError(a+" is not a symbol!");for(var c in N)if(N[c]===a)return c},useSetter:function(){Q=true},useSimple:function(){Q=false}});b(b.S+b.F*!s,"Object",{create:function(a,c){return c===void 0?n(a):U(n(a),c)},defineProperty:Y,defineProperties:U,getOwnPropertyDescriptor:T,getOwnPropertyNames:P,getOwnPropertySymbols:W});
D&&b(b.S+b.F*(!s||w(function(){var a=z();return H([a])!="[null]"||H({a:a})!="{}"||H(Object(a))!="{}"})),"JSON",{stringify:function(a){for(var f=[a],b=1,j;arguments.length>b;)f.push(arguments[b++]);j=b=f[1];if(!(!e(b)&&a===void 0||X(a))){c(b)||(b=function(a,c){typeof j=="function"&&(c=j.call(this,a,c));if(!X(c))return c});f[1]=b;return H.apply(D,f)}}});z.prototype[K]||a(10)(z.prototype,K,z.prototype.valueOf);m(z,"Symbol");m(Math,"Math",!0);m(d.JSON,"JSON",!0)},function(d,b,a){b.f=a(33)},function(d,
b,a){var i=a(8),l=a(9),g=a(25),o=a(129),r=a(11).f;d.exports=function(a){var b=l.Symbol||(l.Symbol=g?{}:i.Symbol||{});"_"!=a.charAt(0)&&!(a in b)&&r(b,a,{value:o.f(a)})}},function(d,b,a){var i=a(55),l=a(73),g=a(74);d.exports=function(a){var b=i(a),d=l.f;if(d)for(var d=d(a),s=g.f,m=0,x;d.length>m;)s.call(a,x=d[m++])&&b.push(x);return b}},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(43),g=a(133).f,o={}.toString,r="object"==("undefined"===typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(a){var b;if(r&&"[object Window]"==o.call(a))try{b=g(a)}catch(d){b=r.slice()}else b=g(l(a));return b}},function(d,b,a){var i=a(56),l=a(58).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return i(a,l)}},function(d,
b,a){a(135);d.exports=a(9).String.padStart},function(d,b,a){var d=a(7),i=a(136),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a(96));d(d.P+d.F*a,"String",{padStart:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0,!0)}})},function(d,b,a){var i=a(28),l=a(137),g=a(34);d.exports=function(a,b,d,s){var a=""+g(a),m=a.length,d=void 0===d?" ":""+d,b=i(b);if(b<=m||""==d)return a;b-=m;m=l.call(d,Math.ceil(b/d.length));m.length>b&&(m=m.slice(0,b));return s?m+a:a+m}},function(d,b,
a){var i=a(29),l=a(34);d.exports=function(a){var b=""+l(this),d="",a=i(a);if(0>a||Infinity==a)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(b+=b))a&1&&(d+=b);return d}},function(d,b,a){a(139);d.exports=a(9).String.padEnd},function(d,b,a){var d=a(7),i=a(136),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a(96));d(d.P+d.F*a,"String",{padEnd:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0,!1)}})},function(d,b,a){a(141);d.exports=a(9).Object.values},function(d,
b,a){var d=a(7),i=a(142)(!1);d(d.S,"Object",{values:function(a){return i(a)}})},function(d,b,a){var i=a(55),l=a(43),g=a(74).f;d.exports=function(a){return function(b){for(var b=l(b),d=i(b),s=d.length,m=0,x=[],v;s>m;)if(g.call(b,v=d[m++]))x.push(a?[v,b[v]]:b[v]);return x}}},function(d,b,a){d=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(i){}b.ReadableStream=d?ReadableStream:a(144).ReadableStream},function(d,b){function a(b){a="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(b)}(function(a,b){for(var d in b)a[d]=b[d]})(b,function(a){function b(o){if(d[o])return d[o].exports;var r=d[o]={i:o,l:!1,exports:{}};a[o].call(r.exports,r,r.exports,b);r.l=!0;return r.exports}var d={};b.m=a;b.c=d;b.i=function(a){return a};b.d=function(a,d,g){b.o(a,d)||Object.defineProperty(a,d,{configurable:!1,
enumerable:!0,get:g})};b.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(d,"a",d);return d};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=7)}([function(b,d,g){function o(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":w(a))}function r(a,b,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,d)}var w="function"===typeof Symbol&&
"symbol"===a(Symbol.iterator)?function(b){return a(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)},s=g(1).assert;d.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":w(a))&&null!==a||"function"===typeof a};d.createDataProperty=function(a,b,g){s(d.typeIsObject(a));Object.defineProperty(a,b,{value:g,writable:!0,enumerable:!0,configurable:!0})};d.createArrayFromList=function(a){return a.slice()};d.ArrayBufferCopy=
function(a,b,d,g,h){(new Uint8Array(a)).set(new Uint8Array(d,g,h),b)};d.CreateIterResultObject=function(a,b){s("boolean"===typeof b);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return d};d.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};d.InvokeOrNoop=function(a,b,d){s(void 0!==a);s(o(b));s(Array.isArray(d));b=a[b];return void 0===
b?void 0:r(b,a,d)};d.PromiseInvokeOrNoop=function(a,b,g){s(void 0!==a);s(o(b));s(Array.isArray(g));try{return Promise.resolve(d.InvokeOrNoop(a,b,g))}catch(t){return Promise.reject(t)}};d.PromiseInvokeOrPerformFallback=function(a,b,d,g,h){s(void 0!==a);s(o(b));s(Array.isArray(d));s(Array.isArray(h));var f=void 0;try{f=a[b]}catch(c){return Promise.reject(c)}if(void 0===f)return g.apply(null,h);try{return Promise.resolve(r(f,a,d))}catch(j){return Promise.reject(j)}};d.TransferArrayBuffer=function(a){return a.slice()};
d.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};d.ValidateAndNormalizeQueuingStrategy=function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=d.ValidateAndNormalizeHighWaterMark(b);return{size:a,highWaterMark:b}}},function(a){function b(a){this.name="AssertionError";this.message=
a||"";this.stack=Error().stack}b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===b&&setTimeout(function(){throw a;},0)},AssertionError:b,assert:function(a,d){if(!a)throw new b(d);}}},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a){return new pa(a)}function w(a){return!W(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?
!1:!0}function s(a){C(!0===w(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function m(a,c){var e=a._state;if("closed"===e)return Promise.resolve(void 0);if("errored"===e)return Promise.reject(a._storedError);var f=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(f);C("writable"===e||"erroring"===e,"state must be writable or erroring");var b=!1;"erroring"===e&&(b=!0,c=void 0);e=new Promise(function(e,
f){a._pendingAbortRequest={_resolve:e,_reject:f,_reason:c,_wasAlreadyErroring:b}});!1===b&&t(a,f);return e}function x(a){C(!0===s(a));C("writable"===a._state);return new Promise(function(c,e){a._writeRequests.push({_resolve:c,_reject:e})})}function v(a,c){var e=a._state;"writable"===e?t(a,c):(C("erroring"===e),h(a))}function t(a,e){C(void 0===a._storedError,"stream._storedError === undefined");C("writable"===a._state,"state must be writable");var f=a._writableStreamController;C(void 0!==f,"controller must not be undefined");
a._state="erroring";a._storedError=e;var b=a._writer;void 0!==b&&y(b,e);!1===c(a)&&!0===f._started&&h(a)}function h(a){C("erroring"===a._state,"stream._state === erroring");C(!1===c(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var e=a._storedError,f=0;f<a._writeRequests.length;f++)a._writeRequests[f]._reject(e);a._writeRequests=[];if(void 0===a._pendingAbortRequest)k(a);else{var b=a._pendingAbortRequest;a._pendingAbortRequest=
void 0;!0===b._wasAlreadyErroring?(b._reject(e),k(a)):a._writableStreamController.__abortSteps(b._reason).then(function(){b._resolve();k(a)},function(c){b._reject(c);k(a)})}}function f(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function c(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function j(a){C(void 0===a._inFlightCloseRequest);C(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function e(a){C(void 0===
a._inFlightWriteRequest,"there must be no pending write request");C(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function k(a){C("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(C(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=a._writer;void 0!==c&&(N(c,a._storedError),c._closedPromise["catch"](function(){}))}function p(a,c){C("writable"===
a._state);C(!1===f(a));var e=a._writer;void 0!==e&&c!==a._backpressure&&(!0===c?Z(e):(C(!1===c),X(e)));a._backpressure=c}function u(a){return!W(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function n(a){var c=a._ownerWritableStream;C(void 0!==c);var e=c._state;if("closed"===e||"errored"===e)return Promise.reject(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));C("writable"===e||"erroring"===e);C(!1===f(c));var b=new Promise(function(a,
e){c._closeRequest={_resolve:a,_reject:e}});!0===c._backpressure&&"writable"===e&&X(a);I(c._writableStreamController);return b}function q(a,c){"pending"===a._closedPromiseState?N(a,c):O(a,c);a._closedPromise["catch"](function(){})}function y(a,c){"pending"===a._readyPromiseState?Q(a,c):$(a,c);a._readyPromise["catch"](function(){})}function E(a){var c=a._ownerWritableStream;C(void 0!==c);C(c._writer===a);var e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
y(a,e);q(a,e);c._writer=void 0;a._ownerWritableStream=void 0}function J(a,c){var e=a._ownerWritableStream;C(void 0!==e);var b=e._writableStreamController,d;var j=b._strategySize;if(void 0===j)d=1;else try{d=j(c)}catch(k){"writable"===b._controlledWritableStream._state&&D(b,k),d=1}if(e!==a._ownerWritableStream)return Promise.reject(K("write to"));j=e._state;if("errored"===j)return Promise.reject(e._storedError);if(!0===f(e)||"closed"===j)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===j)return Promise.reject(e._storedError);C("writable"===j);e=x(e);a:{j={chunk:c};try{aa(b,j,d)}catch(y){"writable"===b._controlledWritableStream._state&&D(b,y);break a}d=b._controlledWritableStream;!1===f(d)&&"writable"===d._state&&p(d,0>=b._strategyHWM-b._queueTotalSize);F(b)}return e}function I(a){aa(a,"close",0);F(a)}function F(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var e=c._state;"closed"===e||"errored"===e||("erroring"===e?h(c):
0!==a._queue.length&&(c=fa(a),"close"===c?B(a):z(a,c.chunk)))}}function B(a){var c=a._controlledWritableStream;j(c);ca(a);C(0===a._queue.length,"queue must be empty once the final write record is dequeued");R(a._underlyingSink,"close",[]).then(function(){C(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;C("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),
c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(C(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),C(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),C("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");C(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
C(void 0===c._storedError,"stream._storedError === undefined")},function(a){C(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;C("writable"===c._state||"erroring"===c._state);void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);v(c,a)})["catch"](S)}function z(a,c){var b=a._controlledWritableStream;e(b);R(a._underlyingSink,"write",[c,a]).then(function(){C(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._resolve(void 0);
b._inFlightWriteRequest=void 0;var c=b._state;C("writable"===c||"erroring"===c);ca(a);!1===f(b)&&"writable"===c&&p(b,0>=a._strategyHWM-a._queueTotalSize);F(a)},function(a){C(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._reject(a);b._inFlightWriteRequest=void 0;C("writable"===b._state||"erroring"===b._state);v(b,a)})["catch"](S)}function D(a,c){var e=a._controlledWritableStream;C("writable"===e._state);t(e,c)}function H(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function A(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function K(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function L(a){a._closedPromise=new Promise(function(c,e){a._closedPromise_resolve=c;a._closedPromise_reject=e;a._closedPromiseState="pending"})}function N(a,c){C(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");C(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
C("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function O(a,c){C(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");C(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");C("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState=
"rejected"}function V(a){a._readyPromise=new Promise(function(c,e){a._readyPromise_resolve=c;a._readyPromise_reject=e});a._readyPromiseState="pending"}function M(a,c){a._readyPromise=Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function T(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function Q(a,c){C(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
C(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Z(a){C(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");C(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,e){a._readyPromise_resolve=c;a._readyPromise_reject=e});a._readyPromiseState="pending"}function $(a,
c){C(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");C(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function X(a){C(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");C(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var Y=function(){function a(c,e){for(var b=0;b<e.length;b++){var f=e[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),b=d(0),U=b.InvokeOrNoop,R=b.PromiseInvokeOrNoop,P=b.ValidateAndNormalizeQueuingStrategy,W=b.typeIsObject,b=d(1),C=b.assert,S=b.rethrowAssertionErrorRejection,d=d(3),ca=d.DequeueValue,aa=d.EnqueueValueWithSize,fa=d.PeekQueueValue,ka=d.ResetQueue,
d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.size,e=e.highWaterMark,e=void 0===e?1:e;o(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==c.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,c,b,e);this._writableStreamController.__startSteps()}Y(a,[{key:"abort",value:function(a){return!1===w(this)?Promise.reject(H("abort")):!0===s(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):m(this,a)}},{key:"getWriter",value:function(){if(!1===w(this))throw H("getWriter");return r(this)}},{key:"locked",get:function(){if(!1===w(this))throw H("locked");return s(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:r,
IsWritableStream:w,IsWritableStreamLocked:s,WritableStream:d,WritableStreamAbort:m,WritableStreamDefaultControllerError:D,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var c=a._ownerWritableStream;C(void 0!==c);var e=c._state;if(!0===f(c)||"closed"===e)return Promise.resolve();if("errored"===e)return Promise.reject(c._storedError);C("writable"===e||"erroring"===e);return n(a)},WritableStreamDefaultWriterRelease:E,WritableStreamDefaultWriterWrite:J,WritableStreamCloseQueuedOrInFlight:f};
var pa=function(){function a(c){o(this,a);if(!1===w(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===s(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=c;c._writer=this;var e=c._state;"writable"===e?(!1===f(c)&&!0===c._backpressure?V(this):T(this),L(this)):"erroring"===e?(M(this,c._storedError),this._readyPromise["catch"](function(){}),L(this)):"closed"===
e?(T(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(C("errored"===e,"state must be errored"),c=c._storedError,M(this,c),this._readyPromise["catch"](function(){}),this._closedPromise=Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise["catch"](function(){}))}Y(a,[{key:"abort",value:function(a){if(!1===u(this))return Promise.reject(A("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(K("abort"));var c=this._ownerWritableStream;C(void 0!==c);return m(c,a)}},{key:"close",value:function(){if(!1===u(this))return Promise.reject(A("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(K("close")):!0===f(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):n(this)}},{key:"releaseLock",value:function(){if(!1===u(this))throw A("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(C(void 0!==a._writer),E(this))}},{key:"write",value:function(a){return!1===u(this)?Promise.reject(A("write")):void 0===this._ownerWritableStream?Promise.reject(K("write to")):J(this,a)}},{key:"closed",get:function(){return!1===u(this)?Promise.reject(A("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===u(this))throw A("desiredSize");if(void 0===this._ownerWritableStream)throw K("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?
null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===u(this)?Promise.reject(A("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,e,b,f){o(this,a);if(!1===w(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=c;this._underlyingSink=e;this._queueTotalSize=this._queue=void 0;ka(this);this._started=!1;e=P(b,f);this._strategySize=e.size;this._strategyHWM=e.highWaterMark;p(c,0>=this._strategyHWM-this._queueTotalSize)}Y(a,[{key:"error",value:function(a){var c;c=W(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&D(this,a)}},{key:"__abortSteps",value:function(a){return R(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ka(this)}},{key:"__startSteps",value:function(){var a=this,c=U(this._underlyingSink,"start",[this]),e=this._controlledWritableStream;Promise.resolve(c).then(function(){C("writable"===e._state||"erroring"===e._state);a._started=!0;F(a)},function(c){C("writable"===e._state||"erroring"===e._state);a._started=!0;v(e,c)})["catch"](S)}}]);
return a}()},function(a,b,d){var o=d(0).IsFiniteNonNegativeNumber,r=d(1).assert;b.DequeueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();a._queueTotalSize-=b.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return b.value};b.EnqueueValueWithSize=function(a,b,d){r("_queue"in a&&
"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");d=Number(d);if(!o(d))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:d});a._queueTotalSize+=d};b.PeekQueueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");
return a._queue[0].value};b.ResetQueue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=0}},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function w(a){G(!0===r(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function s(a,c){G(!0===r(a));G("boolean"===typeof c);var e=new ra(a),b={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};b.promise=new Promise(function(a){b._resolve=a});var f=m();f._reader=e;f._teeState=b;f._cloneForBranch2=c;var d=x();d._stream=a;d._teeState=b;var j=v();j._stream=a;j._teeState=b;var k=Object.create(Object.prototype);na(k,"pull",f);na(k,"cancel",d);d=new sa(k);k=Object.create(Object.prototype);na(k,"pull",f);na(k,"cancel",
j);j=new sa(k);f._branch1=d._readableStreamController;f._branch2=j._readableStreamController;e._closedPromise["catch"](function(a){!0!==b.closedOrErrored&&(H(f._branch1,a),H(f._branch2,a),b.closedOrErrored=!0)});return[d,j]}function m(){function a(){var c=a._branch1,e=a._branch2,b=a._teeState;return J(a._reader).then(function(a){G(ea(a));var f=a.value,a=a.done;G("boolean"===typeof a);!0===a&&!1===b.closedOrErrored&&(!1===b.canceled1&&z(c),!1===b.canceled2&&z(e),b.closedOrErrored=!0);!0!==b.closedOrErrored&&
(!1===b.canceled1&&D(c,f),!1===b.canceled2&&D(e,f))})}return a}function x(){function a(c){var e=a._stream,b=a._teeState;b.canceled1=!0;b.reason1=c;!0===b.canceled2&&(c=ta([b.reason1,b.reason2]),e=f(e,c),b._resolve(e));return b.promise}return a}function v(){function a(c){var e=a._stream,b=a._teeState;b.canceled2=!0;b.reason2=c;!0===b.canceled1&&(c=ta([b.reason1,b.reason2]),e=f(e,c),b._resolve(e));return b.promise}return a}function t(a){G(!0===u(a._reader));G("readable"===a._state||"closed"===a._state);
return new Promise(function(c,e){a._reader._readIntoRequests.push({_resolve:c,_reject:e})})}function h(a){G(!0===n(a._reader));G("readable"===a._state);return new Promise(function(c,e){a._reader._readRequests.push({_resolve:c,_reject:e})})}function f(a,e){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);c(a);return a._readableStreamController.__cancelSteps(e).then(function(){})}function c(a){G("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===n(a)){for(var c=0;c<a._readRequests.length;c++){var e=a._readRequests[c]._resolve;e(da(void 0,!0))}a._readRequests=[]}G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function j(a,c){G(!0===r(a),"stream must be ReadableStream");G("readable"===a._state,"state must be readable");a._state="errored";a._storedError=c;var e=a._reader;
if(void 0!==e){if(!0===n(e)){for(var b=0;b<e._readRequests.length;b++)e._readRequests[b]._reject(c);e._readRequests=[]}else{G(u(e),"reader must be ReadableStreamBYOBReader");for(b=0;b<e._readIntoRequests.length;b++)e._readIntoRequests[b]._reject(c);e._readIntoRequests=[]}va(e,c);e._closedPromise["catch"](function(){})}}function e(a,c,e){a=a._reader;G(0<a._readRequests.length);a._readRequests.shift()._resolve(da(c,e))}function k(a){a=a._reader;return void 0===a||!1===u(a)?!1:!0}function p(a){a=a._reader;
return void 0===a||!1===n(a)?!1:!0}function u(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function n(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function q(a,c){a._ownerReadableStream=c;c._reader=a;"readable"===c._state?ka(a):"closed"===c._state?qa(a):(G("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise["catch"](function(){}))}function y(a,c){var e=a._ownerReadableStream;G(void 0!==e);return f(e,
c)}function E(a){G(void 0!==a._ownerReadableStream);G(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise["catch"](function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function J(a){a=a._ownerReadableStream;G(void 0!==a);
a._disturbed=!0;if("closed"===a._state)return Promise.resolve(da(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);G("readable"===a._state);return a._readableStreamController.__pullSteps()}function I(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function F(a){!1!==B(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=
!1,F(a)},function(c){A(a,c)})["catch"](ba)))}function B(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===w(c)&&0<c._reader._readRequests.length||0<K(a)?!0:!1}function z(a){var e=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===e._state);a._closeRequested=!0;0===a._queue.length&&c(e)}function D(a,c){var b=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===b._state);if(!0===w(b)&&
0<b._reader._readRequests.length)e(b,c,!1);else{b=1;if(void 0!==a._strategySize){var f=a._strategySize;try{b=f(c)}catch(d){throw A(a,d),d;}}try{Aa(a,c,b)}catch(j){throw A(a,j),j;}}F(a)}function H(a,c){var e=a._controlledReadableStream;G("readable"===e._state);ha(a);j(e,c)}function A(a,c){"readable"===a._controlledReadableStream._state&&H(a,c)}function K(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function L(a){return!ea(a)||
!Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!1:!0}function N(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function O(a){!1!==W(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,O(a))},function(c){"readable"===a._controlledReadableStream._state&&C(a,c)})["catch"](ba)))}function V(a,c){G("errored"!==
a._state,"state must not be errored");var b=!1;"closed"===a._state&&(G(0===c.bytesFilled),b=!0);var f=M(c);if("default"===c.readerType)e(a,f,b);else{G("byob"===c.readerType);var d=a._reader;G(0<d._readIntoRequests.length);d._readIntoRequests.shift()._resolve(da(f,b))}}function M(a){var c=a.bytesFilled,e=a.elementSize;G(c<=a.byteLength);G(0===c%e);return new a.ctor(a.buffer,a.byteOffset,c/e)}function T(a,c,e,b){a._queue.push({buffer:c,byteOffset:e,byteLength:b});a._queueTotalSize+=b}function Q(a,c){var e=
c.elementSize,b=c.bytesFilled-c.bytesFilled%e,f=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),d=c.bytesFilled+f,d=d-d%e,e=!1;d>b&&(f=d-c.bytesFilled,e=!0);for(b=a._queue;0<f;){var d=b[0],j=Math.min(f,d.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,d.buffer,d.byteOffset,j);d.byteLength===j?b.shift():(d.byteOffset+=j,d.byteLength-=j);a._queueTotalSize-=j;Z(a,j,c);f-=j}!1===e&&(G(0===a._queueTotalSize,"queue must be empty"),G(0<c.bytesFilled),G(c.bytesFilled<c.elementSize));return e}function Z(a,
c,e){G(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===e);X(a);e.bytesFilled+=c}function $(a){G("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?c(a._controlledReadableStream):O(a)}function X(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Y(a){for(G(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];
!0===Q(a,c)&&(P(a),V(a._controlledReadableStream,c))}}function U(a,c){var e=a._controlledReadableStream,b=1;c.constructor!==DataView&&(b=c.constructor.BYTES_PER_ELEMENT);b={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:b,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return b.buffer=ja(b.buffer),a._pendingPullIntos.push(b),t(e);if("closed"===e._state)return e=new c.constructor(b.buffer,b.byteOffset,0),Promise.resolve(da(e,!0));if(0<
a._queueTotalSize){if(!0===Q(a,b))return e=M(b),$(a),Promise.resolve(da(e,!1));if(!0===a._closeRequested)return e=new TypeError("Insufficient bytes to fill elements in the given buffer"),C(a,e),Promise.reject(e)}b.buffer=ja(b.buffer);a._pendingPullIntos.push(b);e=t(e);O(a);return e}function R(a,c){var e=a._pendingPullIntos[0],b=a._controlledReadableStream;if("closed"===b._state){if(0!==c)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");e.buffer=ja(e.buffer);
G(0===e.bytesFilled,"bytesFilled must be 0");e=a._controlledReadableStream;if(!0===k(e))for(;0<e._reader._readIntoRequests.length;)b=P(a),V(e,b)}else{G("readable"===b._state);if(e.bytesFilled+c>e.byteLength)throw new RangeError("bytesWritten out of range");Z(a,c,e);if(!(e.bytesFilled<e.elementSize)){P(a);b=e.bytesFilled%e.elementSize;if(0<b){var f=e.byteOffset+e.bytesFilled,f=e.buffer.slice(f-b,f);T(a,f,0,f.byteLength)}e.buffer=ja(e.buffer);e.bytesFilled-=b;V(a._controlledReadableStream,e);Y(a)}}}
function P(a){var c=a._pendingPullIntos.shift();X(a);return c}function W(a){var c=a._controlledReadableStream;return"readable"!==c._state||!0===a._closeRequested||!1===a._started?!1:!0===p(c)&&0<c._reader._readRequests.length||!0===k(c)&&0<c._reader._readIntoRequests.length||0<S(a)?!0:!1}function C(a,c){var e=a._controlledReadableStream;G("readable"===e._state);X(a);a._pendingPullIntos=[];ha(a);j(e,c)}function S(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-
a._queueTotalSize}function ca(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function aa(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function fa(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ka(a){a._closedPromise=new Promise(function(c,e){a._closedPromise_resolve=c;a._closedPromise_reject=e})}function pa(a,c){a._closedPromise=Promise.reject(c);
a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,c){G(void 0===a._closedPromise_resolve);G(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function la(a){return new TypeError("ReadableStreamBYOBReader.prototype."+
a+" can only be used on a ReadableStreamBYOBReader")}function ma(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ia(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,
void 0,function(){})}catch(c){}}var ga=function(){function a(c,e){for(var b=0;b<e.length;b++){var f=e[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),b=d(0),Ba=b.ArrayBufferCopy,da=b.CreateIterResultObject,Ca=b.IsFiniteNonNegativeNumber,xa=b.InvokeOrNoop,oa=b.PromiseInvokeOrNoop,ja=b.TransferArrayBuffer,Da=b.ValidateAndNormalizeQueuingStrategy,Ea=b.ValidateAndNormalizeHighWaterMark,
b=d(0),ta=b.createArrayFromList,na=b.createDataProperty,ea=b.typeIsObject,b=d(1),G=b.assert,ba=b.rethrowAssertionErrorRejection,b=d(3),Fa=b.DequeueValue,Aa=b.EnqueueValueWithSize,ha=b.ResetQueue,d=d(2),Ga=d.AcquireWritableStreamDefaultWriter,Ha=d.IsWritableStream,Ia=d.IsWritableStreamLocked,Ja=d.WritableStreamAbort,Ka=d.WritableStreamDefaultWriterCloseWithErrorPropagation,La=d.WritableStreamDefaultWriterRelease,Ma=d.WritableStreamDefaultWriterWrite,ua=d.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var c=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.size,e=e.highWaterMark;o(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var f=c.type;if("bytes"===""+f)void 0===e&&(e=0),this._readableStreamController=new Na(this,c,e);else if(void 0===f)void 0===e&&(e=1),this._readableStreamController=new Oa(this,c,b,e);else throw new RangeError("Invalid type is specified");
}ga(a,[{key:"cancel",value:function(a){return!1===r(this)?Promise.reject(ca("cancel")):!0===w(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):f(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===r(this))throw ca("getReader");if(void 0===a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var e=
a.readable,b=this.pipeTo(a.writable,c);za(b);return e}},{key:"pipeTo",value:function(a){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.preventClose,d=e.preventAbort,j=e.preventCancel;if(!1===r(this))return Promise.reject(ca("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));b=Boolean(b);d=Boolean(d);j=Boolean(j);if(!0===w(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var k=new ra(this),y=Ga(a),h=!1,g=Promise.resolve();return new Promise(function(e,p){function n(){g=Promise.resolve();return!0===h?Promise.resolve():y._readyPromise.then(function(){return J(k).then(function(a){var c=a.value;!0!==a.done&&(g=Ma(y,c)["catch"](function(){}))})}).then(n)}function u(){var a=g;return g.then(function(){return a!==g?u():void 0})}function q(a,c,e){if("errored"===
a._state)e(a._storedError);else c["catch"](e)["catch"](ba)}function m(c,e,b){function f(){c().then(function(){return I(e,b)},function(a){return I(!0,a)})["catch"](ba)}!0!==h&&(h=!0,"writable"===a._state&&!1===ua(a)?u().then(f):f())}function t(c,e){if(!0!==h)if(h=!0,"writable"===a._state&&!1===ua(a))u().then(function(){return I(c,e)})["catch"](ba);else I(c,e)}function I(a,c){La(y);E(k);a?p(c):e(void 0)}q(c,k._closedPromise,function(c){!1===d?m(function(){return Ja(a,c)},!0,c):t(!0,c)});q(a,y._closedPromise,
function(a){!1===j?m(function(){return f(c,a)},!0,a):t(!0,a)});(function(a,c,e){if("closed"===a._state)e();else c.then(e)["catch"](ba)})(c,k._closedPromise,function(){!1===b?m(function(){return Ka(y)}):t()});if(!0===ua(a)||"closed"===a._state){var i=new TypeError("the destination writable stream closed before all data could be piped to it");!1===j?m(function(){return f(c,i)},!0,i):t(!0,i)}n()["catch"](function(a){g=Promise.resolve();ba(a)})})}},{key:"tee",value:function(){if(!1===r(this))throw ca("tee");
var a=s(this,!1);return ta(a)}},{key:"locked",get:function(){if(!1===r(this))throw ca("locked");return w(this)}}]);return a}();a.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){G(!0===r(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:z,ReadableStreamDefaultControllerEnqueue:D,ReadableStreamDefaultControllerError:H,ReadableStreamDefaultControllerGetDesiredSize:K};var ra=function(){function a(c){o(this,
a);if(!1===r(c))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===w(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,c);this._readRequests=[]}ga(a,[{key:"cancel",value:function(a){return!1===n(this)?Promise.reject(fa("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):y(this,a)}},{key:"read",value:function(){return!1===n(this)?Promise.reject(fa("read")):
void 0===this._ownerReadableStream?Promise.reject(aa("read from")):J(this)}},{key:"releaseLock",value:function(){if(!1===n(this))throw fa("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}},{key:"closed",get:function(){return!1===n(this)?Promise.reject(fa("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(c){o(this,a);if(!r(c))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===L(c._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(w(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,c);this._readIntoRequests=[]}ga(a,[{key:"cancel",value:function(a){return!u(this)?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):y(this,a)}},{key:"read",value:function(a){if(!u(this))return Promise.reject(la("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(aa("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var c=this._ownerReadableStream;G(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):U(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!u(this))throw la("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}},{key:"closed",get:function(){return!u(this)?Promise.reject(la("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(c,e,b,f){o(this,a);if(!1===r(c))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==c._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=c;this._underlyingSource=e;this._queueTotalSize=this._queue=void 0;ha(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;c=Da(b,f);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;var d=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){d._started=!0;G(!1===d._pulling);G(!1===d._pullAgain);F(d)},function(a){A(d,a)})["catch"](ba)}ga(a,[{key:"close",value:function(){if(!1===I(this))throw ma("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");z(this)}},{key:"enqueue",value:function(a){if(!1===I(this))throw ma("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return D(this,
a)}},{key:"error",value:function(a){if(!1===I(this))throw ma("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");H(this,a)}},{key:"__cancelSteps",value:function(a){ha(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var e=Fa(this);!0===this._closeRequested&&0===this._queue.length?c(a):F(this);return Promise.resolve(da(e,
!1))}a=h(a);F(this);return a}},{key:"desiredSize",get:function(){if(!1===I(this))throw ma("desiredSize");return K(this)}}]);return a}(),Qa=function(){function a(c,e){o(this,a);this._associatedReadableByteStreamController=c;this._view=e}ga(a,[{key:"respond",value:function(a){if(!1===N(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");G(0<c._pendingPullIntos.length);R(c,a)}},{key:"respondWithNewView",value:function(a){if(!1===N(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;G(0<c._pendingPullIntos.length);var e=c._pendingPullIntos[0];
if(e.byteOffset+e.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=a.buffer;R(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(c,e,b){o(this,a);if(!1===r(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=c;this._underlyingByteSource=e;this._pulling=this._pullAgain=!1;X(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ha(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(b);b=e.autoAllocateChunkSize;if(void 0!==b&&(!1===Number.isInteger(b)||0>=b))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=b;this._pendingPullIntos=[];var f=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){f._started=!0;G(!1===f._pulling);G(!1===f._pullAgain);O(f)},function(a){"readable"===c._state&&C(f,a)})["catch"](ba)}ga(a,[{key:"close",value:function(){if(!1===L(this))throw ia("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),C(this,a),a;c(a)}}},{key:"enqueue",value:function(a){if(!1===L(this))throw ia("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");c=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===c._state);var b=a.byteOffset,f=a.byteLength,a=ja(a.buffer);!0===p(c)?0===c._reader._readRequests.length?T(this,a,b,f):(G(0===
this._queue.length),a=new Uint8Array(a,b,f),e(c,a,!1)):!0===k(c)?(T(this,a,b,f),Y(this)):(G(!1===w(c),"stream must not be locked"),T(this,a,b,f))}},{key:"error",value:function(a){if(!1===L(this))throw ia("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");C(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ha(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;G(!0===p(a));if(0<this._queueTotalSize){G(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;$(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(da(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var b=void 0;try{b=new ArrayBuffer(c)}catch(f){return Promise.reject(f)}this._pendingPullIntos.push({buffer:b,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=h(a);O(this);return a}},{key:"byobRequest",get:function(){if(!1===L(this))throw ia("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===L(this))throw ia("desiredSize");
return S(this)}}]);return a}()},function(a,b,d){var a=d(6),o=d(4),d=d(2);b.TransformStream=a.TransformStream;b.ReadableStream=o.ReadableStream;b.IsReadableStreamDisturbed=o.IsReadableStreamDisturbed;b.ReadableStreamDefaultControllerClose=o.ReadableStreamDefaultControllerClose;b.ReadableStreamDefaultControllerEnqueue=o.ReadableStreamDefaultControllerEnqueue;b.ReadableStreamDefaultControllerError=o.ReadableStreamDefaultControllerError;b.ReadableStreamDefaultControllerGetDesiredSize=o.ReadableStreamDefaultControllerGetDesiredSize;
b.AcquireWritableStreamDefaultWriter=d.AcquireWritableStreamDefaultWriter;b.IsWritableStream=d.IsWritableStream;b.IsWritableStreamLocked=d.IsWritableStreamLocked;b.WritableStream=d.WritableStream;b.WritableStreamAbort=d.WritableStreamAbort;b.WritableStreamDefaultControllerError=d.WritableStreamDefaultControllerError;b.WritableStreamDefaultWriterCloseWithErrorPropagation=d.WritableStreamDefaultWriterCloseWithErrorPropagation;b.WritableStreamDefaultWriterRelease=d.WritableStreamDefaultWriterRelease;
b.WritableStreamDefaultWriterWrite=d.WritableStreamDefaultWriterWrite},function(a,b,d){function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function r(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var e=a._readableController;try{I(e,c)}catch(b){throw a._readableClosed=!0,s(a,b),a._storedError;}!0===0>=B(e)&&!1===a._backpressure&&v(a,!0)}function w(a){p(!1===
a._errored);p(!1===a._readableClosed);try{J(a._readableController)}catch(c){p(!1)}a._readableClosed=!0}function s(a,c){!1===a._errored&&m(a,c)}function m(a,c){p(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&D(a._writableController,c);!1===a._readableClosed&&F(a._readableController,c)}function x(a){p(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();p(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function v(a,c){p(a._backpressure!==c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){p(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function t(a,
c){r(c._controlledTransformStream,a);return Promise.resolve()}function h(a,c){p(!1===a._errored);p(!1===a._transforming);p(!1===a._backpressure);a._transforming=!0;var e=a._transformStreamController;return n(a._transformer,"transform",[c,e],t,[c,e]).then(function(){a._transforming=!1;return x(a)},function(c){s(a,c);return Promise.reject(c)})}function f(a){return!y(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function c(a){return!y(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function j(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function e(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var k=function(){function a(c,e){for(var b=0;b<e.length;b++){var f=e[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,e,b){e&&a(c.prototype,
e);b&&a(c,b);return c}}(),p=d(1).assert,b=d(0),u=b.InvokeOrNoop,n=b.PromiseInvokeOrPerformFallback,q=b.PromiseInvokeOrNoop,y=b.typeIsObject,b=d(4),E=b.ReadableStream,J=b.ReadableStreamDefaultControllerClose,I=b.ReadableStreamDefaultControllerEnqueue,F=b.ReadableStreamDefaultControllerError,B=b.ReadableStreamDefaultControllerGetDesiredSize,d=d(2),z=d.WritableStream,D=d.WritableStreamDefaultControllerError,H=function(){function a(c,e){o(this,a);this._transformStream=c;this._startPromise=e}k(a,[{key:"start",
value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return x(c)})}},{key:"write",value:function(a){return h(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;m(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;p(!1===a._transforming);a._writableDone=!0;return q(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&w(a);return Promise.resolve()})["catch"](function(c){s(a,c);return Promise.reject(a._storedError)})}}]);return a}(),A=function(){function a(c,e){o(this,a);this._transformStream=c;this._startPromise=e}k(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){p(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");
if(!0===c._backpressure)return Promise.resolve();p(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;p(!0===a._backpressure,"pull() should be never called while _backpressure is false");p(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");v(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;
a._readableClosed=!0;m(a,new TypeError("Readable side canceled"))}}]);return a}(),K=function(){function a(e){o(this,a);if(!1===c(e))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==e._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=e}k(a,[{key:"enqueue",value:function(a){if(!1===f(this))throw j("enqueue");
r(this._controlledTransformStream,a)}},{key:"close",value:function(){if(!1===f(this))throw j("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");w(a)}},{key:"error",value:function(a){if(!1===f(this))throw j("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");m(c,a)}},{key:"desiredSize",
get:function(){if(!1===f(this))throw j("desiredSize");return B(this._controlledTransformStream._readableController)}}]);return a}(),d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,a);this._transformer=c;var e=c.readableStrategy,b=c.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new K(this);var f=void 0,d=new Promise(function(a){f=a}),j=new A(this,d);this._readable=new E(j,e);e=new H(this,d);this._writable=new z(e,b);p(void 0!==this._writableController);p(void 0!==this._readableController);b=B(this._readableController);v(this,0>=b);var k=this,c=u(c,"start",[k._transformStreamController]);f(c);d["catch"](function(a){!1===k._errored&&(k._errored=!0,k._storedError=a)})}k(a,[{key:"readable",
get:function(){if(!1===c(this))throw e("readable");return this._readable}},{key:"writable",get:function(){if(!1===c(this))throw e("writable");return this._writable}}]);return a}();a.exports={TransformStream:d}},function(a,b,d){a.exports=d(5)}]))},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}d=!1;
try{if("function"===typeof URL&&"object"===i(URL.prototype)&&"origin"in URL.prototype){var l=new URL("b","http://a");l.pathname="c%20d";d="http://a/c%20d"===l.href}}catch(g){}if(d)b.URL=URL;else{var l=a(146).URL,o=a(3).URL;o&&(l.createObjectURL=function(a){return o.createObjectURL.apply(o,arguments)},l.revokeObjectURL=function(a){o.revokeObjectURL(a)});b.URL=l}},function(d,b){(function(){function a(a){""===a&&(o.call(this),this._isInvalid=!0);return a.toLowerCase()}function d(a){var b=a.charCodeAt(0);
return 32<b&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function l(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function g(b,h,f){function c(a){n.push(a)}var j=h||"scheme start",e=0,k="",g=!1,u=!1,n=[];a:for(;(b[e-1]!==m||0===e)&&!this._isInvalid;){var q=b[e];switch(j){case "scheme start":if(q&&x.test(q))k+=q.toLowerCase(),j="scheme";else if(h){c("Invalid scheme.");break a}else{k="";j="no scheme";continue}break;case "scheme":if(q&&
v.test(q))k+=q.toLowerCase();else if(":"===q){this._scheme=k;k="";if(h)break a;void 0!==w[this._scheme]&&(this._isRelative=!0);j="file"===this._scheme?"relative":this._isRelative&&f&&f._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(h){q!==m&&c("Code point not allowed in scheme: "+q);break a}else{k="";e=0;j="no scheme";continue}break;case "scheme data":"?"===q?(this._query="?",j="query"):"#"===q?(this._fragment="#",j="fragment"):q!==m&&
("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._schemeData+=d(q));break;case "no scheme":if(!f||void 0===w[f._scheme])c("Missing scheme."),o.call(this),this._isInvalid=!0;else{j="relative";continue}break;case "relative or authority":if("/"===q&&"/"===b[e+1])j="authority ignore slashes";else{c("Expected /, got: "+q);j="relative";continue}break;case "relative":this._isRelative=!0;"file"!==this._scheme&&(this._scheme=f._scheme);if(q===m){this._host=f._host;this._port=f._port;this._path=f._path.slice();this._query=
f._query;this._username=f._username;this._password=f._password;break a}else if("/"===q||"\\"===q)"\\"===q&&c("\\ is an invalid code point."),j="relative slash";else if("?"===q)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query="?",this._username=f._username,this._password=f._password,j="query";else if("#"===q)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=f._query,this._fragment="#",this._username=f._username,this._password=f._password,j="fragment";
else{var j=b[e+1],y=b[e+2];if("file"!==this._scheme||!x.test(q)||":"!==j&&"|"!==j||y!==m&&"/"!==y&&"\\"!==y&&"?"!==y&&"#"!==y)this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password,this._path=f._path.slice(),this._path.pop();j="relative path";continue}break;case "relative slash":if("/"===q||"\\"===q)"\\"===q&&c("\\ is an invalid code point."),j="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=f._host,this._port=
f._port,this._username=f._username,this._password=f._password);j="relative path";continue}break;case "authority first slash":if("/"===q)j="authority second slash";else{c("Expected '/', got: "+q);j="authority ignore slashes";continue}break;case "authority second slash":j="authority ignore slashes";if("/"!==q){c("Expected '/', got: "+q);continue}break;case "authority ignore slashes":if("/"!==q&&"\\"!==q){j="authority";continue}else c("Expected authority, got: "+q);break;case "authority":if("@"===q){g&&
(c("@ already seen."),k+="%40");g=!0;for(q=0;q<k.length;q++)y=k[q],"\t"===y||"\n"===y||"\r"===y?c("Invalid whitespace in authority."):":"===y&&null===this._password?this._password="":(y=d(y),null!==this._password?this._password+=y:this._username+=y);k=""}else if(q===m||"/"===q||"\\"===q||"?"===q||"#"===q){e-=k.length;k="";j="host";continue}else k+=q;break;case "file host":if(q===m||"/"===q||"\\"===q||"?"===q||"#"===q){2===k.length&&x.test(k[0])&&(":"===k[1]||"|"===k[1])?j="relative path":(0!==k.length&&
(this._host=a.call(this,k),k=""),j="relative path start");continue}else"\t"===q||"\n"===q||"\r"===q?c("Invalid whitespace in file host."):k+=q;break;case "host":case "hostname":if(":"===q&&!u){if(this._host=a.call(this,k),k="",j="port","hostname"===h)break a}else if(q===m||"/"===q||"\\"===q||"?"===q||"#"===q){this._host=a.call(this,k);k="";j="relative path start";if(h)break a;continue}else"\t"!==q&&"\n"!==q&&"\r"!==q?("["===q?u=!0:"]"===q&&(u=!1),k+=q):c("Invalid code point in host/hostname: "+q);
break;case "port":if(/[0-9]/.test(q))k+=q;else if(q===m||"/"===q||"\\"===q||"?"===q||"#"===q||h){""!==k&&(k=parseInt(k,10),k!==w[this._scheme]&&(this._port=k+""),k="");if(h)break a;j="relative path start";continue}else"\t"===q||"\n"===q||"\r"===q?c("Invalid code point in port: "+q):(o.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===q&&c("'\\' not allowed in path.");j="relative path";if("/"!==q&&"\\"!==q)continue;break;case "relative path":if(q===m||"/"===q||"\\"===q||!h&&("?"===
q||"#"===q)){"\\"===q&&c("\\ not allowed in relative path.");if(y=s[k.toLowerCase()])k=y;".."===k?(this._path.pop(),"/"!==q&&"\\"!==q&&this._path.push("")):"."===k&&"/"!==q&&"\\"!==q?this._path.push(""):"."!==k&&("file"===this._scheme&&(0===this._path.length&&2===k.length&&x.test(k[0])&&"|"===k[1])&&(k=k[0]+":"),this._path.push(k));k="";"?"===q?(this._query="?",j="query"):"#"===q&&(this._fragment="#",j="fragment")}else"\t"!==q&&("\n"!==q&&"\r"!==q)&&(k+=d(q));break;case "query":!h&&"#"===q?(this._fragment=
"#",j="fragment"):q!==m&&("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._query+=l(q));break;case "fragment":q!==m&&("\t"!==q&&"\n"!==q&&"\r"!==q)&&(this._fragment+=q)}e++}}function o(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function r(a,b){void 0!==b&&!(b instanceof r)&&(b=new r(""+b));this._url=a;o.call(this);var f=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,f,
null,b)}var w=Object.create(null);w.ftp=21;w.file=0;w.gopher=70;w.http=80;w.https=443;w.ws=80;w.wss=443;var s=Object.create(null);s["%2e"]=".";s[".%2e"]="..";s["%2e."]="..";s["%2e%2e"]="..";var m,x=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;r.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:
"")+this.pathname+this._query+this._fragment},set href(a){o.call(this);g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&
this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||
"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new r(this._schemeData)).origin||"null"}catch(b){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};b.URL=r})()},function(d,b,a){function i(a){return a&&a.__esModule?a:{"default":a}}
function l(a,c,e,b,f,d,j){try{var k=a[d](j),y=k.value}catch(h){e(h);return}k.done?c(y):Promise.resolve(y).then(b,f)}function g(a){return function(){var c=this,e=arguments;return new Promise(function(b,f){function d(a){l(k,b,f,d,j,"next",a)}function j(a){l(k,b,f,d,j,"throw",a)}var k=a.apply(c,e);d(void 0)})}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function r(a,c){var e=[],b=!0,f=!1,d=void 0;try{for(var j=a[Symbol.iterator](),k;!(b=(k=j.next()).done)&&
!(e.push(k.value),c&&e.length===c);b=!0);}catch(y){f=!0,d=y}finally{try{if(!b&&null!=j["return"])j["return"]()}finally{if(f)throw d;}}return e}function w(a){if(Array.isArray(a))return a}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function m(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function x(a){if(Array.isArray(a)){for(var c=0,e=Array(a.length);c<a.length;c++)e[c]=a[c];return e}}function v(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function t(a,c){for(var e=0;e<c.length;e++){var b=c[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}function h(a,c,e){c&&t(a.prototype,c);e&&t(a,e);return a}function f(a){f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return f(a)}function c(a,c,e,b){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));e&&(c.length=e.length,c.initialData=e.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:b,apiVersion:"2.2.113",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,disableCreateObjectURL:c.disableCreateObjectURL,
postMessageTransfers:a.postMessageTransfers,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported}).then(function(c){if(a.destroyed)throw Error("Worker was destroyed");return c})}Object.defineProperty(b,"__esModule",{value:!0});b.getDocument=function(a){var b=new K;if("string"===typeof a)a={url:a};else if((0,e.isArrayBuffer)(a))a={data:a};else if(a instanceof L)a={range:a};else{if("object"!==f(a))throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var d=Object.create(null),j=null,h=null,g;for(g in a)if("url"===g&&"undefined"!==typeof window)d[g]=(new e.URL(a[g],window.location)).href;else if("range"===g)j=a[g];else if("worker"===g)h=a[g];else if("data"===g&&!(a[g]instanceof Uint8Array)){var p=a[g];if("string"===typeof p)d[g]=(0,e.stringToBytes)(p);else if("object"===f(p)&&null!==p&&!isNaN(p.length))d[g]=new Uint8Array(p);else if((0,e.isArrayBuffer)(p))d[g]=
new Uint8Array(p);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else d[g]=a[g];d.rangeChunkSize=d.rangeChunkSize||B;d.CMapReaderFactory=d.CMapReaderFactory||k.DOMCMapReaderFactory;d.ignoreErrors=!0!==d.stopAtErrors;d.pdfBug=!0===d.pdfBug;g=Object.values(e.NativeImageDecoding);if(void 0===d.nativeImageDecoderSupport||!g.includes(d.nativeImageDecoderSupport))d.nativeImageDecoderSupport=u.apiCompatibilityParams.nativeImageDecoderSupport||
e.NativeImageDecoding.DECODE;Number.isInteger(d.maxImageSize)||(d.maxImageSize=-1);"boolean"!==typeof d.isEvalSupported&&(d.isEvalSupported=!0);"boolean"!==typeof d.disableFontFace&&(d.disableFontFace=u.apiCompatibilityParams.disableFontFace||!1);"boolean"!==typeof d.disableRange&&(d.disableRange=!1);"boolean"!==typeof d.disableStream&&(d.disableStream=!1);"boolean"!==typeof d.disableAutoFetch&&(d.disableAutoFetch=!1);"boolean"!==typeof d.disableCreateObjectURL&&(d.disableCreateObjectURL=u.apiCompatibilityParams.disableCreateObjectURL||
!1);(0,e.setVerbosityLevel)(d.verbosity);h||(g={postMessageTransfers:d.postMessageTransfers,verbosity:d.verbosity,port:y.GlobalWorkerOptions.workerPort},h=g.port?M.fromPort(g):new M(g),b._worker=h);var n=b.docId;h.promise.then(function(){if(b.destroyed)throw Error("Loading aborted");return c(h,d,j,n).then(function(a){if(b.destroyed)throw Error("Loading aborted");var c;j?c=new I.PDFDataTransportStream({length:d.length,initialData:d.initialData,disableRange:d.disableRange,disableStream:d.disableStream},
j):d.data||(c=A({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream}));a=new E.MessageHandler(n,a,h.port);a.postMessageTransfers=h.postMessageTransfers;c=new T(a,b,c,d);b._transport=c;a.send("Ready",null)})})["catch"](b._capability.reject);return b};b.setPDFNetworkStreamFactory=function(a){A=a};b.build=b.version=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=
b.LoopbackPort=void 0;var j=i(a(148)),e=a(1),k=a(151),p=a(152),u=a(153),n=a(154),q=i(a(3)),y=a(156),E=a(157),J=a(158),I=a(160),F=a(161),B=65536,z=!1,D,H=null,d=!1;"undefined"===typeof window?(z=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),d=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(d=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(D=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));a="undefined"!==typeof requirejs&&requirejs.load;
H=d?function(){return new Promise(function(a,c){require.ensure([],function(){try{var e;e=require("./pdf.worker.js");a(e.WorkerMessageHandler)}catch(b){c(b)}},c,"pdfjsWorker")})}:a?function(){return new Promise(function(a,c){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){try{a(e.WorkerMessageHandler)}catch(b){c(b)}},c)})}:null;if(!D&&"object"===("undefined"===typeof document?"undefined":f(document))&&"currentScript"in document)(d=document.currentScript&&document.currentScript.src)&&(D=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,
".worker$1$2"));var A,K=function(){var a=0;return function(){function c(){v(this,c);this._capability=(0,e.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}h(c,[{key:"destroy",value:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();a._worker=null}})}},{key:"then",
value:function(a,c){(0,k.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]);return c}()}(),L=function(){function a(c,b){v(this,a);this.length=c;this.initialData=b;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,e.createPromiseCapability)()}h(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},
{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"onDataRange",value:function(a,c){var e=true,b=false,f=void 0;try{for(var d=this._rangeListeners[Symbol.iterator](),j;!(e=(j=d.next()).done);e=true){var k=j.value;k(a,c)}}catch(y){b=true;f=y}finally{try{if(!e&&d["return"]!=null)d["return"]()}finally{if(b)throw f;}}}},{key:"onDataProgress",value:function(a){var c=this;this._readyCapability.promise.then(function(){var e=
true,b=false,f=void 0;try{for(var d=c._progressListeners[Symbol.iterator](),j;!(e=(j=d.next()).done);e=true){var k=j.value;k(a)}}catch(y){b=true;f=y}finally{try{if(!e&&d["return"]!=null)d["return"]()}finally{if(b)throw f;}}})}},{key:"onDataProgressiveRead",value:function(a){var c=this;this._readyCapability.promise.then(function(){var e=true,b=false,f=void 0;try{for(var d=c._progressiveReadListeners[Symbol.iterator](),j;!(e=(j=d.next()).done);e=true){var k=j.value;k(a)}}catch(y){b=true;f=y}finally{try{if(!e&&
d["return"]!=null)d["return"]()}finally{if(b)throw f;}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,e.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]);return a}();b.PDFDataRangeTransport=L;var N=function(){function a(c,e){v(this,a);this._pdfInfo=c;this._transport=e}h(a,[{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},
{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},
{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},
{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]);return a}();b.PDFDocumentProxy=N;var O=function(){function a(c,e,b){var f=arguments.length>
3&&arguments[3]!==void 0?arguments[3]:false;v(this,a);this.pageIndex=c;this._pageInfo=e;this._transport=b;this._stats=f?new k.StatTimer:k.DummyStatTimer;this._pdfBug=f;this.commonObjs=b.commonObjs;this.objs=new Q;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}h(a,[{key:"getViewport",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.scale,e=a.rotation,e=e===void 0?this.rotate:e,a=a.dontFlip,a=a===void 0?
false:a;if(arguments.length>1||typeof arguments[0]==="number"){(0,k.deprecated)("getViewport is called with obsolete arguments.");c=arguments[0];e=typeof arguments[1]==="number"?arguments[1]:this.rotate;a=typeof arguments[2]==="boolean"?arguments[2]:false}return new k.PageViewport({viewBox:this.view,scale:c,rotation:e,dontFlip:a})}},{key:"getAnnotations",value:function(){var a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).intent,a=a===void 0?null:a;if(!this.annotationsPromise||this.annotationsIntent!==
a){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise}},{key:"render",value:function(a){var c=this,b=a.canvasContext,f=a.viewport,d=a.intent,j=d===void 0?"display":d,d=a.enableWebGL,d=d===void 0?false:d,y=a.renderInteractiveForms,y=y===void 0?false:y,h=a.transform,h=h===void 0?null:h,g=a.imageLayer,g=g===void 0?null:g,p=a.canvasFactory,p=p===void 0?null:p,a=a.background,a=a===void 0?null:a,n=this._stats;n.time("Overall");
this.pendingCleanup=false;j=j==="print"?"print":"display";p=p||new k.DOMCanvasFactory;d=new F.WebGLContext({enable:d});this.intentStates[j]||(this.intentStates[j]=Object.create(null));var u=this.intentStates[j];if(!u.displayReadyCapability){u.receivingOperatorList=true;u.displayReadyCapability=(0,e.createPromiseCapability)();u.operatorList={fnArray:[],argsArray:[],lastChunk:false};n.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:j,
renderInteractiveForms:y===true})}var E=function(a){var e=u.renderTasks.indexOf(q);e>=0&&u.renderTasks.splice(e,1);if(c.cleanupAfterRender)c.pendingCleanup=true;c._tryCleanup();a?q.capability.reject(a):q.capability.resolve();n.timeEnd("Rendering");n.timeEnd("Overall")},q=new $({callback:E,params:{canvasContext:b,viewport:f,transform:h,imageLayer:g,background:a},objs:this.objs,commonObjs:this.commonObjs,operatorList:u.operatorList,pageNumber:this.pageNumber,canvasFactory:p,webGLContext:d,useRequestAnimationFrame:j!==
"print",pdfBug:this._pdfBug});if(!u.renderTasks)u.renderTasks=[];u.renderTasks.push(q);b=q.task;u.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)E();else{n.time("Rendering");q.initializeGraphics(a);q.operatorListChanged()}})["catch"](E);return b}},{key:"getOperatorList",value:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var e=c.renderTasks.indexOf(b);e>=0&&c.renderTasks.splice(e,1)}}this.intentStates.oplist||(this.intentStates.oplist=
Object.create(null));var c=this.intentStates.oplist,b;if(!c.opListReadCapability){b={};b.operatorListChanged=a;c.receivingOperatorList=true;c.opListReadCapability=(0,e.createPromiseCapability)();c.renderTasks=[];c.renderTasks.push(b);c.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return c.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.normalizeWhitespace,a=a.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:(c===void 0?false:c)===true,combineTextItems:(a===void 0?false:a)!==true},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=this.streamTextContent(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{});return new Promise(function(c,
e){function b(){f.read().then(function(a){var e,f=a.value;if(a.done)c(d);else{Object.assign(d.styles,f.styles);(e=d.items).push.apply(e,x(f.items)||m(f.items)||s());b()}},e)}var f=a.getReader(),d={items:[],styles:Object.create(null)};b()})}},{key:"_destroy",value:function(){this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(c){c!=="oplist"&&this.intentStates[c].renderTasks.forEach(function(c){var e=c.capability.promise["catch"](function(){});
a.push(e);c.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)}},{key:"cleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==
0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;if(a&&this._stats instanceof k.StatTimer)this._stats=new k.StatTimer;this.pendingCleanup=false}}},{key:"_startRenderPage",value:function(a,c){var e=this.intentStates[c];e.displayReadyCapability&&e.displayReadyCapability.resolve(a)}},{key:"_renderPageChunk",value:function(a,c){for(var e=this.intentStates[c],b=0,f=a.length;b<f;b++){e.operatorList.fnArray.push(a.fnArray[b]);
e.operatorList.argsArray.push(a.argsArray[b])}e.operatorList.lastChunk=a.lastChunk;for(b=0;b<e.renderTasks.length;b++)e.renderTasks[b].operatorListChanged();if(a.lastChunk){e.receivingOperatorList=false;this._tryCleanup()}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},
{key:"stats",get:function(){return this._stats instanceof k.StatTimer?this._stats:null}}]);return a}();b.PDFPageProxy=O;var V=function(){function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;v(this,a);this._listeners=[];this._defer=c;this._deferred=Promise.resolve(void 0)}h(a,[{key:"postMessage",value:function(a,c){function b(a){if(f(a)!=="object"||a===null)return a;if(j.has(a))return j.get(a);var d;if((d=a.buffer)&&(0,e.isArrayBuffer)(d)){var k=c&&c.includes(d);d=a===d?a:
k?new a.constructor(d,a.byteOffset,a.byteLength):new a.constructor(a);j.set(a,d);return d}d=Array.isArray(a)?[]:{};j.set(a,d);for(k in a){for(var y=void 0,h=a;!(y=Object.getOwnPropertyDescriptor(h,k));)h=Object.getPrototypeOf(h);typeof y.value==="undefined"||typeof y.value==="function"||(d[k]=b(y.value))}return d}var d=this;if(this._defer){var j=new WeakMap,k={data:b(a)};this._deferred.then(function(){d._listeners.forEach(function(a){a.call(this,k)},d)})}else this._listeners.forEach(function(c){c.call(this,
{data:a})},this)}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},{key:"removeEventListener",value:function(a,c){this._listeners.splice(this._listeners.indexOf(c),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}();b.LoopbackPort=V;var M=function(){function a(){if(y.GlobalWorkerOptions.workerSrc)return y.GlobalWorkerOptions.workerSrc;if(typeof D!=="undefined")return D;throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function c(){try{if(typeof window!==
"undefined")return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(a){}return null}function b(){if(g)return g.promise;g=(0,e.createPromiseCapability)();var f=c();if(f){g.resolve(f);return g.promise}(H||function(){return(0,k.loadScript)(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(g.resolve,g.reject);return g.promise}function f(a){return e.URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}var d=new WeakMap,j=0,g;return function(){function k(){var a=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.name,c=c===void 0?null:c,b=a.port,b=b===void 0?null:b,f=a.postMessageTransfers,f=f===void 0?true:f,a=a.verbosity,a=a===void 0?(0,e.getVerbosityLevel)():a;v(this,k);if(b&&d.has(b))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=f!==false;this.verbosity=a;this._readyCapability=(0,e.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(b){d.set(b,
this);this._initializeFromPort(b)}else this._initialize()}h(k,[{key:"_initializeFromPort",value:function(a){this._port=a;this._messageHandler=new E.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function(){var b=this;if(typeof Worker!=="undefined"&&!z&&!c()){var d=a();try{if(!(0,e.isSameOrigin)(window.location.href,d))d=f((new e.URL(d,window.location)).href);var j=new Worker(d),k=new E.MessageHandler("main",
"worker",j),y=function(){j.removeEventListener("error",h);k.destroy();j.terminate();b.destroyed?b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},h=function(){b._webWorker||y()};j.addEventListener("error",h);k.on("test",function(a){j.removeEventListener("error",h);if(b.destroyed)y();else if(a&&a.supportTypedArray){b._messageHandler=k;b._port=j;b._webWorker=j;if(!a.supportTransfers)b.postMessageTransfers=false;b._readyCapability.resolve();k.send("configure",{verbosity:b.verbosity})}else{b._setupFakeWorker();
k.destroy();j.terminate()}});k.on("ready",function(){j.removeEventListener("error",h);if(b.destroyed)y();else try{g()}catch(a){b._setupFakeWorker()}});var g=function(){var a=new Uint8Array([b.postMessageTransfers?255:0]);try{k.send("test",a,[a.buffer])}catch(c){(0,e.info)("Cannot use postMessage transfers");a[0]=0;k.send("test",a)}};g();return}catch(p){(0,e.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;if(!z){(0,e.warn)("Setting up fake worker.");
z=true}b().then(function(c){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var e=new V;a._port=e;var b="fake"+j++,f=new E.MessageHandler(b+"_worker",b,e);c.setup(f,e);c=new E.MessageHandler(b,b+"_worker",e);a._messageHandler=c;a._readyCapability.resolve()}})["catch"](function(c){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(c.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();
this._webWorker=null}d["delete"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");return d.has(a.port)?d.get(a.port):new k(a)}},{key:"getWorkerSrc",
value:function(){return a()}}]);return k}()}();b.PDFWorker=M;var T=function(){function a(c,b,f,d){v(this,a);this.messageHandler=c;this.loadingTask=b;this.commonObjs=new Q;this.fontLoader=new p.FontLoader({docId:b.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)});this._params=d;this.CMapReaderFactory=new d.CMapReaderFactory({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=f;this._lastProgress=
this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,e.createPromiseCapability)();this.setupMessageHandler()}h(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,e.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())});
this.pageCache=[];this.pagePromises=[];var b=this.messageHandler.sendWithPromise("Terminate",null);c.push(b);Promise.all(c).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this.messageHandler,c=this.loadingTask;a.on("GetReader",function(a,
c){var b=this;(0,e.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){b._lastProgress={loaded:a.loaded,total:a.total}};c.onPull=function(){b._fullReader.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,e.assert)((0,e.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}})["catch"](function(a){c.error(a)})};c.onCancel=function(a){b._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",function(){var a=this,b=
(0,e.createPromiseCapability)(),f=this._fullReader;f.headersReady.then(function(){if(!f.isStreamingSupported||!f.isRangeSupported){if(a._lastProgress&&c.onProgress)c.onProgress(a._lastProgress);f.onProgress=function(a){if(c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})}}b.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},b.reject);return b.promise},this);a.on("GetRangeReader",function(a,c){(0,e.assert)(this._networkStream);
var b=this._networkStream.getRangeReader(a.begin,a.end);c.onPull=function(){b.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,e.assert)((0,e.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}})["catch"](function(a){c.error(a)})};c.onCancel=function(a){b.cancel(a)}},this);a.on("GetDoc",function(a){a=a.pdfInfo;this._numPages=a.numPages;c._capability.resolve(new N(a,this))},this);a.on("PasswordRequest",function(a){var b=this;this._passwordCapability=(0,e.createPromiseCapability)();
if(c.onPassword){var f=function(a){b._passwordCapability.resolve({password:a})};try{c.onPassword(f,a.code)}catch(d){this._passwordCapability.reject(d)}}else this._passwordCapability.reject(new e.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){c._capability.reject(new e.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){c._capability.reject(new e.InvalidPDFException(a.message))},this);a.on("MissingPDF",
function(a){c._capability.reject(new e.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",function(a){c._capability.reject(new e.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){c._capability.reject(new e.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){if(c.onProgress)c.onProgress({loaded:a.length,total:a.length});this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var c=
this.pageCache[a.pageIndex];c._stats.timeEnd("Page Request");c._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(c){var b=this;if(!this.destroyed){var c=w(c)||r(c,3)||o(),f=c[0],d=c[1],c=c[2];if(!this.commonObjs.has(f))switch(d){case "Font":d=this._params;if("error"in c){c=c.error;(0,e.warn)("Error during font loading: ".concat(c));this.commonObjs.resolve(f,
c);break}var j=null;d.pdfBug&&(q["default"].FontInspector&&q["default"].FontInspector.enabled)&&(j={registerFont:function(a,c){q["default"].FontInspector.fontAdded(a,c)}});var k=new p.FontFaceObject(c,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:j});this.fontLoader.bind(k).then(function(){b.commonObjs.resolve(f,k)},function(){a.sendWithPromise("FontFallback",{id:f})["finally"](function(){b.commonObjs.resolve(f,
k)})});break;case "FontPath":this.commonObjs.resolve(f,c);break;default:throw Error("Got unknown common object type ".concat(d));}}},this);a.on("obj",function(a){if(!this.destroyed){var a=w(a)||r(a,4)||o(),c=a[0],e=a[2],b=a[3],f=this.pageCache[a[1]];if(!f.objs.has(c))switch(e){case "JpegStream":return(new Promise(function(a,c){var e=new Image;e.onload=function(){a(e)};e.onerror=function(){c(Error("Error during JPEG image loading"));(0,k.releaseImageResources)(e)};e.src=b})).then(function(a){f.objs.resolve(c,
a)});case "Image":f.objs.resolve(c,b);if(b&&"data"in b&&b.data.length>8E6)f.cleanupAfterRender=true;break;default:throw Error("Got unknown object type ".concat(e));}}},this);a.on("DocProgress",function(a){if(!this.destroyed&&c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){if(!this.destroyed){var c=this.pageCache[a.pageIndex].intentStates[a.intent];if(c.displayReadyCapability)c.displayReadyCapability.reject(Error(a.error));else throw Error(a.error);if(c.operatorList){c.operatorList.lastChunk=
true;for(a=0;a<c.renderTasks.length;a++)c.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",this._onUnsupportedFeature,this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var a=w(a)||r(a,2)||o(),c=a[0],e=a[1];return e!==3&&e!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,b){var f=
new Image;f.onload=function(){var c=f.width,b=f.height,d=c*b,j=d*4,d=new Uint8ClampedArray(d*e),y=document.createElement("canvas");y.width=c;y.height=b;var h=y.getContext("2d");h.drawImage(f,0,0);h=h.getImageData(0,0,c,b).data;if(e===3)for(var g=0,p=0;g<j;g=g+4,p=p+3){d[p]=h[g];d[p+1]=h[g+1];d[p+2]=h[g+2]}else if(e===1)for(p=g=0;g<j;g=g+4,p++)d[p]=h[g];a({data:d,width:c,height:b});(0,k.releaseImageResources)(f);y.width=0;y.height=0};f.onerror=function(){b(Error("JpegDecode failed to load image"));
(0,k.releaseImageResources)(f)};f.src=c})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var c=this;
if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request"));var e=a-1;if(e in this.pagePromises)return this.pagePromises[e];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(function(a){if(c.destroyed)throw Error("Transport destroyed");a=new O(e,a,c,c._params.pdfBug);return c.pageCache[e]=a});return this.pagePromises[e]=a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})["catch"](function(a){return Promise.reject(Error(a))})}},
{key:"getAnnotations",value:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return typeof a!=="string"?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",
null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("getOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",
null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(c){return{info:c[0],metadata:c[1]?new J.Metadata(c[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=
this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var c=0,e=a.pageCache.length;c<e;c++){var b=a.pageCache[c];b&&b.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,e.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),Q=function(){function a(){v(this,
a);this._objs=Object.create(null)}h(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,e.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(c){this._ensureObj(a).capability.promise.then(c);return null}c=this._objs[a];if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return c.data}},{key:"has",value:function(a){return(a=
this._objs[a])?a.resolved:false}},{key:"resolve",value:function(a,c){var e=this._ensureObj(a);e.resolved=true;e.data=c;e.capability.resolve(c)}},{key:"clear",value:function(){for(var a in this._objs){var c=this._objs[a].data;typeof Image!=="undefined"&&c instanceof Image&&(0,k.releaseImageResources)(c)}this._objs=Object.create(null)}}]);return a}(),Z=function(){function a(c){v(this,a);this._internalRenderTask=c;this.onContinue=null}h(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},
{key:"then",value:function(a,c){(0,k.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]);return a}(),$=function(){var a=new WeakSet;return function(){function c(a){var b=a.callback,f=a.params,d=a.objs,j=a.commonObjs,k=a.operatorList,y=a.pageNumber,h=a.canvasFactory,g=a.webGLContext,p=a.useRequestAnimationFrame,p=p===void 0?false:p,a=a.pdfBug,
a=a===void 0?false:a;v(this,c);this.callback=b;this.params=f;this.objs=d;this.commonObjs=j;this.operatorListIdx=null;this.operatorList=k;this.pageNumber=y;this.canvasFactory=h;this.webGLContext=g;this._pdfBug=a;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=p===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,e.createPromiseCapability)();this.task=new Z(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=
this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=f.canvasContext.canvas}h(c,[{key:"initializeGraphics",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.add(this._canvas)}if(this._pdfBug&&q["default"].StepperManager&&
q["default"].StepperManager.enabled){this.stepper=q["default"].StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var e=this.params,b=e.viewport,f=e.transform,d=e.background;this.gfx=new n.CanvasGraphics(e.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,e.imageLayer);this.gfx.beginDrawing({transform:f,viewport:b,transparency:c,background:d});this.operatorListIdx=0;this.graphicsReady=
true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=false;this.cancelled=true;this.gfx&&this.gfx.endDrawing();if(this._canvas)a["delete"](this._canvas);this.callback(c||new k.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);
this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound}},{key:"_continue",value:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()}},{key:"_scheduleNext",value:function(){var a=this;if(this._useRequestAnimationFrame)window.requestAnimationFrame(function(){a._nextBound()["catch"](a.cancel.bind(a))});else Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},
{key:"_next",value:function(){var c=g(j["default"].mark(function P(){return j["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.cancelled){c.next=2;break}return c.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas)a["delete"](this._canvas);
this.callback()}}case 4:case "end":return c.stop()}},P,this)}));return function(){return c.apply(this,arguments)}}()}]);return c}()}();b.version="2.2.113";b.build="5498b191"},function(d,b,a){d.exports=a(149)},function(d,b,a){(function(a){function b(a){b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return b(a)}a=function(a){function d(a,c,b,
f){c=Object.create((c&&c.prototype instanceof i?c:i).prototype);f=new e(f||[]);c._invoke=h(a,b,f);return c}function g(a,c,e){try{return{type:"normal",arg:a.call(c,e)}}catch(b){return{type:"throw",arg:b}}}function i(){}function m(){}function x(){}function v(a){["next","throw","return"].forEach(function(c){a[c]=function(a){return this._invoke(c,a)}})}function t(a){function c(e,f,d,j){e=g(a[e],a,f);if("throw"===e.type)j(e.arg);else{var k=e.arg;return(e=k.value)&&"object"===b(e)&&n.call(e,"__await")?
Promise.resolve(e.__await).then(function(a){c("next",a,d,j)},function(a){c("throw",a,d,j)}):Promise.resolve(e).then(function(a){k.value=a;d(k)},function(a){return c("throw",a,d,j)})}}var e;this._invoke=function(a,b){function f(){return new Promise(function(e,f){c(a,b,e,f)})}return e=e?e.then(f,f):f()}}function h(a,c,e){var b=F;return function(d,j){if(b===z)throw Error("Generator is already running");if(b===D){if("throw"===d)throw j;return p()}e.method=d;for(e.arg=j;;){var k=e.delegate;if(k&&(k=f(k,
e))){if(k===H)continue;return k}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(b===F)throw b=D,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);b=z;k=g(a,c,e);if("normal"===k.type){if(b=e.done?D:B,k.arg!==H)return{value:k.arg,done:e.done}}else"throw"===k.type&&(b=D,e.method="throw",e.arg=k.arg)}}}function f(a,c){var e=a.iterator[c.method];if(e===q){c.delegate=null;if("throw"===c.method){if(a.iterator["return"]&&(c.method="return",c.arg=q,
f(a,c),"throw"===c.method))return H;c.method="throw";c.arg=new TypeError("The iterator does not provide a 'throw' method")}return H}e=g(e,a.iterator,c.arg);if("throw"===e.type)return c.method="throw",c.arg=e.arg,c.delegate=null,H;e=e.arg;if(!e)return c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,H;if(e.done)c[a.resultName]=e.value,c.next=a.nextLoc,"return"!==c.method&&(c.method="next",c.arg=q);else return e;c.delegate=null;return H}function c(a){var c={tryLoc:a[0]};
1 in a&&(c.catchLoc=a[1]);2 in a&&(c.finallyLoc=a[2],c.afterLoc=a[3]);this.tryEntries.push(c)}function j(a){var c=a.completion||{};c.type="normal";delete c.arg;a.completion=c}function e(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(c,this);this.reset(!0)}function k(a){if(a){var c=a[E];if(c)return c.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var e=-1,c=function M(){for(;++e<a.length;)if(n.call(a,e))return M.value=a[e],M.done=!1,M;M.value=q;M.done=!0;return M};return c.next=
c}}return{next:p}}function p(){return{value:q,done:!0}}var u=Object.prototype,n=u.hasOwnProperty,q,y="function"===typeof Symbol?Symbol:{},E=y.iterator||"@@iterator",J=y.asyncIterator||"@@asyncIterator",I=y.toStringTag||"@@toStringTag";a.wrap=d;var F="suspendedStart",B="suspendedYield",z="executing",D="completed",H={},y={};y[E]=function(){return this};var A=Object.getPrototypeOf;(A=A&&A(A(k([]))))&&(A!==u&&n.call(A,E))&&(y=A);var K=x.prototype=i.prototype=Object.create(y);m.prototype=K.constructor=
x;x.constructor=m;x[I]=m.displayName="GeneratorFunction";a.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===m||"GeneratorFunction"===(a.displayName||a.name):!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,x):(a.__proto__=x,I in a||(a[I]="GeneratorFunction"));a.prototype=Object.create(K);return a};a.awrap=function(a){return{__await:a}};v(t.prototype);t.prototype[J]=function(){return this};a.AsyncIterator=t;a.async=function(c,e,b,f){var j=new t(d(c,
e,b,f));return a.isGeneratorFunction(e)?j:j.next().then(function(a){return a.done?a.value:j.next()})};v(K);K[I]="Generator";K[E]=function(){return this};K.toString=function(){return"[object Generator]"};a.keys=function(a){var c=[],e;for(e in a)c.push(e);c.reverse();return function M(){for(;c.length;){var e=c.pop();if(e in a)return M.value=e,M.done=!1,M}M.done=!0;return M}};a.values=k;e.prototype={constructor:e,reset:function(a){this.next=this.prev=0;this.sent=this._sent=q;this.done=!1;this.delegate=
null;this.method="next";this.arg=q;this.tryEntries.forEach(j);if(!a)for(var c in this)"t"===c.charAt(0)&&(n.call(this,c)&&!isNaN(+c.slice(1)))&&(this[c]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function c(b,f){d.type="throw";d.arg=a;e.next=b;f&&(e.method="next",e.arg=q);return!!f}if(this.done)throw a;for(var e=this,b=this.tryEntries.length-1;0<=b;--b){var f=this.tryEntries[b],d=f.completion;
if("root"===f.tryLoc)return c("end");if(f.tryLoc<=this.prev){var j=n.call(f,"catchLoc"),k=n.call(f,"finallyLoc");if(j&&k){if(this.prev<f.catchLoc)return c(f.catchLoc,!0);if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else if(j){if(this.prev<f.catchLoc)return c(f.catchLoc,!0)}else if(k){if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,c){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.tryLoc<=
this.prev&&n.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var f=b;break}}if(f&&("break"===a||"continue"===a)&&f.tryLoc<=c&&c<=f.finallyLoc)f=null;e=f?f.completion:{};e.type=a;e.arg=c;return f?(this.method="next",this.next=f.finallyLoc,H):this.complete(e)},complete:function(a,c){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&c&&(this.next=c);return H},finish:function(a){for(var c=
this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c];if(e.finallyLoc===a)return this.complete(e.completion,e.afterLoc),j(e),H}},"catch":function(a){for(var c=this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c];if(e.tryLoc===a){a=e.completion;if("throw"===a.type){var b=a.arg;j(e)}return b}}throw Error("illegal catch attempt");},delegateYield:function(a,c,e){this.delegate={iterator:k(a),resultName:c,nextLoc:e};"next"===this.method&&(this.arg=q);return H}};return a}("object"===b(a)?a.exports:
{});try{regeneratorRuntime=a}catch(d){Function("r","regeneratorRuntime = r")(a)}}).call(this,a(150)(d))},function(d){d.exports=function(b){b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),b.webpackPolyfill=1);return b}},function(d,b,a){function i(a,c,b,e,d,g,h){try{var n=a[g](h),q=n.value}catch(y){b(y);return}n.done?
c(q):Promise.resolve(q).then(e,d)}function l(a){return function(){var c=this,b=arguments;return new Promise(function(e,d){function g(a){i(n,e,d,g,h,"next",a)}function h(a){i(n,e,d,g,h,"throw",a)}var n=a.apply(c,b);g(void 0)})}}function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function o(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function r(a,
c,b){c&&o(a.prototype,c);b&&o(a,b);return a}function w(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function s(a,c){try{var b=(c?new x.URL(a,c):new x.URL(a)).protocol;return"http:"===b||"https:"===b}catch(e){return!1}}Object.defineProperty(b,"__esModule",{value:!0});b.addLinkAttributes=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=c.url,e=c.target,c=c.rel;a.href=a.title=b?(0,x.removeNullCharacters)(b):
"";b&&(b=Object.values(t).includes(e)?e:t.NONE,a.target=h[b],a.rel="string"===typeof c?c:v)};b.getFilenameFromUrl=function(a){var c=a.indexOf("#"),b=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<b?b:a.length);return a.substring(a.lastIndexOf("/",c)+1,c)};b.isFetchSupported=w;b.isValidFetchUrl=s;b.loadScript=function(a){return new Promise(function(c,b){var e=document.createElement("script");e.src=a;e.onload=c;e.onerror=function(){b(Error("Cannot load script at: ".concat(e.src)))};(document.head||document.documentElement).appendChild(e)})};
b.deprecated=function(a){console.log("Deprecated API usage: "+a)};b.releaseImageResources=function(a){(0,x.assert)(a instanceof Image,"Invalid `img` parameter.");var c=a.src;"string"===typeof c&&(c.startsWith("blob:")&&x.URL.revokeObjectURL)&&x.URL.revokeObjectURL(c);a.removeAttribute("src")};b.DummyStatTimer=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.RenderingCancelledException=b.PageViewport=void 0;var m=function(a){return a&&a.__esModule?
a:{"default":a}}(a(148)),x=a(1),v="noopener noreferrer nofollow";b.DEFAULT_LINK_REL=v;d=function(){function a(){g(this,a)}r(a,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw Error("Invalid canvas size");var e=document.createElement("canvas"),f=e.getContext("2d");e.width=a;e.height=b;return{canvas:e,context:f}}},{key:"reset",value:function(a,b,e){if(!a.canvas)throw Error("Canvas is not specified");if(0>=b||0>=e)throw Error("Invalid canvas size");a.canvas.width=b;a.canvas.height=e}},{key:"destroy",
value:function(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}();b.DOMCanvasFactory=d;d=function(){function a(c){var b=c.baseUrl,b=void 0===b?null:b,c=c.isCompressed,c=void 0===c?!1:c;g(this,a);this.baseUrl=b;this.isCompressed=c}r(a,[{key:"fetch",value:function(a){function b(e){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){var a=l(m["default"].mark(function e(a){var c=
this,b,f,d;return m["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b=a.name;if(this.baseUrl){e.next=3;break}throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(b){e.next=5;break}throw Error("CMap name must be specified.");case 5:f=this.baseUrl+b+(this.isCompressed?".bcmap":"");d=this.isCompressed?x.CMapCompressionType.BINARY:x.CMapCompressionType.NONE;if(!w()||!s(f,document.baseURI)){e.next=
9;break}return e.abrupt("return",fetch(f).then(function(){var a=l(m["default"].mark(function I(a){var e;return m["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.ok){b.next=2;break}throw Error(a.statusText);case 2:if(!c.isCompressed){b.next=10;break}b.t0=Uint8Array;b.next=6;return a.arrayBuffer();case 6:b.t1=b.sent;e=new b.t0(b.t1);b.next=15;break;case 10:return b.t2=x.stringToBytes,b.next=13,a.text();case 13:b.t3=b.sent,e=(0,b.t2)(b.t3);case 15:return b.abrupt("return",{cMapData:e,
compressionType:d});case 16:case "end":return b.stop()}},I)}));return function(c){return a.apply(this,arguments)}}())["catch"](function(){throw Error("Unable to load ".concat(c.isCompressed?"binary ":"")+"CMap at: ".concat(f));}));case 9:return e.abrupt("return",(new Promise(function(a,e){var b=new XMLHttpRequest;b.open("GET",f,!0);c.isCompressed&&(b.responseType="arraybuffer");b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){if(b.status===200||b.status===0){var f;c.isCompressed&&
b.response?f=new Uint8Array(b.response):!c.isCompressed&&b.responseText&&(f=(0,x.stringToBytes)(b.responseText));if(f){a({cMapData:f,compressionType:d});return}}e(Error(b.statusText))}};b.send(null)}))["catch"](function(){throw Error("Unable to load ".concat(c.isCompressed?"binary ":"")+"CMap at: ".concat(f));}));case 10:case "end":return e.stop()}},e,this)}));return function(e){return a.apply(this,arguments)}}())}]);return a}();b.DOMCMapReaderFactory=d;d=function(){function a(){g(this,a)}r(a,[{key:"create",
value:function(a,b){(0,x.assert)(0<a&&0<b,"Invalid SVG dimensions");var e=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");e.setAttribute("version","1.1");e.setAttribute("width",a+"px");e.setAttribute("height",b+"px");e.setAttribute("preserveAspectRatio","none");e.setAttribute("viewBox","0 0 "+a+" "+b);return e}},{key:"createElement",value:function(a){(0,x.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return a}();
b.DOMSVGFactory=d;d=function(){function a(c){var b=c.viewBox,e=c.scale,d=c.rotation,h=c.offsetX,u=void 0===h?0:h,h=c.offsetY,n=void 0===h?0:h,c=c.dontFlip,q=void 0===c?!1:c;g(this,a);this.viewBox=b;this.scale=e;this.rotation=d;this.offsetX=u;this.offsetY=n;var c=(b[2]+b[0])/2,h=(b[3]+b[1])/2,y,E,m,d=d%360;switch(0>d?d+360:d){case 180:d=-1;E=y=0;m=1;break;case 90:d=0;E=y=1;m=0;break;case 270:d=0;E=y=-1;m=0;break;default:d=1,E=y=0,m=-1}q&&(E=-E,m=-m);0===d?(u=Math.abs(h-b[1])*e+u,n=Math.abs(c-b[0])*
e+n,q=Math.abs(b[3]-b[1])*e,b=Math.abs(b[2]-b[0])*e):(u=Math.abs(c-b[0])*e+u,n=Math.abs(h-b[1])*e+n,q=Math.abs(b[2]-b[0])*e,b=Math.abs(b[3]-b[1])*e);this.transform=[d*e,y*e,E*e,m*e,u-d*e*c-E*e*h,n-y*e*c-m*e*h];this.width=q;this.height=b}r(a,[{key:"clone",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=c.scale,b=void 0===b?this.scale:b,e=c.rotation,e=void 0===e?this.rotation:e,c=c.dontFlip,c=void 0===c?!1:c;return new a({viewBox:this.viewBox.slice(),scale:b,rotation:e,
offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:c})}},{key:"convertToViewportPoint",value:function(a,b){return x.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=x.Util.applyTransform([a[0],a[1]],this.transform),a=x.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,b){return x.Util.applyInverseTransform([a,b],this.transform)}}]);return a}();b.PageViewport=d;d=function(){function a(c,
b){this.message=c;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}();b.RenderingCancelledException=d;var t={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};b.LinkTarget=t;var h=["","_self","_blank","_parent","_top"],d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;g(this,a);this.enabled=!!c;this.started=Object.create(null);this.times=[]}r(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,x.warn)("Timer is already running for "+
a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,x.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){var a="",b=0,e=!0,f=!1,d=void 0;try{for(var h=this.times[Symbol.iterator](),g;!(e=(g=h.next()).done);e=!0){var m=g.value.name;m.length>b&&(b=m.length)}}catch(y){f=!0,d=y}finally{try{if(!e&&null!=h["return"])h["return"]()}finally{if(f)throw d;
}}e=!0;f=!1;d=void 0;try{for(var E=this.times[Symbol.iterator](),J;!(e=(J=E.next()).done);e=!0)var I=J.value,i=I.end-I.start,a=a+"".concat(I.name.padEnd(b)," ").concat(i,"ms\n")}catch(t){f=!0,d=t}finally{try{if(!e&&null!=E["return"])E["return"]()}finally{if(f)throw d;}}return a}}]);return a}();b.StatTimer=d;d=function(){function a(){g(this,a);(0,x.unreachable)("Cannot initialize DummyStatTimer.")}r(a,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);
return a}();b.DummyStatTimer=d},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a){l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return l(a)}function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&o(a,b)}function o(a,b){o=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return o(a,b)}function r(a,b,e,f,d,h,g){try{var m=a[h](g),y=m.value}catch(E){e(E);return}m.done?b(y):Promise.resolve(y).then(f,d)}function w(a){return function(){var b=this,e=arguments;return new Promise(function(f,d){function h(a){r(m,f,d,h,g,"next",a)}function g(a){r(m,f,d,h,g,"throw",a)}var m=a.apply(b,e);h(void 0)})}}
function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function m(a,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}function x(a,b,e){b&&m(a.prototype,b);e&&m(a,e);return a}Object.defineProperty(b,"__esModule",{value:!0});b.FontLoader=b.FontFaceObject=void 0;var v=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),t=a(1),d=function(){function a(b){var e=
b.docId,b=b.onUnsupportedFeature;s(this,a);this.constructor===a&&(0,t.unreachable)("Cannot initialize BaseFontLoader.");this.docId=e;this._onUnsupportedFeature=b;this.nativeFontFaces=[];this.styleElement=null}x(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)}},{key:"insertRule",value:function(a){var c=this.styleElement;c||(c=this.styleElement=document.createElement("style"),c.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(c));
c=c.sheet;c.insertRule(a,c.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts["delete"](a)});this.nativeFontFaces.length=0;this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var a=w(v["default"].mark(function k(a){var c=this,b,f;return v["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!a.attached&&!a.missingFile){d.next=2;break}return d.abrupt("return");case 2:a.attached=!0;
if(!this.isFontLoadingAPISupported){d.next=19;break}b=a.createNativeFontFace();if(!b){d.next=18;break}this.addNativeFontFace(b);d.prev=7;d.next=10;return b.loaded;case 10:d.next=18;break;case 12:throw d.prev=12,d.t0=d["catch"](7),this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.font}),(0,t.warn)("Failed to load font '".concat(b.family,"': '").concat(d.t0,"'.")),a.disableFontFace=!0,d.t0;case 18:return d.abrupt("return");case 19:f=a.createFontFaceRule();if(!f){d.next=25;break}this.insertRule(f);
if(!this.isSyncFontLoadingSupported){d.next=24;break}return d.abrupt("return");case 24:return d.abrupt("return",new Promise(function(b){b=c._queueLoadingCallback(b);c._prepareFontLoadEvent([f],[a],b)}));case 25:case "end":return d.stop()}},k,this,[[7,12]])}));return function(c){return a.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(){(0,t.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(){(0,t.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},
{key:"isFontLoadingAPISupported",get:function(){(0,t.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,t.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,t.unreachable)("Abstract method `_loadTestFont`.")}}]);return a}(),h;b.FontLoader=h;b.FontLoader=h=function(a){function b(a){s(this,b);a=l(b).call(this,a);if(!a||!("object"===i(a)||"function"===typeof a)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=this}a.loadingContext={requests:[],nextRequestId:0};a.loadTestFontId=0;return a}g(b,a);x(b,[{key:"_queueLoadingCallback",value:function(a){var c=this.loadingContext,b={id:"pdfjs-font-loading-".concat(c.nextRequestId++),done:!1,complete:function(){(0,t.assert)(!b.done,"completeRequest() cannot be called twice.");for(b.done=!0;0<c.requests.length&&c.requests[0].done;){var a=c.requests.shift();setTimeout(a.callback,0)}},callback:a};c.requests.push(b);return b}},{key:"_prepareFontLoadEvent",value:function(a,
c,b){function f(a,c){return a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3)&255}function d(a,c,e,b){var f=a.substring(0,c),a=a.substring(c+e);return f+b+a}function j(a,c){i++;30<i?((0,t.warn)("Load test font never loaded."),c()):(m.font="30px "+a,m.fillText(".",0,20),0<m.getImageData(0,0,1,1).data[3]?c():setTimeout(j.bind(null,a,c)))}var h,g,a=document.createElement("canvas");a.width=1;a.height=1;var m=a.getContext("2d"),i=0,a="lt".concat(Date.now()).concat(this.loadTestFontId++),
F=this._loadTestFont,F=d(F,976,a.length,a),r=f(F,16);h=0;for(g=a.length-3;h<g;h+=4)r=r-1482184792+f(a,h)|0;h<a.length&&(r=r-1482184792+f(a+"XXX",h)|0);F=d(F,16,4,(0,t.string32)(r));h="url(data:font/opentype;base64,".concat(btoa(F),");");this.insertRule('@font-face {font-family:"'.concat(a,'";src:').concat(h,"}"));F=[];h=0;for(g=c.length;h<g;h++)F.push(c[h].loadedName);F.push(a);var w=document.createElement("div");w.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
h=0;for(g=F.length;h<g;++h)c=document.createElement("span"),c.textContent="Hi",c.style.fontFamily=F[h],w.appendChild(c);document.body.appendChild(w);j(a,function(){document.body.removeChild(w);b.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!==typeof document&&!!document.fonts;if(a&&"undefined"!==typeof navigator){var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);c&&63>c[1]&&(a=!1)}return(0,t.shadow)(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",
get:function(){var a=!1;if("undefined"===typeof navigator)a=!0;else{var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);c&&14<=c[1]&&(a=!0)}return(0,t.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){return(0,t.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]);
return b}(d);var f={get value(){return(0,t.shadow)(this,"value",(0,t.isEvalSupported)())}};h=function(){function a(b,e){var f=e.isEvalSupported,f=void 0===f?!0:f,d=e.disableFontFace,d=void 0===d?!1:d,h=e.ignoreErrors,h=void 0===h?!1:h,g=e.onUnsupportedFeature,g=void 0===g?null:g,m=e.fontRegistry,m=void 0===m?null:m;s(this,a);this.compiledGlyphs=Object.create(null);for(var y in b)this[y]=b[y];this.isEvalSupported=!1!==f;this.disableFontFace=!0===d;this.ignoreErrors=!0===h;this._onUnsupportedFeature=
g;this.fontRegistry=m}x(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=(0,t.bytesToString)(new Uint8Array(this.data)),a="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");"),c='@font-face {font-family:"'.concat(this.loadedName,
'";src:').concat(a,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,a);return c}},{key:"getPathGenerator",value:function(a,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];var b,d;try{b=a.get(this.loadedName+"_path_"+c)}catch(h){if(!this.ignoreErrors)throw h;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.font});(0,t.warn)('getPathGenerator - ignoring character: "'.concat(h,'".'));return this.compiledGlyphs[c]=function(){}}if(this.isEvalSupported&&
f.value){for(var g,m="",y=0,E=b.length;y<E;y++)d=b[y],g=void 0!==d.args?d.args.join(","):"",m+="c."+d.cmd+"("+g+");\n";return this.compiledGlyphs[c]=new Function("c","size",m)}return this.compiledGlyphs[c]=function(a,c){for(var e=0,f=b.length;e<f;e++)d=b[e],"scale"===d.cmd&&(d.args=[c,-c]),a[d.cmd].apply(a,d.args)}}}]);return a}();b.FontFaceObject=h},function(d,b,a){var d=Object.create(null),a=a(4),i="undefined"!==typeof navigator&&navigator.userAgent||"",l=/Trident/.test(i),i=/CriOS/.test(i);if(l||
i)d.disableCreateObjectURL=!0;a()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none");b.apiCompatibilityParams=Object.freeze(d)},function(d,b,a){function i(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",
{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],d=a[1],f=a[2],c=a[3],j=a[4],a=a[5],e=b*c-d*f,k=d*f-b*c;return[c/e,d/k,f/k,b/e,(c*j-f*a)/k,(d*j-b*a)/e]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=
function(a,b){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*b+d[4];d[5]=d[1]*a+d[3]*b+d[5];this._originalTranslate(a,b)},a.scale=function(a,b){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=b;d[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,g,f,c,j){var e=this._transformMatrix;this._transformMatrix=[e[0]*b+e[2]*d,e[1]*b+e[3]*d,e[0]*g+e[2]*f,e[1]*g+e[3]*f,e[0]*c+e[2]*j+e[4],e[1]*c+e[3]*j+e[5]];a._originalTransform(b,d,g,f,c,j)},a.setTransform=function(b,d,g,f,c,j){this._transformMatrix=
[b,d,g,f,c,j];a._originalSetTransform(b,d,g,f,c,j)},a.rotate=function(a){var b=Math.cos(a),d=Math.sin(a),f=this._transformMatrix;this._transformMatrix=[f[0]*b+f[2]*d,f[1]*b+f[3]*d,f[0]*-d+f[2]*b,f[1]*-d+f[3]*b,f[4],f[5]];this._originalRotate(a)})}function l(a){var b=a.width,d=a.height,g,f,c=b+1,j=new Uint8Array(c*(d+1)),e=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=b+7&-8,p=a.data,u=new Uint8Array(k*d),n=0,a=0;for(g=p.length;a<g;a++){f=128;for(var m=p[a];0<f;)u[n++]=m&f?0:255,f>>=1}n=p=0;
0!==u[n]&&(j[0]=1,++p);for(g=1;g<b;g++)u[n]!==u[n+1]&&(j[g]=u[n]?2:1,++p),n++;0!==u[n]&&(j[g]=2,++p);for(a=1;a<d;a++){n=a*k;f=a*c;u[n-k]!==u[n]&&(j[f]=u[n]?1:8,++p);m=(u[n]?4:0)+(u[n-k]?8:0);for(g=1;g<b;g++)m=(m>>2)+(u[n+1]?4:0)+(u[n-k+1]?8:0),e[m]&&(j[f+g]=e[m],++p),n++;u[n-k]!==u[n]&&(j[f+g]=u[n]?2:4,++p);if(1E3<p)return null}n=k*(d-1);f=a*c;0!==u[n]&&(j[f]=8,++p);for(g=1;g<b;g++)u[n]!==u[n+1]&&(j[f+g]=u[n]?4:8,++p),n++;0!==u[n]&&(j[f+g]=4,++p);if(1E3<p)return null;for(var e=new Int32Array([0,c,
-1,0,-c,0,0,0,1]),y=[],a=0;p&&a<=d;a++){k=a*c;for(u=k+b;k<u&&!j[k];)k++;if(k!==u){u=[k%c,a];n=j[k];g=k;do{f=e[n];do k+=f;while(!j[k]);f=j[k];5!==f&&10!==f?(n=f,j[k]=0):(n=f&51*n>>4,j[k]&=n>>2|n<<2);u.push(k%c);u.push(k/c|0);j[k]||--p}while(g!==k);y.push(u);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,e=y.length;c<e;c++){var f=y[c];a.moveTo(f[0],f[1]);for(var k=2,j=f.length;k<j;k=k+2)a.lineTo(f[k],f[k+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(b,
"__esModule",{value:!0});b.CanvasGraphics=void 0;var g=a(1),o=a(155),r=16,w={get value(){return(0,g.shadow)(w,"value",(0,g.isLittleEndian)())}},s=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,d,f){var c;void 0!==this.cache[a]?(c=this.cache[a],this.canvasFactory.reset(c,b,d),c.context.setTransform(1,0,0,1,0,0)):(c=this.canvasFactory.create(b,d),this.cache[a]=c);f&&i(c.context);return c},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),
delete this.cache[a]}};return a}(),m=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=g.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=g.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),d=function(){function a(c,b,e,f,d,k){this.ctx=c;this.current=new m;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=e;this.canvasFactory=f;this.webGLContext=d;this.imageLayer=k;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=
[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new s(this.canvasFactory);c&&i(c);this._cachedGetSinglePixelWidth=null}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var e=c.height,f=c.width,d=e%r,e=(e-d)/r,k=0===d?e:e+1,j=a.createImageData(f,r),h=0,p,n=c.data,u=j.data,m,q,i;if(c.kind===g.ImageKind.GRAYSCALE_1BPP){var l=n.byteLength,u=new Uint32Array(u.buffer,0,u.byteLength>>2),t=u.length,T=f+7>>3,Q=w.value?4278190080:255;for(m=
0;m<k;m++){i=m<e?r:d;for(q=p=0;q<i;q++){for(var s=l-h,o=0,s=s>T?f:8*s-7,x=s&-8,v=0,U=0;o<x;o+=8)U=n[h++],u[p++]=U&128?4294967295:Q,u[p++]=U&64?4294967295:Q,u[p++]=U&32?4294967295:Q,u[p++]=U&16?4294967295:Q,u[p++]=U&8?4294967295:Q,u[p++]=U&4?4294967295:Q,u[p++]=U&2?4294967295:Q,u[p++]=U&1?4294967295:Q;for(;o<s;o++)0===v&&(U=n[h++],v=128),u[p++]=U&v?4294967295:Q,v>>=1}for(;p<t;)u[p++]=0;a.putImageData(j,0,m*r)}}else if(c.kind===g.ImageKind.RGBA_32BPP){q=0;i=4*f*r;for(m=0;m<e;m++)u.set(n.subarray(h,
h+i)),h+=i,a.putImageData(j,0,q),q+=r;m<k&&(u.set(n.subarray(h,h+4*f*d)),a.putImageData(j,0,q))}else if(c.kind===g.ImageKind.RGB_24BPP){i=r;i*=f;for(m=0;m<k;m++){m>=e&&(i=d,i*=f);p=0;for(q=i;q--;)u[p++]=n[h++],u[p++]=n[h++],u[p++]=n[h++],u[p++]=255;a.putImageData(j,0,m*r)}}else throw Error("bad image kind: ".concat(c.kind));}}function d(a,c){for(var b=c.height,e=c.width,f=b%r,b=(b-f)/r,k=0===f?b:b+1,j=a.createImageData(e,r),g=0,h=c.data,p=j.data,u=0;u<k;u++){for(var n=u<b?r:f,m=3,q=0;q<n;q++)for(var i=
0,w=0;w<e;w++){if(!i)var l=h[g++],i=128;p[m]=l&i?0:255;m+=4;i>>=1}a.putImageData(j,0,u*r)}}function h(a,c){for(var b="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),e=0,f=b.length;e<f;e++){var d=b[e];void 0!==a[d]&&(c[d]=a[d])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function f(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=
1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function c(a,c,b){for(var e=a.length,f=1/255,d=3;d<e;d+=4)c[d]=c[d]*(b?b[a[d]]:a[d])*f|0}function j(a,c,b){for(var e=a.length,f=3;f<e;f+=4){var d=77*a[f-3]+152*a[f-2]+28*a[f-1];c[f]=b?c[f]*b[d>>8]>>8:c[f]*d>>16}}function e(a,b,e,f){var d=b.canvas,k=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var g=
b.backdrop||null;if(!b.transferMap&&f.isEnabled)e=f.composeSMask({layer:e.canvas,mask:d,properties:{subtype:b.subtype,backdrop:g}}),a.setTransform(1,0,0,1,0,0),a.drawImage(e,b.offsetX,b.offsetY);else{for(var f=d.width,h=d.height,p=b.transferMap,u=!!g,n=u?g[0]:0,m=u?g[1]:0,g=u?g[2]:0,b="Luminosity"===b.subtype?j:c,q=Math.min(h,Math.ceil(1048576/f)),i=0;i<h;i+=q){var r=Math.min(q,h-i),w=k.getImageData(0,i,f,r),r=e.getImageData(0,i,f,r);if(u)for(var l=w.data,Q=n,t=m,s=g,o=l.length,x=3;x<o;x+=4){var v=
l[x];if(0===v)l[x-3]=Q,l[x-2]=t,l[x-1]=s;else if(255>v){var R=255-v;l[x-3]=l[x-3]*v+Q*R>>8;l[x-2]=l[x-2]*v+t*R>>8;l[x-1]=l[x-1]*v+s*R>>8}}b(w.data,r.data,p);k.putImageData(r,0,i)}a.drawImage(d,0,0)}}var k=["butt","round","square"],p=["miter","round","bevel"],u={},n={};a.prototype={beginDrawing:function(a){var c=a.transform,b=a.viewport,e=a.transparency,e=void 0===e?!1:e,a=a.background,a=void 0===a?null:a,d=this.ctx.canvas.width,k=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";
this.ctx.fillRect(0,0,d,k);this.ctx.restore();e&&(e=this.cachedCanvases.getCanvas("transparent",d,k,!0),this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();f(this.ctx);c&&this.ctx.transform.apply(this.ctx,c);this.ctx.transform.apply(this.ctx,b.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,
c,b,e){var f=a.argsArray,a=a.fnArray,c=c||0,d=f.length;if(d===c)return c;for(var k=10<d-c&&"function"===typeof b,j=k?Date.now()+15:0,h=0,p=this.commonObjs,u=this.objs,n;;){if(void 0!==e&&c===e.nextBreakPoint)return e.breakIt(c,b),c;n=a[c];if(n!==g.OPS.dependency)this[n].apply(this,f[c]);else{n=f[c];for(var m=0,q=n.length;m<q;m++){var i=n[m],r="g"===i[0]&&"_"===i[1]?p:u;if(!r.has(i))return r.get(i,b),c}}c++;if(c===d)return c;if(k&&10<++h){if(Date.now()>j)return b(),c;h=0}}},endDrawing:function(){null!==
this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=k[a]},setLineJoin:function(a){this.ctx.lineJoin=
p[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var e=a[c],f=e[1];switch(e[0]){case "LW":this.setLineWidth(f);break;case "LC":this.setLineCap(f);break;case "LJ":this.setLineJoin(f);break;case "ML":this.setMiterLimit(f);break;case "D":this.setDash(f[0],f[1]);break;case "RI":this.setRenderingIntent(f);
break;case "FL":this.setFlatness(f);break;case "Font":this.setFont(f[0],f[1]);break;case "CA":this.current.strokeAlpha=e[1];break;case "ca":this.current.fillAlpha=e[1];this.ctx.globalAlpha=e[1];break;case "BM":this.ctx.globalCompositeOperation=f;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&
this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),b=this.ctx,e=b.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/a.scaleX,1/a.scaleY);c.translate(-a.offsetX,-a.offsetY);c.transform.apply(c,e);a.startTransformInverse=c.mozCurrentTransformInverse;h(b,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);
this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();e(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();h(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=
this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();e(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();h(a,this.ctx);this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=
null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this._cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,c,b,e,f,d){this.ctx.transform(a,c,b,e,f,d);this._cachedGetSinglePixelWidth=null},constructPath:function(a,
c){for(var b=this.ctx,e=this.current,f=e.x,d=e.y,k=0,j=0,h=a.length;k<h;k++)switch(a[k]|0){case g.OPS.rectangle:var f=c[j++],d=c[j++],p=c[j++],u=c[j++];0===p&&(p=this.getSinglePixelWidth());0===u&&(u=this.getSinglePixelWidth());p=f+p;u=d+u;this.ctx.moveTo(f,d);this.ctx.lineTo(p,d);this.ctx.lineTo(p,u);this.ctx.lineTo(f,u);this.ctx.lineTo(f,d);this.ctx.closePath();break;case g.OPS.moveTo:f=c[j++];d=c[j++];b.moveTo(f,d);break;case g.OPS.lineTo:f=c[j++];d=c[j++];b.lineTo(f,d);break;case g.OPS.curveTo:f=
c[j+4];d=c[j+5];b.bezierCurveTo(c[j],c[j+1],c[j+2],c[j+3],f,d);j+=6;break;case g.OPS.curveTo2:b.bezierCurveTo(f,d,c[j],c[j+1],c[j+2],c[j+3]);f=c[j+2];d=c[j+3];j+=4;break;case g.OPS.curveTo3:f=c[j+2];d=c[j+3];b.bezierCurveTo(c[j],c[j+1],f,d,f,d);j+=4;break;case g.OPS.closePath:b.closePath()}e.setCurrentPoint(f,d)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),
this.current.lineWidth);c.globalAlpha=this.current.strokeAlpha;b&&b.hasOwnProperty("type")&&"Pattern"===b.type?(c.save(),c.strokeStyle=b.getPattern(c,this),c.stroke(),c.restore()):c.stroke();a&&this.consumePath();c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,e=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=
b.getPattern(c,this),e=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();e&&c.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},
clip:function(){this.pendingClip=u},eoClip:function(){this.pendingClip=n},beginText:function(){this.current.textMatrix=g.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var e=a[b];c.setTransform.apply(c,e.transform);c.translate(e.x,e.y);e.addToPath(c,e.fontSize)}c.restore();c.clip();c.beginPath();
delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var b=this.commonObjs.get(a),e=this.current;if(!b)throw Error("Can't find font for ".concat(a));e.fontMatrix=b.fontMatrix?b.fontMatrix:g.FONT_IDENTITY_MATRIX;if(0===e.fontMatrix[0]||0===e.fontMatrix[3])(0,g.warn)("Invalid font matrix for font "+
a);0>c?(c=-c,e.fontDirection=-1):e.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var e=b.black?"900":b.bold?"bold":"normal",f=b.italic?"italic":"normal",b='"'.concat(b.loadedName||"sans-serif",'", ').concat(b.fallbackName),d=16>c?16:100<c?100:c;this.current.fontSizeScale=c/d;this.ctx.font="".concat(f," ").concat(e," ").concat(d,"px ").concat(b)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,
c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,c,b,e,f,d){this.current.textMatrix=[a,c,b,e,f,d];this.current.textMatrixScale=Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,e){var f=this.ctx,d=this.current,j=d.font,k=d.textRenderingMode,h=d.fontSize/
d.fontSizeScale,p=k&g.TextRenderingMode.FILL_STROKE_MASK,k=!!(k&g.TextRenderingMode.ADD_TO_PATH_FLAG),d=d.patternFill&&j.data,u;if(j.disableFontFace||k||d)u=j.getPathGenerator(this.commonObjs,a);j.disableFontFace||d?(f.save(),f.translate(c,b),f.beginPath(),u(f,h),e&&f.setTransform.apply(f,e),(p===g.TextRenderingMode.FILL||p===g.TextRenderingMode.FILL_STROKE)&&f.fill(),(p===g.TextRenderingMode.STROKE||p===g.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((p===g.TextRenderingMode.FILL||p===
g.TextRenderingMode.FILL_STROKE)&&f.fillText(a,c,b),(p===g.TextRenderingMode.STROKE||p===g.TextRenderingMode.FILL_STROKE)&&f.strokeText(a,c,b));k&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:c,y:b,fontSize:h,addToPath:u})},get isFontSubpixelAAEnabled(){var a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=4)if(0<a[b]&&255>a[b]){c=
!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var e=c.fontSize;if(0!==e){var f=this.ctx,d=c.fontSizeScale,j=c.charSpacing,k=c.wordSpacing,h=c.fontDirection,p=c.textHScale*h,u=a.length,n=b.vertical,m=n?1:-1,q=b.defaultVMetrics,i=e*c.fontMatrix[0],r=c.textRenderingMode===g.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;f.save();var w;if(c.patternFill){f.save();var l=c.fillColor.getPattern(f,
this);w=f.mozCurrentTransform;f.restore();f.fillStyle=l}f.transform.apply(f,c.textMatrix);f.translate(c.x,c.y+c.textRise);0<h?f.scale(p,-1):f.scale(p,1);var l=c.lineWidth,t=c.textMatrixScale;if(0===t||0===l){if(t=c.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK,t===g.TextRenderingMode.STROKE||t===g.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=null,l=0.65*this.getSinglePixelWidth()}else l/=t;1!==d&&(f.scale(d,d),l/=d);f.lineWidth=l;for(t=l=0;t<u;++t){var s=a[t];if((0,g.isNum)(s))l+=
m*s*e/1E3;else{var x=!1,o=(s.isSpace?k:0)+j,v=s.fontChar,R=s.accent,P,W,C=s.width;if(n){var S;P=s.vmetric||q;S=s.vmetric?P[1]:0.5*C;S=-S*i;W=P[2]*i;C=P?-P[0]:C;P=S/d;W=(l+W)/d}else P=l/d,W=0;b.remeasure&&0<C&&(S=1E3*f.measureText(v).width/e*d,C<S&&this.isFontSubpixelAAEnabled?(S=C/S,x=!0,f.save(),f.scale(S,1),P/=S):C!==S&&(P+=(C-S)/2E3*e/d));if(s.isInFont||b.missingFile)r&&!R?f.fillText(v,P,W):(this.paintChar(v,P,W,w),R&&(s=P+R.offset.x/d,v=W-R.offset.y/d,this.paintChar(R.fontChar,s,v,w)));l+=C*i+
o*h;x&&f.restore()}}n?c.y-=l*p:c.x+=l*p;f.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,e=b.font,f=b.fontSize,d=b.fontDirection,j=e.vertical?1:-1,k=b.charSpacing,h=b.wordSpacing,p=b.textHScale*d,u=b.fontMatrix||g.FONT_IDENTITY_MATRIX,n=a.length,m;if(!(b.textRenderingMode===g.TextRenderingMode.INVISIBLE||0===f)){this._cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(p,d);for(d=0;d<n;++d)if(m=a[d],(0,g.isNum)(m))m=j*m*f/1E3,
this.ctx.translate(m,0),b.x+=m*p;else{var q=(m.isSpace?h:0)+k,i=e.charProcOperatorList[m.operatorListId];i?(this.processingType3=m,this.save(),c.scale(f,f),c.transform.apply(c,u),this.executeOperatorList(i),this.restore(),m=g.Util.applyTransform([m.width,0],u)[0]*f+q,c.translate(m,0),b.x+=m*p):(0,g.warn)('Type3 character "'.concat(m.operatorListId,'" is not available.'))}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,e,f,d){this.ctx.rect(b,e,
f-b,d-e);this.clip();this.endPath()},getColorN_Pattern:function(c){var b=this;if("TilingPattern"===c[0])var e=c[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c=new o.TilingPattern(c,e,this.ctx,{createCanvasGraphics:function(c){return new a(c,b.commonObjs,b.objs,b.canvasFactory,b.webGLContext)}},f);else c=(0,o.getShadingPatternFromIR)(c);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);
this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,o.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,e=c.width,f=c.height,c=g.Util.applyTransform([0,
0],b),a=g.Util.applyTransform([0,f],b),d=g.Util.applyTransform([e,0],b),j=g.Util.applyTransform([e,f],b),b=Math.min(c[0],a[0],d[0],j[0]),e=Math.min(c[1],a[1],d[1],j[1]),f=Math.max(c[0],a[0],d[0],j[0]),c=Math.max(c[1],a[1],d[1],j[1]);this.ctx.fillRect(b,e,f-b,c-e)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,g.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,g.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,
c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;c&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||(0,g.info)("TODO: Support non-isolated groups.");a.knockout&&(0,g.warn)("Knockout groups not supported.");
var b=c.mozCurrentTransform;a.matrix&&c.transform.apply(c,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var e=g.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),e=g.Util.intersect(e,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],f=Math.floor(e[0]),d=Math.floor(e[1]),j=Math.max(Math.ceil(e[2])-f,1),k=Math.max(Math.ceil(e[3])-d,1),p=e=1;4096<j&&(e=j/4096,j=4096);4096<k&&(p=k/4096,k=4096);var u="groupAt"+this.groupLevel;a.smask&&(u+="_smask_"+this.smaskCounter++%2);j=this.cachedCanvases.getCanvas(u,
j,k,!0);k=j.context;k.scale(1/e,1/p);k.translate(-f,-d);k.transform.apply(k,b);a.smask?this.smaskStack.push({canvas:j.canvas,context:k,offsetX:f,offsetY:d,scaleX:e,scaleY:p,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(f,d),c.scale(e,p));h(c,k);this.ctx=k;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;
var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,c,b){this.save();f(this.ctx);this.current=new m;Array.isArray(a)&&
4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,b)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,c,b){var e=this.objs.get(a);if(e){this.save();var f=this.ctx;f.scale(1/c,-1/b);f.drawImage(e,0,0,e.width,e.height,0,-b,c,b);this.imageLayer&&(e=f.mozCurrentTransformInverse,f=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:f[0],top:f[1],width:c/e[0],height:b/e[3]}));
this.restore()}else(0,g.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,e=a.height,f=this.current.fillColor,j=this.current.patternFill,k=this.processingType3;k&&void 0===k.compiled&&(k.compiled=1E3>=b&&1E3>=e?l({data:a.data,width:b,height:e}):null);k&&k.compiled?k.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,e),k=c.context,k.save(),d(k,a),k.globalCompositeOperation="source-in",k.fillStyle=j?f.getPattern(k,this):f,k.fillRect(0,0,b,
e),k.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,e){var f=a.width,k=a.height,j=this.current.fillColor,g=this.current.patternFill,h=this.cachedCanvases.getCanvas("maskCanvas",f,k),p=h.context;p.save();d(p,a);p.globalCompositeOperation="source-in";p.fillStyle=g?j.getPattern(p,this):j;p.fillRect(0,0,f,k);p.restore();a=this.ctx;j=0;for(g=e.length;j<g;j+=2)a.save(),a.transform(c,0,0,b,e[j],e[j+1]),a.scale(1,-1),a.drawImage(h.canvas,0,0,f,k,0,-1,1,1),a.restore()},
paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,e=this.current.patternFill,f=0,k=a.length;f<k;f++){var j=a[f],g=j.width,h=j.height,p=this.cachedCanvases.getCanvas("maskCanvas",g,h),u=p.context;u.save();d(u,j);u.globalCompositeOperation="source-in";u.fillStyle=e?b.getPattern(u,this):b;u.fillRect(0,0,g,h);u.restore();c.save();c.transform.apply(c,j.transform);c.scale(1,-1);c.drawImage(p.canvas,0,0,g,h,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?
this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,e){if(a=this.objs.get(a)){for(var f=a.width,d=a.height,k=[],j=0,h=e.length;j<h;j+=2)k.push({transform:[c,0,0,b,e[j],e[j+1]],x:0,y:0,w:f,h:d});this.paintInlineImageXObjectGroup(a,k)}else(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,e=a.height,f=this.ctx;this.save();f.scale(1/c,-1/e);var d=f.mozCurrentTransformInverse,k=d[0],j=d[1],
k=Math.max(Math.sqrt(k*k+j*j),1),j=d[2],g=d[3],j=Math.max(Math.sqrt(j*j+g*g),1),h;if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)g=a;else{h=this.cachedCanvases.getCanvas("inlineImage",c,e);var p=h.context;b(p,a);g=h.canvas}for(var u=c,m=e,n="prescale1";2<k&&1<u||2<j&&1<m;){var q=u,i=m;2<k&&1<u&&(q=Math.ceil(u/2),k/=u/q);2<j&&1<m&&(i=Math.ceil(m/2),j/=m/i);h=this.cachedCanvases.getCanvas(n,q,i);p=h.context;p.clearRect(0,0,q,i);p.drawImage(g,0,0,u,m,0,0,q,i);g=h.canvas;u=q;m=
i;n="prescale1"===n?"prescale2":"prescale1"}f.drawImage(g,0,0,u,m,0,-e,c,e);this.imageLayer&&(f=this.getCanvasPosition(0,-e),this.imageLayer.appendImage({imgData:a,left:f[0],top:f[1],width:c/d[0],height:e/d[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var e=this.ctx,f=a.width,d=a.height,j=this.cachedCanvases.getCanvas("inlineImage",f,d);b(j.context,a);for(var k=0,g=c.length;k<g;k++){var h=c[k];e.save();e.transform.apply(e,h.transform);e.scale(1,-1);e.drawImage(j.canvas,h.x,h.y,
h.w,h.h,0,-1,1,1);this.imageLayer&&(h=this.getCanvasPosition(h.x,h.y),this.imageLayer.appendImage({imgData:a,left:h[0],top:h[1],width:f,height:d}));e.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,g.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=
this.ctx;this.pendingClip&&(this.pendingClip===n?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var q in g.OPS)a.prototype[g.OPS[q]]=
a.prototype[q];return a}();b.CanvasGraphics=d},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.getShadingPatternFromIR=function(a){var b=l[a[0]];if(!b)throw Error("Unknown IR type: ".concat(a[0]));return b.fromIR(a)};b.TilingPattern=void 0;var i=a(1),l={RadialAxial:{fromIR:function(a){var b=a[1],d=a[2],g=a[3],m=a[4],i=a[5],l=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(g[0],g[1],m[0],m[1]):"radial"===b&&(h=a.createRadialGradient(g[0],
g[1],i,m[0],m[1],l));for(var a=0,f=d.length;a<f;++a){var c=d[a];h.addColorStop(c[0],c[1])}return h}}}}},g=function(){function a(b,d,g,m,i,l,t,h){var f=d.coords,c=d.colors,j=b.data,b=4*b.width,e;f[g+1]>f[m+1]&&(e=g,g=m,m=e,e=l,l=t,t=e);f[m+1]>f[i+1]&&(e=m,m=i,i=e,e=t,t=h,h=e);f[g+1]>f[m+1]&&(e=g,g=m,m=e,e=l,l=t,t=e);e=(f[g]+d.offsetX)*d.scaleX;var g=(f[g+1]+d.offsetY)*d.scaleY,k=(f[m]+d.offsetX)*d.scaleX,m=(f[m+1]+d.offsetY)*d.scaleY,p=(f[i]+d.offsetX)*d.scaleX,d=(f[i+1]+d.offsetY)*d.scaleY;if(!(g>=
d))for(var i=c[l],f=c[l+1],l=c[l+2],u=c[t],n=c[t+1],t=c[t+2],q=c[h],y=c[h+1],h=c[h+2],o=Math.round(g),c=Math.round(d),J,I,F,B,z,D,H,A,K=o;K<=c;K++){K<m?(A=K<g?0:g===m?1:(g-K)/(g-m),o=e-(e-k)*A,J=i-(i-u)*A,I=f-(f-n)*A,F=l-(l-t)*A):(A=K>d?1:m===d?0:(m-K)/(m-d),o=k-(k-p)*A,J=u-(u-q)*A,I=n-(n-y)*A,F=t-(t-h)*A);A=K<g?0:K>d?1:(g-K)/(g-d);B=e-(e-p)*A;z=i-(i-q)*A;D=f-(f-y)*A;H=l-(l-h)*A;A=Math.round(Math.min(o,B));for(var L=Math.round(Math.max(o,B)),N=b*K+4*A,O=A;O<=L;O++)A=(o-O)/(o-B),A=0>A?0:1<A?1:A,j[N++]=
J-(J-z)*A|0,j[N++]=I-(I-D)*A|0,j[N++]=F-(F-H)*A|0,j[N++]=255}}return function(b,d,g,m,i,l,t,h){var f=Math.floor(b[0]),c=Math.floor(b[1]),j=Math.ceil(b[2])-f,b=Math.ceil(b[3])-c,e=Math.min(Math.ceil(Math.abs(1.1*j*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*b*d[1])),3E3),j=j/e,b=b/d,g={coords:g,colors:m,offsetX:-f,offsetY:-c,scaleX:1/j,scaleY:1/b},m=e+4,k=d+4;if(h.isEnabled)i=h.drawFigures({width:e,height:d,backgroundColor:l,figures:i,context:g}),t=t.getCanvas("mesh",m,k,!1),t.context.drawImage(i,
2,2);else{t=t.getCanvas("mesh",m,k,!1);h=t.context;d=h.createImageData(e,d);if(l){k=d.data;e=0;for(m=k.length;e<m;e+=4)k[e]=l[0],k[e+1]=l[1],k[e+2]=l[2],k[e+3]=255}for(e=0;e<i.length;e++){var l=d,p=i[e],m=g,k=p.coords,u=p.colors,n=void 0,q=void 0;switch(p.type){case "lattice":for(var p=p.verticesPerRow,q=Math.floor(k.length/p)-1,y=p-1,n=0;n<q;n++)for(var E=n*p,J=0;J<y;J++,E++)a(l,m,k[E],k[E+1],k[E+p],u[E],u[E+1],u[E+p]),a(l,m,k[E+p+1],k[E+1],k[E+p],u[E+p+1],u[E+1],u[E+p]);break;case "triangles":n=
0;for(q=k.length;n<q;n+=3)a(l,m,k[n],k[n+1],k[n+2],u[n],u[n+1],u[n+2]);break;default:throw Error("illegal figure");}}h.putImageData(d,2,2)}i=t.canvas;return{canvas:i,offsetX:f-2*j,offsetY:c-2*b,scaleX:j,scaleY:b}}}();l.Mesh={fromIR:function(a){var b=a[2],d=a[3],l=a[4],m=a[5],x=a[6],v=a[8];return{type:"Pattern",getPattern:function(a,h,f){var c;if(f)c=i.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(c=i.Util.singularValueDecompose2dScale(h.baseTransform),x){var j=i.Util.singularValueDecompose2dScale(x);
c=[c[0]*j[0],c[1]*j[1]]}c=g(m,c,b,d,l,f?null:v,h.cachedCanvases,h.webGLContext);f||(a.setTransform.apply(a,h.baseTransform),x&&a.transform.apply(a,x));a.translate(c.offsetX,c.offsetY);a.scale(c.scaleX,c.scaleY);return a.createPattern(c.canvas,"no-repeat")}}}};l.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};d=function(){function a(b,d,g,m,i){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=
b[7];this.tilingType=b[8];this.color=d;this.canvasGraphicsFactory=m;this.baseTransform=i;this.type="Pattern";this.ctx=g}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,g=this.xstep,l=this.ystep,o=this.paintType,t=this.tilingType,h=this.color,f=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+t);var t=d[0],c=d[1],j=d[2],e=d[3],k=i.Util.singularValueDecompose2dScale(this.matrix),p=i.Util.singularValueDecompose2dScale(this.baseTransform),k=[k[0]*p[0],k[1]*p[1]],g=
this.getSizeAndScale(g,this.ctx.canvas.width,k[0]),l=this.getSizeAndScale(l,this.ctx.canvas.height,k[1]),k=a.cachedCanvases.getCanvas("pattern",g.size,l.size,!0),f=f.createCanvasGraphics(k.context);f.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(f,o,h);f.transform(g.scale,0,0,l.scale,0,0);f.transform(1,0,0,1,-t,-c);this.clipBbox(f,d,t,c,j,e);f.executeOperatorList(b);this.ctx.transform(1,0,0,1,t,c);this.ctx.scale(1/g.scale,1/l.scale);return k.canvas},getSizeAndScale:function(a,b,d){var a=
Math.abs(a),b=Math.max(3E3,b),g=Math.ceil(a*d);g>=b?g=b:d=g/a;return{scale:d,size:g}},clipBbox:function(a,b,d,g,i,l){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,g,i-d,l-g),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var g=a.ctx,a=a.current;switch(b){case 1:b=this.ctx;g.fillStyle=b.fillStyle;g.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=i.Util.makeCssRgb(d[0],d[1],d[2]);g.fillStyle=b;g.strokeStyle=b;a.fillColor=b;a.strokeColor=
b;break;default:throw new i.FormatError("Unsupported paint type: ".concat(b));}},getPattern:function(a,b){a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);var d=this.createPatternCanvas(b);return a.createPattern(d,"repeat")}};return a}();b.TilingPattern=d},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GlobalWorkerOptions=void 0;var a=Object.create(null);b.GlobalWorkerOptions=a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=
void 0===a.workerSrc?"":a.workerSrc},function(d,b,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b,c,d,e,k,g){try{var u=a[k](g),n=u.value}catch(m){c(m);return}u.done?b(n):Promise.resolve(n).then(d,e)}function g(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function k(a){l(u,
d,e,k,g,"next",a)}function g(a){l(u,d,e,k,g,"throw",a)}var u=a.apply(b,c);k(void 0)})}}function o(a,b){return r.apply(this,arguments)}function r(){r=g(v["default"].mark(function f(a,b){var e,d=arguments;return v["default"].wrap(function(f){for(;;)switch(f.prev=f.next){case 0:e=2<d.length&&void 0!==d[2]?d[2]:null;if(a){f.next=3;break}return f.abrupt("return");case 3:return f.abrupt("return",a.apply(e,b));case 4:case "end":return f.stop()}},f)}));return r.apply(this,arguments)}function w(a){if("object"!==
i(a))return a;switch(a.name){case "AbortException":return new t.AbortException(a.message);case "MissingPDFException":return new t.MissingPDFException(a.message);case "UnexpectedResponseException":return new t.UnexpectedResponseException(a.message,a.status);default:return new t.UnknownErrorException(a.message,a.details)}}function s(a,b,c){b?a.resolve():a.reject(c)}function m(a){return Promise.resolve(a)["catch"](function(){})}function x(a,b,c){var d=this;this.sourceName=a;this.targetName=b;this.comObj=
c;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var e=this.callbacksCapabilities=Object.create(null),k=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===d.sourceName)if(b.stream)d._processStreamMessage(b);else if(b.isReply)if(a=b.callbackId,b.callbackId in e){var f=e[a];delete e[a];"error"in b?f.reject(w(b.error)):f.resolve(b.data)}else throw Error("Cannot resolve callback ".concat(a));
else if(b.action in k){var g=k[b.action];if(b.callbackId){var h=d.sourceName,m=b.sourceName;Promise.resolve().then(function(){return g[0].call(g[1],b.data)}).then(function(a){c.postMessage({sourceName:h,targetName:m,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:h,targetName:m,isReply:!0,callbackId:b.callbackId,error:!(a instanceof Error)||a instanceof t.AbortException||a instanceof t.MissingPDFException||a instanceof t.UnexpectedResponseException||a instanceof
t.UnknownErrorException?a:new t.UnknownErrorException(a.message,a.toString())})})}else b.streamId?d._createStreamSink(b):g[0].call(g[1],b.data)}else throw Error("Unknown action from worker: ".concat(b.action));};c.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(b,"__esModule",{value:!0});b.MessageHandler=x;var v=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),t=a(1);x.prototype={on:function(a,b,c){var d=this.actionHandler;if(d[a])throw Error('There is already an actionName called "'.concat(a,
'"'));d[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d},b=(0,t.createPromiseCapability)();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(e){b.reject(e)}return b.promise},sendWithStream:function(a,b,c){var d=this,e=this.streamId++,k=this.sourceName,g=this.targetName;
return new t.ReadableStream({start:function(c){var n=(0,t.createPromiseCapability)();d.streamControllers[e]={controller:c,startCall:n,isClosed:!1};d.postMessage({sourceName:k,targetName:g,action:a,streamId:e,data:b,desiredSize:c.desiredSize});return n.promise},pull:function(a){var c=(0,t.createPromiseCapability)();d.streamControllers[e].pullCall=c;d.postMessage({sourceName:k,targetName:g,stream:"pull",streamId:e,desiredSize:a.desiredSize});return c.promise},cancel:function(a){var c=(0,t.createPromiseCapability)();
d.streamControllers[e].cancelCall=c;d.streamControllers[e].isClosed=!0;d.postMessage({sourceName:k,targetName:g,stream:"cancel",reason:a,streamId:e});return c.promise}},c)},_createStreamSink:function(a){var b=this,c=this,d=this.actionHandler[a.action],e=a.streamId,k=a.desiredSize,g=this.sourceName,u=a.sourceName,m=function(a){b.postMessage({sourceName:g,targetName:u,stream:a.stream,streamId:e,chunk:a.chunk,success:a.success,reason:a.reason},a.transfers)},k={enqueue:function(a){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1,b=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var e=this.desiredSize;this.desiredSize-=c;0<e&&0>=this.desiredSize&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise);m({stream:"enqueue",chunk:a,transfers:b})}},close:function(){this.isCancelled||(this.isCancelled=!0,m({stream:"close"}),delete c.streamSinks[e])},error:function(a){this.isCancelled||(this.isCancelled=!0,m({stream:"error",reason:a}))},sinkCapability:(0,
t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:k,ready:null};k.sinkCapability.resolve();k.ready=k.sinkCapability.promise;this.streamSinks[e]=k;o(d[0],[a.data,k],d[1]).then(function(){m({stream:"start_complete",success:!0})},function(a){m({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,e=a.streamId,k=function(a){b.comObj.postMessage({sourceName:c,targetName:d,stream:a.stream,success:a.success,
streamId:e,reason:a.reason})},g=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&m(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":s(this.streamControllers[a.streamId].startCall,a.success,w(a.reason));break;case "pull_complete":s(this.streamControllers[a.streamId].pullCall,a.success,w(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){k({stream:"pull_complete",
success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;o(this.streamSinks[a.streamId].onPull).then(function(){k({stream:"pull_complete",success:!0})},function(a){k({stream:"pull_complete",success:!1,reason:a})});break;case "enqueue":(0,t.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||
this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":(0,t.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();g();break;case "error":(0,t.assert)(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(w(a.reason));g();
break;case "cancel_complete":s(this.streamControllers[a.streamId].cancelCall,a.success,w(a.reason));g();break;case "cancel":if(!this.streamSinks[a.streamId])break;o(this.streamSinks[a.streamId].onCancel,[w(a.reason)]).then(function(){k({stream:"cancel_complete",success:!0})},function(a){k({stream:"cancel_complete",success:!1,reason:a})});this.streamSinks[a.streamId].sinkCapability.reject(w(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");
}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(d,b,a){function i(a,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function l(a,b,d){b&&i(a.prototype,b);d&&i(a,d);return a}Object.defineProperty(b,"__esModule",{value:!0});b.Metadata=
void 0;var g=a(1),o=a(159),d=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,g.assert)("string"===typeof b,"Metadata: input is not a string");b=this._repair(b);b=(new o.SimpleXMLParser).parseFromString(b);this._metadata=Object.create(null);b&&this._parse(b)}l(a,[{key:"_repair",value:function(a){return a.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,e,d){return String.fromCharCode(64*
b+8*e+1*d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: ".concat(b," isn't defined."));}),g="",i=0,h=d.length;i<h;i+=2)var f=256*d.charCodeAt(i)+d.charCodeAt(i+1),g=32<=f&&127>f&&60!==f&&62!==f&&38!==f?g+String.fromCharCode(f):g+("&#x"+(65536+f).toString(16).substring(1)+";");return">"+g})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==
a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var g=a[b];if("rdf:description"===g.nodeName.toLowerCase())for(var i=0,l=g.childNodes.length;i<l;i++)if("#text"!==g.childNodes[i].nodeName.toLowerCase()){var h=g.childNodes[i];this._metadata[h.nodeName.toLowerCase()]=h.textContent.trim()}}}},{key:"get",value:function(a){a=this._metadata[a];
return"undefined"!==typeof a?a:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();b.Metadata=d},function(d,b){var a;function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b,c){l="undefined"!==typeof Reflect&&Reflect.get?
Reflect.get:function(a,c,b){for(;!Object.prototype.hasOwnProperty.call(a,c)&&!(a=g(a),null===a););if(a)return c=Object.getOwnPropertyDescriptor(a,c),c.get?c.get.call(b):c.value};return l(a,b,c||a)}function g(a){g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return g(a)}function o(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
writable:!0,configurable:!0}});b&&r(a,b)}function r(a,b){r=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return r(a,b)}function w(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function s(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function m(a,b,c){b&&s(a.prototype,b);c&&s(a,c);return a}function x(a,b){var c=a[b];return" "===c||"\n"===
c||"\r"===c||"\t"===c}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleXMLParser=void 0;a=0;var v=function(){function a(){w(this,a)}m(a,[{key:"_resolveEntities",value:function(a){var c=this;return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case "lt":return"<";case "gt":return">";case "amp":return"&";case "quot":return'"'}return c.onResolveEntity(b)})}},
{key:"_parseContent",value:function(a,c){function b(){for(;e<a.length&&x(a,e);)++e}for(var e=c,d,g=[];e<a.length&&!x(a,e)&&">"!==a[e]&&"/"!==a[e];)++e;d=a.substring(c,e);for(b();e<a.length&&">"!==a[e]&&"/"!==a[e]&&"?"!==a[e];){b();for(var h="",m="";e<a.length&&!x(a,e)&&"="!==a[e];)h+=a[e],++e;b();if("="!==a[e])return null;++e;b();m=a[e];if('"'!==m&&"'"!==m)return null;var i=a.indexOf(m,++e);if(0>i)return null;m=a.substring(e,i);g.push({name:h,value:this._resolveEntities(m)});e=i+1;b()}return{name:d,
attributes:g,parsed:e-c}}},{key:"_parseProcessingInstruction",value:function(a,c){for(var b=c,e,d;b<a.length&&!x(a,b)&&">"!==a[b]&&"/"!==a[b];)++b;for(e=a.substring(c,b);b<a.length&&x(a,b);)++b;for(d=b;b<a.length&&("?"!==a[b]||">"!==a[b+1]);)++b;d=a.substring(d,b);return{name:e,value:d,parsed:b-c}}},{key:"parseXml",value:function(a){for(var c=0;c<a.length;){var b=c;if("<"===a[c])switch(++b,c=void 0,a[b]){case "/":++b;c=a.indexOf(">",b);if(0>c){this.onError(-9);return}this.onEndElement(a.substring(b,
c));b=c+1;break;case "?":++b;c=this._parseProcessingInstruction(a,b);if("?>"!==a.substring(b+c.parsed,b+c.parsed+2)){this.onError(-3);return}this.onPi(c.name,c.value);b+=c.parsed+2;break;case "!":if("--"===a.substring(b+1,b+3)){c=a.indexOf("--\>",b+3);if(0>c){this.onError(-5);return}this.onComment(a.substring(b+3,c));b=c+3}else if("[CDATA["===a.substring(b+1,b+8)){c=a.indexOf("]]\>",b+8);if(0>c){this.onError(-2);return}this.onCdata(a.substring(b+8,c));b=c+3}else if("DOCTYPE"===a.substring(b+1,b+8)){var e=
a.indexOf("[",b+8),d=!1,c=a.indexOf(">",b+8);if(0>c){this.onError(-4);return}if(0<e&&c>e){c=a.indexOf("]>",b+8);if(0>c){this.onError(-4);return}d=!0}this.onDoctype(a.substring(b+8,c+(d?1:0)));b=c+(d?2:1)}else{this.onError(-6);return}break;default:c=this._parseContent(a,b);if(null===c){this.onError(-6);return}e=!1;if("/>"===a.substring(b+c.parsed,b+c.parsed+2))e=!0;else if(">"!==a.substring(b+c.parsed,b+c.parsed+1)){this.onError(-9);return}this.onBeginElement(c.name,c.attributes,e);b+=c.parsed+(e?
2:1)}else{for(;b<a.length&&"<"!==a[b];)b++;this.onText(this._resolveEntities(a.substring(c,b)))}c=b}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]);return a}(),t=function(){function a(b,
c){w(this,a);this.nodeName=b;this.nodeValue=c;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}m(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var a=this.parentNode.childNodes;if(a){var c=a.indexOf(this);return-1===c?void 0:a[c+1]}}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);
return a}(),v=function(b){function d(){var c;w(this,d);c=g(d).call(this);if(!c||!("object"===i(c)||"function"===typeof c)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}c._currentFragment=null;c._stack=null;c._errorCode=a;return c}o(d,b);m(d,[{key:"parseFromString",value:function(c){this._currentFragment=[];this._stack=[];this._errorCode=a;this.parseXml(c);if(this._errorCode===a){var b;c=this._currentFragment;Array.isArray(c)&&(b=c);
if(!b){b=[];var c=!0,e=!1,d=void 0;try{for(var f=this._currentFragment[Symbol.iterator](),g;!(c=(g=f.next()).done)&&!(b.push(g.value),1===b.length);c=!0);}catch(h){e=!0,d=h}finally{try{if(!c&&null!=f["return"])f["return"]()}finally{if(e)throw d;}}if(!b)throw new TypeError("Invalid attempt to destructure non-iterable instance");}f=b[0];return!f?void 0:{documentElement:f}}}},{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return l(g(d.prototype),"onResolveEntity",this).call(this,
a)}},{key:"onText",value:function(a){var b;a:{b=0;for(var e=a.length;b<e;b++)if(!x(a,b)){b=!1;break a}b=!0}b||this._currentFragment.push(new t("#text",a))}},{key:"onCdata",value:function(a){this._currentFragment.push(new t("#text",a))}},{key:"onBeginElement",value:function(a,b,e){a=new t(a);a.childNodes=[];this._currentFragment.push(a);e||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop()||[];
var a=this._currentFragment[this._currentFragment.length-1];if(a)for(var b=0,e=a.childNodes.length;b<e;b++)a.childNodes[b].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return d}(v);b.SimpleXMLParser=v},function(d,b,a){function i(a,b,d,g,i,l,t){try{var h=a[l](t),f=h.value}catch(c){d(c);return}h.done?b(f):Promise.resolve(f).then(g,i)}function l(a){return function(){var b=this,d=arguments;return new Promise(function(g,l){function o(a){i(h,g,l,o,t,"next",a)}function t(a){i(h,
g,l,o,t,"throw",a)}var h=a.apply(b,d);o(void 0)})}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFDataTransportStream=void 0;var g=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),o=a(1),d=function(){function a(b,d){var g=this;(0,o.assert)(d);this._queuedChunks=[];var i=b.initialData;i&&0<i.length&&this._queuedChunks.push((new Uint8Array(i)).buffer);this._pdfDataRangeTransport=d;this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._contentLength=
b.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){g._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a){g._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){g._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}function b(a,d){this._stream=a;this._done=!1;this._filename=null;this._queuedChunks=d||[];this._requests=[];this._headersReady=
Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function d(a,b,g){this._stream=a;this._begin=b;this._end=g;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}a.prototype={_onReceiveData:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var d=this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(b);return!0});(0,o.assert)(d)}},
_onProgress:function(a){if(0<this._rangeReaders.length){var b=this._rangeReaders[0];if(b.onProgress)b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,o.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new b(this,a)},getRangeReader:function(a,b){var g=new d(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(g);return g},
cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}};b.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},
get contentLength(){return this._stream._contentLength},read:function(){var a=l(g["default"].mark(function v(){var a,b;return g["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(0<this._queuedChunks.length)){d.next=3;break}a=this._queuedChunks.shift();return d.abrupt("return",{value:a,done:!1});case 3:if(!this._done){d.next=5;break}return d.abrupt("return",{value:void 0,done:!0});case 5:return b=(0,o.createPromiseCapability)(),this._requests.push(b),d.abrupt("return",b.promise);
case 8:case "end":return d.stop()}},v,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};d.prototype={_enqueue:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},
get isStreamingSupported(){return!1},read:function(){var a=l(g["default"].mark(function v(){var a,b;return g["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this._queuedChunk){d.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return d.abrupt("return",{value:a,done:!1});case 4:if(!this._done){d.next=6;break}return d.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,o.createPromiseCapability)(),this._requests.push(b),d.abrupt("return",b.promise);case 9:case "end":return d.stop()}},
v,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return a}();b.PDFDataTransportStream=d},function(d,b,a){function i(a,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function l(a,b,d){b&&i(a.prototype,b);d&&i(a,d);return a}
Object.defineProperty(b,"__esModule",{value:!0});b.WebGLContext=void 0;var g=a(1),d=function(){function a(b){b=b.enable;b=void 0===b?!1:b;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===b}l(a,[{key:"composeSMask",value:function(a){return o.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return o.drawFigures(a.width,a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){o.cleanup()}},{key:"isEnabled",
get:function(){var a=this._enabled;a&&(a=o.tryInitGL());return(0,g.shadow)(this,"isEnabled",a)}}]);return a}();b.WebGLContext=d;var o=function(){function a(b,c,d){d=b.createShader(d);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(d),Error("Error during shader compilation: "+b);return d}function b(a,c){for(var d=a.createProgram(),e=0,g=c.length;e<g;++e)a.attachShader(d,c[e]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=
a.getProgramInfoLog(d),Error("Error during program linking: "+d);return d}function d(a,c,b){a.activeTexture(b);b=a.createTexture();a.bindTexture(a.TEXTURE_2D,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c);return b}function g(){i||(l=document.createElement("canvas"),
i=l.getContext("webgl",{premultipliedalpha:!1}))}var i,l,t=null,h=null;return{tryInitGL:function(){try{return g(),!!i}catch(a){}return!1},composeSMask:function(f,c,j){var e=f.width,k=f.height;if(!t){var p,h;g();p=l;l=null;h=i;i=null;var n=a(h,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
h.VERTEX_SHADER),q=a(h,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
h.FRAGMENT_SHADER),y=b(h,[n,q]);h.useProgram(y);n={};n.gl=h;n.canvas=p;n.resolutionLocation=h.getUniformLocation(y,"u_resolution");n.positionLocation=h.getAttribLocation(y,"a_position");n.backdropLocation=h.getUniformLocation(y,"u_backdrop");n.subtypeLocation=h.getUniformLocation(y,"u_subtype");p=h.getAttribLocation(y,"a_texCoord");var q=h.getUniformLocation(y,"u_image"),y=h.getUniformLocation(y,"u_mask"),o=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,o);h.bufferData(h.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),h.STATIC_DRAW);h.enableVertexAttribArray(p);h.vertexAttribPointer(p,2,h.FLOAT,!1,0,0);h.uniform1i(q,0);h.uniform1i(y,1);t=n}h=t;n=h.canvas;p=h.gl;n.width=e;n.height=k;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(h.resolutionLocation,e,k);j.backdrop?p.uniform4f(h.resolutionLocation,j.backdrop[0],j.backdrop[1],j.backdrop[2],1):p.uniform4f(h.resolutionLocation,0,0,0,0);p.uniform1i(h.subtypeLocation,"Luminosity"===j.subtype?1:0);f=d(p,f,p.TEXTURE0);c=
d(p,c,p.TEXTURE1);j=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,j);p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,k,0,k,e,0,e,k]),p.STATIC_DRAW);p.enableVertexAttribArray(h.positionLocation);p.vertexAttribPointer(h.positionLocation,2,p.FLOAT,!1,0,0);p.clearColor(0,0,0,0);p.enable(p.BLEND);p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA);p.clear(p.COLOR_BUFFER_BIT);p.drawArrays(p.TRIANGLES,0,6);p.flush();p.deleteTexture(f);p.deleteTexture(c);p.deleteBuffer(j);return n},drawFigures:function(d,c,j,
e,k){if(!h){var p,u;g();p=l;l=null;u=i;i=null;var n=a(u,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
u.VERTEX_SHADER),q=a(u,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",u.FRAGMENT_SHADER),n=b(u,[n,
q]);u.useProgram(n);q={};q.gl=u;q.canvas=p;q.resolutionLocation=u.getUniformLocation(n,"u_resolution");q.scaleLocation=u.getUniformLocation(n,"u_scale");q.offsetLocation=u.getUniformLocation(n,"u_offset");q.positionLocation=u.getAttribLocation(n,"a_position");q.colorLocation=u.getAttribLocation(n,"a_color");h=q}p=h;u=p.canvas;n=p.gl;u.width=d;u.height=c;n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);n.uniform2f(p.resolutionLocation,d,c);var d=0,t,o,s;t=0;for(o=e.length;t<o;t++)switch(e[t].type){case "lattice":s=
e[t].coords.length/e[t].verticesPerRow|0;d+=6*(s-1)*(e[t].verticesPerRow-1);break;case "triangles":d+=e[t].coords.length}var q=new Float32Array(2*d),c=new Uint8Array(3*d),I=k.coords,F=k.colors,B=0,z=0;t=0;for(o=e.length;t<o;t++){s=e[t];var D=s.coords,H=s.colors;switch(s.type){case "lattice":var A=s.verticesPerRow;s=D.length/A|0;for(var K=1;K<s;K++)for(var L=K*A+1,N=1;N<A;N++,L++)q[B]=I[D[L-A-1]],q[B+1]=I[D[L-A-1]+1],q[B+2]=I[D[L-A]],q[B+3]=I[D[L-A]+1],q[B+4]=I[D[L-1]],q[B+5]=I[D[L-1]+1],c[z]=F[H[L-
A-1]],c[z+1]=F[H[L-A-1]+1],c[z+2]=F[H[L-A-1]+2],c[z+3]=F[H[L-A]],c[z+4]=F[H[L-A]+1],c[z+5]=F[H[L-A]+2],c[z+6]=F[H[L-1]],c[z+7]=F[H[L-1]+1],c[z+8]=F[H[L-1]+2],q[B+6]=q[B+2],q[B+7]=q[B+3],q[B+8]=q[B+4],q[B+9]=q[B+5],q[B+10]=I[D[L]],q[B+11]=I[D[L]+1],c[z+9]=c[z+3],c[z+10]=c[z+4],c[z+11]=c[z+5],c[z+12]=c[z+6],c[z+13]=c[z+7],c[z+14]=c[z+8],c[z+15]=F[H[L]],c[z+16]=F[H[L]+1],c[z+17]=F[H[L]+2],B+=12,z+=18;break;case "triangles":s=0;for(A=D.length;s<A;s++)q[B]=I[D[s]],q[B+1]=I[D[s]+1],c[z]=F[H[s]],c[z+1]=
F[H[s]+1],c[z+2]=F[H[s]+2],B+=2,z+=3}}j?n.clearColor(j[0]/255,j[1]/255,j[2]/255,1):n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);j=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,j);n.bufferData(n.ARRAY_BUFFER,q,n.STATIC_DRAW);n.enableVertexAttribArray(p.positionLocation);n.vertexAttribPointer(p.positionLocation,2,n.FLOAT,!1,0,0);e=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,e);n.bufferData(n.ARRAY_BUFFER,c,n.STATIC_DRAW);n.enableVertexAttribArray(p.colorLocation);n.vertexAttribPointer(p.colorLocation,
3,n.UNSIGNED_BYTE,!1,0,0);n.uniform2f(p.scaleLocation,k.scaleX,k.scaleY);n.uniform2f(p.offsetLocation,k.offsetX,k.offsetY);n.drawArrays(n.TRIANGLES,0,d);n.flush();n.deleteBuffer(j);n.deleteBuffer(e);return u},cleanup:function(){t&&t.canvas&&(t.canvas.width=0,t.canvas.height=0);h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);h=t=null}}}()},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.renderTextLayer=void 0;var i=a(1),l=function(a){return a&&a.__esModule?a:{"default":a}}(a(3)),
d=function(){function a(b){if(!b._canceled){var d=b._textDivs,f=b._capability,c=d.length;if(!(c>m)&&!b._textContentStream)for(var g=0;g<c;g++)b._layoutText(d[g]);b._renderingDone=!0;f.resolve()}}function b(a){for(var g=a._bounds,f=a._viewport,f=d(f.width,f.height,g),c=0;c<f.length;c++){var j=g[c].div,e=a._textDivProperties.get(j);if(0===e.angle)e.paddingLeft=g[c].left-f[c].left,e.paddingTop=g[c].top-f[c].top,e.paddingRight=f[c].right-g[c].right,e.paddingBottom=f[c].bottom-g[c].bottom;else{var k=f[c],
p=g[c],u=p.m,n=u[0],m=u[1],p=[[0,0],[0,p.size[1]],[p.size[0],0],p.size],l=new Float64Array(64);p.forEach(function(a,c){var b=i.Util.applyTransform(a,u);l[c+0]=n&&(k.left-b[0])/n;l[c+4]=m&&(k.top-b[1])/m;l[c+8]=n&&(k.right-b[0])/n;l[c+12]=m&&(k.bottom-b[1])/m;l[c+16]=m&&(k.left-b[0])/-m;l[c+20]=n&&(k.top-b[1])/n;l[c+24]=m&&(k.right-b[0])/-m;l[c+28]=n&&(k.bottom-b[1])/n;l[c+32]=n&&(k.left-b[0])/-n;l[c+36]=m&&(k.top-b[1])/-m;l[c+40]=n&&(k.right-b[0])/-n;l[c+44]=m&&(k.bottom-b[1])/-m;l[c+48]=m&&(k.left-
b[0])/m;l[c+52]=n&&(k.top-b[1])/-n;l[c+56]=m&&(k.right-b[0])/m;l[c+60]=n&&(k.bottom-b[1])/-n});var p=function(a,c,b){for(var e=0,d=0;d<b;d++){var f=a[c++];0<f&&(e=e?Math.min(f,e):f)}return e},o=1+Math.min(Math.abs(n),Math.abs(m));e.paddingLeft=p(l,32,16)/o;e.paddingTop=p(l,48,16)/o;e.paddingRight=p(l,0,16)/o;e.paddingBottom=p(l,16,16)/o}a._textDivProperties.set(j,e)}}function d(a,b,f){var c=f.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});w(a,
c);var g=Array(f.length);c.forEach(function(a){g[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});f.map(function(b,d){var f=g[d],h=c[d];h.x1=b.top;h.y1=a-f.right;h.x2=b.bottom;h.y2=a-f.left;h.index=d;h.x1New=void 0;h.x2New=void 0});w(b,c);c.forEach(function(a){var c=a.index;g[c].top=a.x1New;g[c].bottom=a.x2New});return g}function w(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var e=d.length-1;0<=e&&d[e].start>=a.y2;)e--;var g,h,i,n=-Infinity;for(i=b;i<=e;i++){g=d[i];h=g.boundary;var m;m=h.x2>a.x1?h.index>a.index?h.x1New:a.x1:void 0===h.x2New?(h.x2+a.x1)/2:h.x2New;m>n&&(n=m)}a.x1New=n;for(i=b;i<=e;i++)g=d[i],h=g.boundary,void 0===h.x2New?h.x2>a.x1?h.index>a.index&&(h.x2New=h.x2):h.x2New=n:h.x2New>n&&(h.x2New=Math.max(n,h.x2));m=[];var l=null;for(i=b;i<=e;i++)g=d[i],h=g.boundary,h=h.x2>
a.x2?h:a,l===h?m[m.length-1].end=g.end:(m.push({start:g.start,end:g.end,boundary:h}),l=h);d[b].start<a.y1&&(m[0].start=a.y1,m.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[e].end&&(m[m.length-1].end=a.y2,m.push({start:a.y2,end:d[e].end,boundary:d[e].boundary}));for(i=b;i<=e;i++)if(g=d[i],h=g.boundary,void 0===h.x2New){g=!1;for(a=b-1;!g&&0<=a&&d[a].start>=h.y1;a--)g=d[a].boundary===h;for(a=e+1;!g&&a<d.length&&d[a].end<=h.y2;a++)g=d[a].boundary===h;for(a=0;!g&&a<m.length;a++)g=
m[a].boundary===h;g||(h.x2New=n)}Array.prototype.splice.apply(d,[b,e-b+1].concat(m))});d.forEach(function(b){b=b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function s(a){var b=this,d=a.textContentStream,c=a.container,g=a.viewport,e=a.textDivs,k=a.textContentItemsStr,p=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=d;this._container=c;this._viewport=g;this._textDivs=e||[];this._textContentItemsStr=k||[];this._enhanceTextSelection=!!p;this._fontInspectorEnabled=
!(!l["default"].FontInspector||!l["default"].FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,i.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){b._layoutTextCtx&&(b._layoutTextCtx.canvas.width=0,b._layoutTextCtx.canvas.height=0,b._layoutTextCtx=null)})}var m=1E5,x=/\S/,
v=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];s.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0;this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null);null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject(Error("TextLayer task cancelled."))},_processItems:function(a,b){for(var d=0,c=a.length;d<c;d++){this._textContentItemsStr.push(a[d].str);
var g=a[d],e=b,k=document.createElement("span"),p={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(k);if(x.test(g.str)){var m=i.Util.transform(this._viewport.transform,g.transform),n=Math.atan2(m[1],m[0]),l=e[g.fontName];l.vertical&&(n+=Math.PI/2);var o=Math.sqrt(m[2]*m[2]+m[3]*m[3]),r=o;l.ascent?r*=l.ascent:l.descent&&(r*=1+l.descent);var s=e=void 0;0===n?(e=m[4],s=m[5]-r):(e=m[4]+r*Math.sin(n),
s=m[5]-r*Math.cos(n));v[1]=e;v[3]=s;v[5]=o;v[7]=l.fontFamily;p.style=v.join("");k.setAttribute("style",p.style);k.textContent=g.str;this._fontInspectorEnabled&&(k.dataset.fontName=g.fontName);0!==n&&(p.angle=n*(180/Math.PI));1<g.str.length&&(p.canvasWidth=l.vertical?g.height*this._viewport.scale:g.width*this._viewport.scale);this._textDivProperties.set(k,p);this._textContentStream&&this._layoutText(k);this._enhanceTextSelection&&(p=1,m=0,0!==n&&(p=Math.cos(n),m=Math.sin(n)),g=(l.vertical?g.height:
g.width)*this._viewport.scale,r=l=void 0,0!==n?(l=[p,m,-m,p,e,s],r=i.Util.getAxialAlignedBoundingBox([0,0,g,o],l)):r=[e,s,e+g,s+o],this._bounds.push({left:r[0],top:r[1],right:r[2],bottom:r[3],div:k,size:[g,o],m:l}))}else p.isWhitespace=!0,this._textDivProperties.set(k,p)}},_layoutText:function(a){var b=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var c=a.style.fontSize,g=a.style.fontFamily;if(c!==this._layoutTextLastFontSize||g!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=
c+" "+g,this._layoutTextLastFontSize=c,this._layoutTextLastFontFamily=g;c=this._layoutTextCtx.measureText(a.textContent).width;g="";0!==d.canvasWidth&&0<c&&(d.scale=d.canvasWidth/c,g="scaleX(".concat(d.scale,")"));0!==d.angle&&(g="rotate(".concat(d.angle,"deg) ").concat(g));0<g.length&&(d.originalTransform=g,a.style.transform=g);this._textDivProperties.set(a,d);b.appendChild(a)}},_render:function(b){var d=this,f=(0,i.createPromiseCapability)(),c=Object.create(null),j=document.createElement("canvas");
j.mozOpaque=!0;this._layoutTextCtx=j.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),f.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function k(){d._reader.read().then(function(a){var b=a.value;a.done?f.resolve():(Object.assign(c,b.styles),d._processItems(b.items,c),k())},f.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');f.promise.then(function(){c=
null;b?d._renderTimer=setTimeout(function(){a(d);d._renderTimer=null},b):a(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(b(this),this._bounds=null);for(var d=0,f=this._textDivs.length;d<f;d++){var c=this._textDivs[d],g=this._textDivProperties.get(c);if(!g.isWhitespace)if(a){var e="",k="";1!==g.scale&&(e="scaleX("+g.scale+")");0!==g.angle&&(e="rotate("+g.angle+"deg) "+e);0!==g.paddingLeft&&(k+=" padding-left: "+g.paddingLeft/
g.scale+"px;",e+=" translateX("+-g.paddingLeft/g.scale+"px)");0!==g.paddingTop&&(k+=" padding-top: "+g.paddingTop+"px;",e+=" translateY("+-g.paddingTop+"px)");0!==g.paddingRight&&(k+=" padding-right: "+g.paddingRight/g.scale+"px;");0!==g.paddingBottom&&(k+=" padding-bottom: "+g.paddingBottom+"px;");""!==k&&c.setAttribute("style",g.style+k);""!==e&&(c.style.transform=e)}else c.style.padding=0,c.style.transform=g.originalTransform||""}}}};return function(a){var b=new s({textContent:a.textContent,textContentStream:a.textContentStream,
container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);return b}}();b.renderTextLayer=d},function(d,b,a){function i(a,b,c){i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&!(a=r(a),null===a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return i(a,b,c||a)}function l(a){l="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}function g(a,b){return b&&("object"===l(b)||"function"===typeof b)?b:o(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function r(a){r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};
return r(a)}function w(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&s(a,b)}function s(a,b){s=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return s(a,b)}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||
!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}Object.defineProperty(b,"__esModule",{value:!0});b.AnnotationLayer=void 0;var t=a(151),h=a(1),f=function(){function a(){m(this,a)}v(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case h.AnnotationType.LINK:return new j(a);case h.AnnotationType.TEXT:return new e(a);case h.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new p(a);
case "Btn":return a.data.radioButton?new n(a):a.data.checkBox?new u(a):new q(a);case "Ch":return new y(a)}return new k(a);case h.AnnotationType.POPUP:return new E(a);case h.AnnotationType.LINE:return new I(a);case h.AnnotationType.SQUARE:return new F(a);case h.AnnotationType.CIRCLE:return new B(a);case h.AnnotationType.POLYLINE:return new z(a);case h.AnnotationType.INK:return new H(a);case h.AnnotationType.POLYGON:return new D(a);case h.AnnotationType.HIGHLIGHT:return new A(a);case h.AnnotationType.UNDERLINE:return new K(a);
case h.AnnotationType.SQUIGGLY:return new L(a);case h.AnnotationType.STRIKEOUT:return new N(a);case h.AnnotationType.STAMP:return new O(a);case h.AnnotationType.FILEATTACHMENT:return new V(a);default:return new c(a)}}}]);return a}(),c=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;m(this,a);this.isRenderable=c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=
b.linkService;this.downloadManager=b.downloadManager;this.imageResourcesPath=b.imageResourcesPath;this.renderInteractiveForms=b.renderInteractiveForms;this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(e))}v(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,e=this.viewport,d=document.createElement("section"),f=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];d.setAttribute("data-annotation-id",b.id);c=h.Util.normalizeRect([b.rect[0],
c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);d.style.transform="matrix("+e.transform.join(",")+")";d.style.transformOrigin=-c[0]+"px "+-c[1]+"px";if(!a&&0<b.borderStyle.width){d.style.borderWidth=b.borderStyle.width+"px";b.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(f-=2*b.borderStyle.width,g-=2*b.borderStyle.width);a=b.borderStyle.horizontalCornerRadius;e=b.borderStyle.verticalCornerRadius;if(0<a||0<e)d.style.borderRadius=a+"px / "+e+"px";switch(b.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:d.style.borderStyle=
"solid";break;case h.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}b.color?d.style.borderColor=h.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):d.style.borderWidth=0}d.style.left=c[0]+"px";d.style.top=c[1]+
"px";d.style.width=f+"px";d.style.height=g+"px";return d}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new J({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),j=function(a){function b(a){m(this,
b);var c=!(!a.data.url&&!a.data.dest&&!a.data.action);return g(this,r(b).call(this,a,c))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,b=this.linkService,c=document.createElement("a");(0,t.addLinkAttributes)(c,{url:a.url,target:a.newWindow?t.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel});a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",
value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);return!1};a.className="internalLink"}}]);return b}(c),e=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,
a,c))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);
return this.container}}]);return b}(c),k=function(a){function b(){m(this,b);return g(this,r(b).apply(this,arguments))}w(b,a);v(b,[{key:"render",value:function(){return this.container}}]);return b}(c),p=function(a){function b(a){m(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return g(this,r(b).call(this,a,c))}w(b,a);v(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?
(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;b.classList.add("comb");b.style.letterSpacing="calc("+c+"px - 1ch)"}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",
b.style.display="table-cell",c=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(c=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);return this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize=this.data.fontSize+"px";c.direction=0>this.data.fontDirection?"rtl":"ltr";b&&(c.fontWeight=b.black?b.bold?"900":"bold":
b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal",c.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]);return b}(k),u=function(a){function b(a){m(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&
a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(k),n=function(a){function b(a){m(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);
return this.container}}]);return b}(k),q=function(a){function b(){m(this,b);return g(this,r(b).apply(this,arguments))}w(b,a);v(b,[{key:"render",value:function(){var a=i(r(b.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return b}(j),y=function(a){function b(a){m(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");
a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var e=this.data.options[b],d=document.createElement("option");d.textContent=e.displayValue;d.value=e.exportValue;this.data.fieldValue.includes(e.displayValue)&&d.setAttribute("selected",!0);a.appendChild(d)}this.container.appendChild(a);return this.container}}]);return b}(k),E=function(a){function b(a){m(this,b);var c=!(!a.data.title&&
!a.data.contents);return g(this,r(b).call(this,a,c))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if("Line Square Circle PolyLine Polygon Ink".split(" ").includes(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var b=new J({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),c=parseFloat(a.style.left),
e=parseFloat(a.style.width);this.container.style.transformOrigin=-(c+e)+"px -"+a.style.top;this.container.style.left=c+e+"px";this.container.appendChild(b.render());return this.container}}]);return b}(c),J=function(){function a(b){m(this,a);this.container=b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.contents=b.contents;this.hideWrapper=b.hideWrapper||!1;this.pinned=!1}v(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";
this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=h.Util.makeCssRgb(0.7*(255-c[0])+c[0]|0,0.7*(255-c[1])+c[1]|0,0.7*(255-c[2])+c[2]|0));var c=this._formatContents(this.contents),e=document.createElement("h1");e.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,
!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));b.appendChild(e);b.appendChild(c);a.appendChild(b);return a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),a=a.split(/(?:\r\n?|\n)/),c=0,e=a.length;c<e;++c)b.appendChild(document.createTextNode(a[c])),c<e-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",
value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),I=function(a){function b(a){m(this,b);
var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);
c.setAttribute("stroke-width",a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,c,a);return this.container}}]);return b}(c),F=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],e=this.svgFactory.create(b,
c),d=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",d/2);f.setAttribute("y",d/2);f.setAttribute("width",b-d);f.setAttribute("height",c-d);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);this._createPopup(this.container,f,a);return this.container}}]);return b}(c),B=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,
r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],e=this.svgFactory.create(b,c),d=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",b/2);f.setAttribute("cy",c/2);f.setAttribute("rx",b/2-d/2);f.setAttribute("ry",c/2-d/2);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);
this._createPopup(this.container,f,a);return this.container}}]);return b}(c),z=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=g(this,r(b).call(this,a,c,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}w(b,a);v(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.vertices,e=[],d=0,f=c.length;d<
f;d++)e.push(c[d].x-a.rect[0]+","+(a.rect[3]-c[d].y));e=e.join(" ");c=a.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",e);d.setAttribute("stroke-width",c);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");b.appendChild(d);this.container.append(b);this._createPopup(this.container,d,a);return this.container}}]);return b}(c),D=function(a){function b(a){m(this,b);a=g(this,r(b).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName=
"svg:polygon";return a}w(b,a);return b}(z),H=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=g(this,r(b).call(this,a,c,!0));a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}w(b,a);v(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.inkLists,e=0,d=c.length;e<d;e++){for(var f=c[e],g=[],k=0,j=f.length;k<
j;k++)g.push(f[k].x-a.rect[0]+","+(a.rect[3]-f[k].y));g=g.join(" ");f=a.borderStyle.width;k=this.svgFactory.createElement(this.svgElementName);k.setAttribute("points",g);k.setAttribute("stroke-width",f);k.setAttribute("stroke","transparent");k.setAttribute("fill","none");this._createPopup(this.container,k,a);b.appendChild(k)}this.container.append(b);return this.container}}]);return b}(c),A=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,
r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(c),K=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,
this.data);return this.container}}]);return b}(c),L=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(c),N=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,
a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(c),O=function(a){function b(a){m(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}w(b,a);v(b,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);
return b}(c),V=function(a){function b(a){m(this,b);var a=g(this,r(b).call(this,a,!0)),c=a.data.file,e=c.filename,c=c.content;a.filename=(0,t.getFilenameFromUrl)(e);a.content=c;a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:o(a),id:(0,h.stringToPDFString)(e),filename:e,content:c});return a}w(b,a);v(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;
a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(c),d=function(){function a(){m(this,
a)}v(a,null,[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.annotations[b];e&&(e=f.create({data:e,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new t.DOMSVGFactory}),e.isRenderable&&a.div.appendChild(e.render()))}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.div.querySelector('[data-annotation-id="'+
a.annotations[b].id+'"]');e&&(e.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();b.AnnotationLayer=d},function(d,b,a){var i,l;Object.defineProperty(b,"__esModule",{value:!0});b.SVGGraphics=void 0;var g=a(1),o=a(151),r=function(a){return a&&a.__esModule?a:{"default":a}}(a(4));b.SVGGraphics=function(){throw Error("Not implemented: SVGGraphics");};i="normal";l="#000000";var w=function(){function a(b,f,e,g){var h=g,i=f.length;e[h]=i>>24&255;
e[h+1]=i>>16&255;e[h+2]=i>>8&255;e[h+3]=i&255;h+=4;e[h]=b.charCodeAt(0)&255;e[h+1]=b.charCodeAt(1)&255;e[h+2]=b.charCodeAt(2)&255;e[h+3]=b.charCodeAt(3)&255;h+=4;e.set(f,h);h+=f.length;b=-1;for(g+=4;g<h;g++)b=b>>>8^d[(b^e[g])&255];g=b^-1;e[h]=g>>24&255;e[h+1]=g>>16&255;e[h+2]=g>>8&255;e[h+3]=g&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),i=0;256>i;i++){for(var h=i,f=0;8>f;f++)h=h&1?3988292384^h>>1&2147483647:h>>1&2147483647;d[i]=h}return function(c,d,e){var f=void 0===
c.kind?g.ImageKind.GRAYSCALE_1BPP:c.kind,h=c.width,i=c.height,n,l,o,s=c.data;switch(f){case g.ImageKind.GRAYSCALE_1BPP:l=0;n=1;o=h+7>>3;break;case g.ImageKind.RGB_24BPP:l=2;n=8;o=3*h;break;case g.ImageKind.RGBA_32BPP:l=6;n=8;o=4*h;break;default:throw Error("invalid format");}var c=new Uint8Array((1+o)*i),t=0,w=0,v;for(v=0;v<i;++v)c[t++]=0,c.set(s.subarray(w,w+o),t),w+=o,t+=o;if(f===g.ImageKind.GRAYSCALE_1BPP&&e)for(v=t=0;v<i;v++){t++;for(e=0;e<o;e++)c[t++]^=255}var h=new Uint8Array([h>>24&255,h>>
16&255,h>>8&255,h&255,i>>24&255,i>>16&255,i>>8&255,i&255,n,l,0,0,0]),B;a:{if((0,r["default"])())try{var z;z=8<=parseInt(process.versions.node)?c:new Buffer(c);var D=require("zlib").deflateSync(z,{level:9});B=D instanceof Uint8Array?D:new Uint8Array(D);break a}catch(H){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+H)}D=c.length;B=Math.ceil(D/65535);B=new Uint8Array(2+D+5*B+4);z=0;B[z++]=120;B[z++]=156;for(i=0;65535<D;)B[z++]=0,B[z++]=255,B[z++]=255,B[z++]=0,B[z++]=0,B.set(c.subarray(i,
i+65535),z),z+=65535,i+=65535,D-=65535;B[z++]=1;B[z++]=D&255;B[z++]=D>>8&255;B[z++]=~D&255;B[z++]=(~D&65535)>>8&255;B.set(c.subarray(i),z);z+=c.length-i;D=1;for(e=i=0;e<c.length;++e)D=(D+(c[e]&255))%65521,i=(i+D)%65521;c=i<<16|D;B[z++]=c>>24&255;B[z++]=c>>16&255;B[z++]=c>>8&255;B[z++]=c&255}c=new Uint8Array(b.length+36+h.length+B.length);z=0;c.set(b,z);z+=b.length;a("IHDR",h,c,z);z+=12+h.length;a("IDATA",B,c,z);z+=12+B.length;a("IEND",new Uint8Array(0),c,z);return(0,g.createObjectURL)(c,"image/png",
d)}}(),s=function(){function a(){this.fontSizeScale=1;this.fontWeight=i;this.fontSize=0;this.textMatrix=g.IDENTITY_MATRIX;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=g.TextRenderingMode.FILL;this.textMatrixScale=1;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.fillColor=l;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=
[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();b.SVGGraphics=function(){function a(b){if(Number.isInteger(b))return b.toString();var b=b.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substring(0,"."===b[c]?c:c+1)}function b(c){if(0===c[4]&&0===c[5]){if(0===c[1]&&0===c[2])return 1===c[0]&&1===c[3]?
"":"scale("+a(c[0])+" "+a(c[3])+")";if(c[0]===c[3]&&c[1]===-c[2])return c=180*Math.acos(c[0])/Math.PI,"rotate("+a(c)+")"}else if(1===c[0]&&0===c[1]&&0===c[2]&&1===c[3])return"translate("+a(c[4])+" "+a(c[5])+")";return"matrix("+a(c[0])+" "+a(c[1])+" "+a(c[2])+" "+a(c[3])+" "+a(c[4])+" "+a(c[5])+")"}function d(a,b,c){this.svgFactory=new o.DOMSVGFactory;this.current=new s;this.transformMatrix=g.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.pendingClip=null;
this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!c}var r=["butt","round","square"],h=["miter","round","bevel"],f=0,c=0,j=0;d.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();this.executeOpTree(a);
this.restore()},loadDependencies:function(a){for(var b=this,c=a.fnArray,d=c.length,a=a.argsArray,f=0;f<d;f++)if(g.OPS.dependency===c[f])for(var h=a[f],j=0,i=h.length;j<i;j++){var l=h[j];this.current.dependencies.push("g_"===l.substring(0,2)?new Promise(function(a){b.commonObjs.get(l,a)}):new Promise(function(a){b.objs.get(l,a)}))}return Promise.all(this.current.dependencies)},transform:function(a,b,c,d,f,h){this.transformMatrix=g.Util.transform(this.transformMatrix,[a,b,c,d,f,h]);this.tgrp=null},
getSVG:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=g.IDENTITY_MATRIX;var b=c.convertOpList(a);c.executeOpTree(b);return d})},convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,f=[],a=[],h;for(h in g.OPS)f[g.OPS[h]]=h;for(h=0;h<d;h++){var j=c[h];a.push({fnId:j,fn:f[j],args:b[h]})}b=[];c=[];d=a.length;for(f=0;f<d;f++)"save"===a[f].fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-
1].items):"restore"===a[f].fn?b=c.pop():b.push(a[f]);return b},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,f=a[c].args;switch(a[c].fnId|0){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(f);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case g.OPS.setFont:this.setFont(f);break;case g.OPS.showText:this.showText(f[0]);break;case g.OPS.showSpacedText:this.showText(f[0]);break;case g.OPS.endText:this.endText();
break;case g.OPS.moveText:this.moveText(f[0],f[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case g.OPS.setHScale:this.setHScale(f[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.setTextRise:this.setTextRise(f[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case g.OPS.setLineWidth:this.setLineWidth(f[0]);break;case g.OPS.setLineJoin:this.setLineJoin(f[0]);
break;case g.OPS.setLineCap:this.setLineCap(f[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case g.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case g.OPS.setFillColorN:this.setFillColorN(f);break;case g.OPS.shadingFill:this.shadingFill(f[0]);break;case g.OPS.setDash:this.setDash(f[0],f[1]);break;case g.OPS.setGState:this.setGState(f[0]);
break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case g.OPS.paintImageXObject:this.paintImageXObject(f[0]);
break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;
case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.constructPath:this.constructPath(f[0],f[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:(0,g.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(b,c,d,
f,g,h){var j=this.current;this.current.textMatrix=this.current.lineMatrix=[b,c,d,f,g,h];j.textMatrixScale=Math.sqrt(b*b+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;j.xcoords=[];j.tspan=this.svgFactory.createElement("svg:tspan");j.tspan.setAttributeNS(null,"font-family",j.fontFamily);j.tspan.setAttributeNS(null,"font-size",a(j.fontSize)+"px");j.tspan.setAttributeNS(null,"y",a(-j.y));j.txtElement=this.svgFactory.createElement("svg:text");j.txtElement.appendChild(j.tspan)},
beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=g.IDENTITY_MATRIX;this.current.lineMatrix=g.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(b,c){var d=this.current;this.current.x=this.current.lineX+=b;this.current.y=
this.current.lineY+=c;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",a(-d.y))},showText:function(c){var d=this.current,f=d.font,h=d.fontSize;if(0!==h){var j=d.charSpacing,q=d.wordSpacing,o=d.fontDirection,r=d.textHScale*o,s=c.length,t=f.vertical,w=h*d.fontMatrix[0],v=0,z;for(z=0;z<s;++z){var D=c[z];if(null===D)v+=o*q;else if((0,g.isNum)(D))v+=
0.001*-D*h;else{var H=D.fontChar,A=D.width*w+((D.isSpace?q:0)+j)*o;if(D.isInFont||f.missingFile)d.xcoords.push(d.x+v*r),d.tspan.textContent+=H;v+=A}}t?d.y-=v*r:d.x+=v*r;d.tspan.setAttributeNS(null,"x",d.xcoords.map(a).join(" "));d.tspan.setAttributeNS(null,"y",a(-d.y));d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle);d.fontWeight!==i&&d.tspan.setAttributeNS(null,
"font-weight",d.fontWeight);c=d.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;c===g.TextRenderingMode.FILL||c===g.TextRenderingMode.FILL_STROKE?(d.fillColor!==l&&d.tspan.setAttributeNS(null,"fill",d.fillColor),1>d.fillAlpha&&d.tspan.setAttributeNS(null,"fill-opacity",d.fillAlpha)):d.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?d.tspan.setAttributeNS(null,"fill","transparent"):d.tspan.setAttributeNS(null,"fill","none");if(c===g.TextRenderingMode.STROKE||c===g.TextRenderingMode.FILL_STROKE)this._setStrokeAttributes(d.tspan,
1/(d.textMatrixScale||1));c=d.textMatrix;0!==d.textRise&&(c=c.slice(),c[5]+=d.textRise);d.txtElement.setAttributeNS(null,"transform",b(c)+" scale(1, -1)");d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");d.txtElement.appendChild(d.tspan);d.txtgrp.appendChild(d.txtElement);this._ensureTransformGroup().appendChild(d.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),
this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,g.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(b){var c=this.current,d=this.commonObjs.get(b[0]),b=b[1];this.current.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);c.fontMatrix=d.fontMatrix?d.fontMatrix:
g.FONT_IDENTITY_MATRIX;var f=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",h=d.italic?"italic":"normal";0>b?(b=-b,c.fontDirection=-1):c.fontDirection=1;c.fontSize=b;c.fontFamily=d.loadedName;c.fontWeight=f;c.fontStyle=h;c.tspan=this.svgFactory.createElement("svg:tspan");c.tspan.setAttributeNS(null,"y",a(-c.y));c.xcoords=[]},endText:function(){var a=this.current;a.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&(a.txtElement&&a.txtElement.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),
this.endPath())},setLineWidth:function(a){0<a&&(this.current.lineWidth=a)},setLineCap:function(a){this.current.lineCap=r[a]},setLineJoin:function(a){this.current.lineJoin=h[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){this.current.strokeColor=g.Util.makeCssRgb(a,b,c)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){this.current.fillColor=g.Util.makeCssRgb(a,b,c);
this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setStrokeColorN:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)},setFillColorN:function(a){this.current.fillColor=this._makeColorN_Pattern(a)},shadingFill:function(a){var b=this.viewport,c=b.width,d=b.height,f=g.Util.inverseTransform(this.transformMatrix),b=g.Util.applyTransform([0,0],f),h=g.Util.applyTransform([0,d],f),j=g.Util.applyTransform([c,0],f),i=g.Util.applyTransform([c,d],f),c=Math.min(b[0],
h[0],j[0],i[0]),d=Math.min(b[1],h[1],j[1],i[1]),f=Math.max(b[0],h[0],j[0],i[0]),b=Math.max(b[1],h[1],j[1],i[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",c);h.setAttributeNS(null,"y",d);h.setAttributeNS(null,"width",f-c);h.setAttributeNS(null,"height",b-d);h.setAttributeNS(null,"fill",this._makeShadingPattern(a));this._ensureTransformGroup().appendChild(h)},_makeColorN_Pattern:function(a){return"TilingPattern"===a[0]?((0,g.warn)("Unimplemented: TilingPattern"),null):this._makeShadingPattern(a)},
_makeShadingPattern:function(a){switch(a[0]){case "RadialAxial":var b="shading"+j++,c=a[2];switch(a[1]){case "axial":var d=a[3],f=a[4],a=this.svgFactory.createElement("svg:linearGradient");a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"x1",d[0]);a.setAttributeNS(null,"y1",d[1]);a.setAttributeNS(null,"x2",f[0]);a.setAttributeNS(null,"y2",f[1]);break;case "radial":var d=a[3],f=a[4],h=a[5],i=a[6],a=this.svgFactory.createElement("svg:radialGradient");
a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"cx",f[0]);a.setAttributeNS(null,"cy",f[1]);a.setAttributeNS(null,"r",i);a.setAttributeNS(null,"fx",d[0]);a.setAttributeNS(null,"fy",d[1]);a.setAttributeNS(null,"fr",h);break;default:throw Error("Unknown RadialAxial type: "+a[1]);}d=0;for(f=c.length;d<f;++d)h=c[d],i=this.svgFactory.createElement("svg:stop"),i.setAttributeNS(null,"offset",h[0]),i.setAttributeNS(null,"stop-color",h[1]),a.appendChild(i);
this.defs.appendChild(a);return"url(#"+b+")";case "Mesh":return(0,g.warn)("Unimplemented: Mesh"),null;case "Dummy":return"hotpink";default:throw Error("Unknown IR type: "+a[0]);}},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(b,c){for(var d=this.current,f=d.x,h=d.y,j=[],i=b.length,l=0,o=0;l<i;l++)switch(b[l]|0){case g.OPS.rectangle:var f=c[o++],h=c[o++],r=c[o++],s=c[o++],r=f+r,s=h+s;j.push("M",a(f),a(h),"L",a(r),a(h),"L",a(r),a(s),"L",a(f),a(s),"Z");
break;case g.OPS.moveTo:f=c[o++];h=c[o++];j.push("M",a(f),a(h));break;case g.OPS.lineTo:f=c[o++];h=c[o++];j.push("L",a(f),a(h));break;case g.OPS.curveTo:f=c[o+4];h=c[o+5];j.push("C",a(c[o]),a(c[o+1]),a(c[o+2]),a(c[o+3]),a(f),a(h));o+=6;break;case g.OPS.curveTo2:f=c[o+2];h=c[o+3];j.push("C",a(f),a(h),a(c[o]),a(c[o+1]),a(c[o+2]),a(c[o+3]));o+=4;break;case g.OPS.curveTo3:f=c[o+2];h=c[o+3];j.push("C",a(c[o]),a(c[o+1]),a(f),a(h),a(f),a(h));o+=4;break;case g.OPS.closePath:j.push("Z")}j=j.join(" ");d.path&&
0<i&&b[0]!==g.OPS.rectangle&&b[0]!==g.OPS.moveTo?j=d.path.getAttributeNS(null,"d")+j:(d.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(d.path));d.path.setAttributeNS(null,"d",j);d.path.setAttributeNS(null,"fill","none");d.element=d.path;d.setCurrentPoint(f,h)},endPath:function(){this.current.path=null;if(this.pendingClip){var a=this.current,c="clippath"+f;f++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",c);d.setAttributeNS(null,
"transform",b(this.transformMatrix));var g=a.element.cloneNode(!0);"evenodd"===this.pendingClip?g.setAttributeNS(null,"clip-rule","evenodd"):g.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;d.appendChild(g);this.defs.appendChild(d);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),d.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#"+c+")";this.tgrp=null}},clip:function(a){this.pendingClip=a},closePath:function(){var a=
this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],f=d[0],d=d[1];switch(f){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);break;case "LJ":this.setLineJoin(d);
break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "Font":this.setFont(d);break;case "CA":this.setStrokeAlpha(d);break;case "ca":this.setFillAlpha(d);break;default:(0,g.warn)("Unimplemented graphic state "+f)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())},stroke:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),
a.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,d=this.current,f=d.dashArray;1!==c&&0<f.length&&(f=f.map(function(a){return c*a}));b.setAttributeNS(null,"stroke",d.strokeColor);b.setAttributeNS(null,"stroke-opacity",d.strokeAlpha);b.setAttributeNS(null,"stroke-miterlimit",a(d.miterLimit));b.setAttributeNS(null,"stroke-linecap",d.lineCap);b.setAttributeNS(null,"stroke-linejoin",d.lineJoin);
b.setAttributeNS(null,"stroke-width",a(c*d.lineWidth)+"px");b.setAttributeNS(null,"stroke-dasharray",f.map(a).join(" "));b.setAttributeNS(null,"stroke-dashoffset",a(c*d.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();
this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.closePath();this.eoFillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(b,c,d){var b=
this.objs.get(b),f=this.svgFactory.createElement("svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.src);f.setAttributeNS(null,"width",a(c));f.setAttributeNS(null,"height",a(d));f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",a(-d));f.setAttributeNS(null,"transform","scale("+a(1/c)+" "+a(-1/d)+")");this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},
paintInlineImageXObject:function(b,c){var d=b.width,f=b.height,g=w(b,this.forceDataSchema,!!c),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",a(d));h.setAttributeNS(null,"height",a(f));this.current.element=h;this.clip("nonzero");h=this.svgFactory.createElement("svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",a(-f));h.setAttributeNS(null,
"width",a(d)+"px");h.setAttributeNS(null,"height",a(f)+"px");h.setAttributeNS(null,"transform","scale("+a(1/d)+" "+a(-1/f)+")");c?c.appendChild(h):this._ensureTransformGroup().appendChild(h)},paintImageMaskXObject:function(b){var d=this.current,f=b.width,g=b.height,h=d.fillColor;d.maskId="mask"+c++;var j=this.svgFactory.createElement("svg:mask");j.setAttributeNS(null,"id",d.maskId);var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y","0");i.setAttributeNS(null,
"width",a(f));i.setAttributeNS(null,"height",a(g));i.setAttributeNS(null,"fill",h);i.setAttributeNS(null,"mask","url(#"+d.maskId+")");this.defs.appendChild(j);this._ensureTransformGroup().appendChild(i);this.paintInlineImageXObject(b,j)},paintFormXObjectBegin:function(b,c){Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);if(c){var d=c[2]-c[0],f=c[3]-c[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",c[0]);g.setAttributeNS(null,"y",c[1]);g.setAttributeNS(null,
"width",a(d));g.setAttributeNS(null,"height",a(f));this.current.element=g;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var c=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");c.appendChild(d);this.defs=d;d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"transform",b(a.transform));c.appendChild(d);this.svg=d;return c},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");
a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return d}()},function(d,b,a){function i(a){i="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b){if(b&&("object"===i(b)||"function"===typeof b))return b;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function g(a){g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return g(a)}function o(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&r(a,b)}function r(a,b){r=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return r(a,b)}function w(a,b,c,d,e,f,g){try{var h=a[f](g),j=h.value}catch(k){c(k);return}h.done?b(j):Promise.resolve(j).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,
e){function f(a){w(h,d,e,f,g,"next",a)}function g(a){w(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}function t(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,
path:a.path,method:"GET",headers:b}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNodeStream=void 0;var h=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),f=a(1),c=a(166),j=require("fs"),e=require("http"),k=require("https"),p=require("url"),u=/^file:\/\/\/[a-zA-Z]:\//,d=function(){function a(b){m(this,a);this.source=b;var c;c=b.url;var d=p.parse(c);"file:"===d.protocol||d.host?c=d:/^[a-z]:[/\\]/i.test(c)?c=p.parse("file:///".concat(c)):(d.host||(d.protocol="file:"),c=d);this.url=
c;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&b.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}v(a,[{key:"getFullReader",value:function(){(0,f.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new y(this):new n(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new E(this,a,b):new q(this,a,b);this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",
value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}();b.PDFNodeStream=d;var b=function(){function a(b){m(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;b=b.source;this._contentLength=b.length;this._loaded=0;this._filename=null;this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=
!b.disableStream;this._isRangeSupported=!b.disableRange;this._readableStream=null;this._readCapability=(0,f.createPromiseCapability)();this._headersCapability=(0,f.createPromiseCapability)()}v(a,[{key:"read",value:function(){var a=s(h["default"].mark(function B(){var a,b;return h["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){c.next=
6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,f.createPromiseCapability)();return c.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?
this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled"));this._storedError&&
this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),d=function(){function a(b){m(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=
null;this._loaded=0;this._readableStream=null;this._readCapability=(0,f.createPromiseCapability)();this._isStreamingSupported=!b.source.disableStream}v(a,[{key:"read",value:function(){var a=s(h["default"].mark(function B(){var a,b;return h["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){c.next=6;break}throw this._storedError;
case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,f.createPromiseCapability)();return c.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):
this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);
return a}(),n=function(a){function b(a){var d;m(this,b);d=l(this,g(b).call(this,a));var h=function(b){if(404===b.statusCode)b=new f.MissingPDFException('Missing PDF "'.concat(d._url,'".')),d._storedError=b,d._headersCapability.reject(b);else{d._headersCapability.resolve();d._setReadableStream(b);var b=function(a){return d._readableStream.headers[a.toLowerCase()]},e=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),
g=e.suggestedLength;d._isRangeSupported=e.allowRangeRequests;d._contentLength=g||d._contentLength;d._filename=(0,c.extractFilenameFromHeader)(b)}};d._request=null;d._request="http:"===d._url.protocol?e.request(t(d._url,a.httpHeaders),h):k.request(t(d._url,a.httpHeaders),h);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}o(b,a);return b}(b),q=function(a){function b(a,c,d){var h;m(this,b);h=l(this,g(b).call(this,a));h._httpHeaders={};for(var j in a.httpHeaders){var i=
a.httpHeaders[j];"undefined"!==typeof i&&(h._httpHeaders[j]=i)}h._httpHeaders.Range="bytes=".concat(c,"-").concat(d-1);a=function(a){404===a.statusCode?(a=new f.MissingPDFException('Missing PDF "'.concat(h._url,'".')),h._storedError=a):h._setReadableStream(a)};h._request=null;h._request="http:"===h._url.protocol?e.request(t(h._url,h._httpHeaders),a):k.request(t(h._url,h._httpHeaders),a);h._request.on("error",function(a){h._storedError=a});h._request.end();return h}o(b,a);return b}(d),y=function(a){function b(a){var c;
m(this,b);c=l(this,g(b).call(this,a));var d=decodeURIComponent(c._url.path);u.test(c._url.href)&&(d=d.replace(/^\//,""));j.lstat(d,function(a,b){a?("ENOENT"===a.code&&(a=new f.MissingPDFException('Missing PDF "'.concat(d,'".'))),c._storedError=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(j.createReadStream(d)),c._headersCapability.resolve())});return c}o(b,a);return b}(b),E=function(a){function b(a,c,d){m(this,b);var a=l(this,g(b).call(this,a)),e=decodeURIComponent(a._url.path);
u.test(a._url.href)&&(e=e.replace(/^\//,""));a._setReadableStream(j.createReadStream(e,{start:c,end:d-1}));return a}o(b,a);return b}(d)},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.createResponseStatusError=function(a,b){return 404===a||0===a&&/^file:/.test(b)?new i.MissingPDFException('Missing PDF "'+b+'".'):new i.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)};b.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition"))if(a=
(0,l.getFilenameFromContentDispositionHeader)(a),/\.pdf$/i.test(a))return a;return null};b.validateRangeRequestCapabilities=function(a){var b=a.getResponseHeader,d=a.isHttp,l=a.rangeChunkSize,a=a.disableRange;(0,i.assert)(0<l,"Range chunk size must be larger than zero");var s={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(b("Content-Length"),10);if(!Number.isInteger(m))return s;s.suggestedLength=m;if(m<=2*l||(a||!d)||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity"))return s;
s.allowRangeRequests=!0;return s};b.validateResponseStatus=function(a){return 200===a||206===a};var i=a(1),l=a(167)},function(d,b){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function i(a,b){var d=[],i=!0,l=!1,m=void 0;try{for(var x=a[Symbol.iterator](),v;!(i=(v=x.next()).done)&&!(d.push(v.value),b&&d.length===b);i=!0);}catch(t){l=!0,m=t}finally{try{if(!i&&null!=x["return"])x["return"]()}finally{if(l)throw m;}}return d}function l(a){if(Array.isArray(a))return a}
Object.defineProperty(b,"__esModule",{value:!0});b.getFilenameFromContentDispositionHeader=function(b){function d(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(a,b){if(a){if(!/^[\x00-\xFF]+$/.test(b))return b;try{var c=new TextDecoder(a,{fatal:!0}),d=Array.from(b,function(a){return a.charCodeAt(0)&255}),b=c.decode(new Uint8Array(d));v=!1}catch(e){if(/^utf-?8$/i.test(a))try{b=decodeURIComponent(escape(b)),v=!1}catch(g){}}}return b}function w(a){v&&
/[\x80-\xff]/.test(a)&&(a=r("utf-8",a),v&&(a=r("iso-8859-1",a)));return a}function s(a){if(a.startsWith('"')){for(var a=a.slice(1).split('\\"'),b=0;b<a.length;++b){var c=a[b].indexOf('"');-1!==c&&(a[b]=a[b].slice(0,c),a.length=b+1);a[b]=a[b].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function m(a){var b=a.indexOf("'");if(-1===b)return a;var c=a.slice(0,b),a=a.slice(b+1).replace(/^[^']*'/,"");return r(c,a)}function x(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,
function(a,b,d,e){if("q"===d||"Q"===d)return e=e.replace(/_/g," "),e=e.replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}),r(b,e);try{e=atob(e)}catch(g){}return r(b,e)})}var v=!0,t=d("filename\\*","i").exec(b);return t?(t=t[1],b=s(t),b=unescape(b),b=m(b),b=x(b),w(b)):(t=function(b){for(var f=[],c,g=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(c=g.exec(b));){var e=l(c)||i(c,4)||a();c=e[1];var k=e[2],e=e[3];c=parseInt(c,10);if(c in f){if(0===c)break}else f[c]=
[k,e]}b=[];for(c=0;c<f.length&&c in f;++c)g=l(f[c])||i(f[c],2)||a(),k=g[0],e=g[1],e=s(e),k&&(e=unescape(e),0===c&&(e=m(e))),b.push(e);return b.join("")}(b))?(b=x(t),w(b)):(t=d("filename","i").exec(b))?(t=t[1],b=s(t),b=x(b),w(b)):""}},function(d,b,a){function i(a){return a&&a.__esModule?a:{"default":a}}function l(a,b,d,f,g,h,i){try{var l=a[h](i),m=l.value}catch(o){d(o);return}l.done?b(m):Promise.resolve(m).then(f,g)}function g(a){return function(){var b=this,d=arguments;return new Promise(function(f,
g){function h(a){l(m,f,g,h,i,"next",a)}function i(a){l(m,f,g,h,i,"throw",a)}var m=a.apply(b,d);h(void 0)})}}function o(a,b){this.url=a;b=b||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&b.httpHeaders||{};this.withCredentials=b.withCredentials||!1;this.getXhr=b.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function r(a){a=a.response;return"string"!==typeof a?a:(0,v.stringToBytes)(a).buffer}function w(a){this._source=
a;this._manager=new o(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}function s(a,b){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url;this._fullRequestId=a.requestFull(d);
this._headersReceivedCapability=(0,v.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._contentLength=b.length;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}function m(a,b,d){this._manager=a;var f={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};
this._requestId=a.requestRange(b,d,f);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNetworkStream=w;b.NetworkManager=o;var x=i(a(148)),v=a(1),t=a(166),h=i(a(3)),f=function(){try{var a=new XMLHttpRequest;a.open("GET",h["default"].location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();o.prototype={requestRange:function(a,b,d){var a=
{begin:a,end:b},f;for(f in d)a[f]=d[f];return this.request(a)},requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),d=this.currXhrId++,g=this.pendingRequests[d]={xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var h in this.httpHeaders){var i=this.httpHeaders[h];"undefined"!==typeof i&&b.setRequestHeader(h,i)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),g.expectedStatus=206):g.expectedStatus=
200;f&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",g.onProgressiveData=a.onProgressiveData,g.mozChunked=!0):b.responseType="arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});b.onreadystatechange=this.onStateChange.bind(this,d);b.onprogress=this.onProgress.bind(this,d);g.onHeadersReceived=a.onHeadersReceived;g.onDone=a.onDone;g.onError=a.onError;g.onProgress=a.onProgress;b.send(null);return d},onProgress:function(a,b){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var f=
r(d.xhr);d.onProgressiveData(f)}(d=d.onProgress)&&d(b)}},onStateChange:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else{var f=d.status||200;if(!(200===f&&206===b.expectedStatus)&&f!==b.expectedStatus){if(b.onError)b.onError(d.status)}else if(this.loadedRequests[a]=
!0,a=r(d),206===f)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),d=parseInt(d[1],10),b.onDone({begin:d,chunk:a});else if(b.onProgressiveData)b.onDone(null);else if(a)b.onDone({begin:0,chunk:a});else if(b.onError)b.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in
this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}};w.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,v.assert)(!this._fullRequestReader);return this._fullRequestReader=
new s(this._manager,this._source)},getRangeReader:function(a,b){var d=new m(this._manager,a,b);d.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(d);return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}};s.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),d=function(a){return b.getResponseHeader(a)},
f=(0,t.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=f.suggestedLength;f.allowRangeRequests&&(this._isRangeSupported=!0);this._contentLength=g||this._contentLength;this._filename=(0,t.extractFilenameFromHeader)(d);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<
this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,d=(0,t.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=
[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var a=g(x["default"].mark(function e(){var a,b;return x["default"].wrap(function(c){for(;;)switch(c.prev=
c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=7;break}return c.abrupt("return",{value:void 0,done:!0});case 7:return b=(0,v.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 10:case "end":return c.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(a){this._done=
!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};m.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){var a=g(x["default"].mark(function e(){var a,b;return x["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",
{value:void 0,done:!0});case 6:return b=(0,v.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}}},function(d,b,a){function i(a,b,c,d,e,g,i){try{var l=
a[g](i),m=l.value}catch(o){c(o);return}l.done?b(m):Promise.resolve(m).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function g(a){i(m,d,e,g,l,"next",a)}function l(a){i(m,d,e,g,l,"throw",a)}var m=a.apply(b,c);g(void 0)})}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function o(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}function r(a,b,c){b&&o(a.prototype,b);c&&o(a,c);return a}function w(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFFetchStream=void 0;var s=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),m=a(1),x=a(166),d=function(){function a(b){g(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=
null;this._rangeRequestReaders=[]}r(a,[{key:"getFullReader",value:function(){(0,m.assert)(!this._fullRequestReader);return this._fullRequestReader=new v(this)}},{key:"getRangeReader",value:function(a,b){var d=new t(this,a,b);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}();b.PDFFetchStream=d;var v=function(){function a(b){var c=
this;g(this,a);this._stream=b;this._reader=null;this._loaded=0;this._filename=null;b=b.source;this._withCredentials=b.withCredentials;this._contentLength=b.length;this._headersCapability=(0,m.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=
!b.disableRange;this._headers=new Headers;for(var d in this._stream.httpHeaders){var e=this._stream.httpHeaders[d];"undefined"!==typeof e&&this._headers.append(d,e)}var i=b.url;fetch(i,w(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,i);c._reader=a.body.getReader();c._headersCapability.resolve();var b=function(b){return a.headers.get(b)},d=(0,x.validateRangeRequestCapabilities)({getResponseHeader:b,
isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=d.suggestedLength;c._isRangeSupported=d.allowRangeRequests;c._contentLength=e||c._contentLength;c._filename=(0,x.extractFilenameFromHeader)(b);!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new m.AbortException("streaming is disabled"))})["catch"](this._headersCapability.reject);this.onProgress=null}r(a,[{key:"read",value:function(){var a=l(s["default"].mark(function j(){var a,b,d,f;return s["default"].wrap(function(g){for(;;)switch(g.prev=
g.next){case 0:return g.next=2,this._headersCapability.promise;case 2:return g.next=4,this._reader.read();case 4:a=g.sent;b=a.value;d=a.done;if(!d){g.next=9;break}return g.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});f=(new Uint8Array(b)).buffer;return g.abrupt("return",{value:f,done:!1});case 13:case "end":return g.stop()}},j,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",
value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),t=function(){function a(b,c,d){var e=
this;g(this,a);this._stream=b;this._reader=null;this._loaded=0;b=b.source;this._withCredentials=b.withCredentials;this._readCapability=(0,m.createPromiseCapability)();this._isStreamingSupported=!b.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var i in this._stream.httpHeaders){var l=this._stream.httpHeaders[i];"undefined"!==typeof l&&this._headers.append(i,l)}this._headers.append("Range","bytes="+(c+"-"+(d-1)));var o=
b.url;fetch(o,w(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,o);e._readCapability.resolve();e._reader=a.body.getReader()});this.onProgress=null}r(a,[{key:"read",value:function(){var a=l(s["default"].mark(function j(){var a,b,d,f;return s["default"].wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._readCapability.promise;case 2:return g.next=4,this._reader.read();
case 4:a=g.sent;b=a.value;d=a.done;if(!d){g.next=9;break}return g.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});f=(new Uint8Array(b)).buffer;return g.abrupt("return",{value:f,done:!1});case 13:case "end":return g.stop()}},j,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",
get:function(){return this._isStreamingSupported}}]);return a}()}])});
