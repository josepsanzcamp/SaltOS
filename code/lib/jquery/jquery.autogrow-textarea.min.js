(function(c){c.fn.autogrow=function(p){return this.filter("textarea").each(function(){var g=this,a=c(g),h=a.height(),k=a.hasClass("autogrow-short")?0:parseInt(a.css("lineHeight"))||0,d=c.extend({preGrowCallback:null,postGrowCallback:null},p),e=c("<div></div>").css({position:"absolute",top:-1E4,left:-1E4,width:a.width(),fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),lineHeight:a.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(".ui-layout-center"),
f=function(b){var n=g.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&#xa0;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(q){for(var l=0,m="";l<q.length-1;l++)m+="&#xa0;";return m+" "});b&&b.data&&"keydown"===b.data.event&&13===b.keyCode&&(n+="<br />");e.css("width",a.width());e.html(n+(0===k?"...":""));b=Math.max(e.height()+k,h);null!=d.preGrowCallback&&(b=d.preGrowCallback(a,e,b,h));a.height(b);null!=d.postGrowCallback&&d.postGrowCallback(a)};a.change(f).keyup(f).keydown({event:"keydown"},
f);f()})}})(jQuery);
