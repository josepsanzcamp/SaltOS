(function(c){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],c):"object"===typeof exports?c(require("jquery"),require("./jquery.fileupload")):c(window.jQuery)})(function(c){var i=c.blueimp.fileupload.prototype.options.add;c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{processQueue:[],add:function(b,a){var d=c(this);a.process(function(){return d.fileupload("process",a)});i.call(this,b,a)}},processActions:{},_processFile:function(b,a){var d=this,e=c.Deferred().resolveWith(d,
[b]).promise();this._trigger("process",null,b);c.each(b.processQueue,function(b,f){var h=function(b){return a.errorThrown?c.Deferred().rejectWith(d,[a]).promise():d.processActions[f.action].call(d,b,f)};e=e.then(h,f.always&&h)});e.done(function(){d._trigger("processdone",null,b);d._trigger("processalways",null,b)}).fail(function(){d._trigger("processfail",null,b);d._trigger("processalways",null,b)});return e},_transformProcessQueue:function(b){var a=[];c.each(b.processQueue,function(){var d={},e=
this.action,g=!0===this.prefix?e:this.prefix;c.each(this,function(a,e){d[a]="string"===c.type(e)&&"@"===e.charAt(0)?b[e.slice(1)||(g?g+a.charAt(0).toUpperCase()+a.slice(1):a)]:e});a.push(d)});b.processQueue=a},processing:function(){return this._processing},process:function(b){var a=this,d=c.extend({},this.options,b);d.processQueue&&d.processQueue.length&&(this._transformProcessQueue(d),0===this._processing&&this._trigger("processstart"),c.each(b.files,function(e){var g=e?c.extend({},d):d,f=function(){return b.errorThrown?
c.Deferred().rejectWith(a,[b]).promise():a._processFile(g,b)};g.index=e;a._processing+=1;a._processingQueue=a._processingQueue.then(f,f).always(function(){a._processing-=1;0===a._processing&&a._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=c.Deferred().resolveWith(this).promise()}})});
